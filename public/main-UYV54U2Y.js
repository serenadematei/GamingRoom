var oM=Object.defineProperty,aM=Object.defineProperties;var cM=Object.getOwnPropertyDescriptors;var Yc=Object.getOwnPropertySymbols,uM=Object.getPrototypeOf,Ww=Object.prototype.hasOwnProperty,Kw=Object.prototype.propertyIsEnumerable,lM=Reflect.get;var Gw=(t,e,n)=>e in t?oM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})Ww.call(e,n)&&Gw(t,n,e[n]);if(Yc)for(var n of Yc(e))Kw.call(e,n)&&Gw(t,n,e[n]);return t},Ie=(t,e)=>aM(t,cM(e));var Qw=(t,e)=>{var n={};for(var r in t)Ww.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Yc)for(var r of Yc(t))e.indexOf(r)<0&&Kw.call(t,r)&&(n[r]=t[r]);return n};var vr=(t,e,n)=>lM(uM(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var Yw=null;var tf=1,nf=Symbol("SIGNAL");function we(t){let e=Yw;return Yw=t,e}var Jw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function dM(t){if(!(of(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tf)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=tf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=tf}}function Zw(t){return t&&(t.nextProducerIndex=0),we(t)}function Xw(t,e){if(we(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(of(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)sf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){Jc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(dM(n),r!==n.version))return!0}return!1}function eE(t){if(Jc(t),of(t))for(let e=0;e<t.producerNode.length;e++)sf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function sf(t,e){if(hM(t),Jc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)sf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Jc(i),i.producerIndexOfThis[r]=e}}function of(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Jc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function hM(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function fM(){throw new Error}var pM=fM;function tE(t){pM=t}function te(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zc=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function si(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof Zc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{nE(s)}catch(o){e=e??[],o instanceof Zc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)nE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&si(n,e)}remove(e){let{_finalizers:n}=this;n&&si(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var af=Ve.EMPTY;function Xc(t){return t instanceof Ve||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function nE(t){te(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function eu(t){cs.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function Zo(){}var rE=cf("C",void 0,void 0);function iE(t){return cf("E",void 0,t)}function sE(t){return cf("N",t,void 0)}function cf(t,e,n){return{kind:t,value:e,error:n}}var oi=null;function us(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!oi;if(e&&(oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=oi;if(oi=null,n)throw r}}else t()}function oE(t){sn.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}var ai=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xc(e)&&e.add(this)):this.destination=yM}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?lf(sE(e),this):this._next(e)}error(e){this.isStopped?lf(iE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?lf(rE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},mM=Function.prototype.bind;function uf(t,e){return mM.call(t,e)}var df=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){tu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){tu(r)}else tu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){tu(n)}}},ls=class extends ai{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&uf(e.next,s),error:e.error&&uf(e.error,s),complete:e.complete&&uf(e.complete,s)}):i=e}this.destination=new df(i)}};function tu(t){sn.useDeprecatedSynchronousErrorHandling?oE(t):eu(t)}function gM(t){throw t}function lf(t,e){let{onStoppedNotification:n}=sn;n&&cs.setTimeout(()=>n(t,e))}var yM={closed:!0,next:Zo,error:gM,complete:Zo};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function hf(...t){return ff(t)}function ff(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=_M(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=aE(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return ff(n)(this)}toPromise(n){return n=aE(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function aE(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function vM(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function _M(t){return t&&t instanceof ai||vM(t)&&Xc(t)}function pf(t){return te(t?.lift)}function ge(t){return e=>{if(pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new mf(t,e,n,r,i)}var mf=class extends ai{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return ge((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return hs()(this)}};var cE=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var lt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new nu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new cE}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?af:(this.currentObservers=null,s.push(n),new Ve(()=>{this.currentObservers=null,si(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new nu(e,n),t})(),nu=class extends lt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:af}};var ze=class extends lt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var ru=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var Xo={setInterval(t,e,...n){let{delegate:r}=Xo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Xo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends ru{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Xo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Xo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ms.now=gf.now;var gs=class extends ms{constructor(e,n=ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var yf=new gs(ps);var iu=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var su=class extends gs{};var vf=new su(iu);var Ft=new me(t=>t.complete());function uE(t){return t&&te(t.schedule)}function lE(t){return t[t.length-1]}function ou(t){return te(lE(t))?t.pop():void 0}function _r(t){return uE(lE(t))?t.pop():void 0}function _f(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function hE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function dE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function fE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(g){r[g]&&(i[g]=function(w){return new Promise(function(C,M){s.push([g,w,C,M])>1||a(g,w)})})}function a(g,w){try{u(r[g](w))}catch(C){p(s[0][3],C)}}function u(g){g.value instanceof ci?Promise.resolve(g.value.v).then(l,h):p(s[0][2],g)}function l(g){a("next",g)}function h(g){a("throw",g)}function p(g,w){g(w),s.shift(),s.length&&a(s[0][0],s[0][1])}}function pE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof dE=="function"?dE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var au=t=>t&&typeof t.length=="number"&&typeof t!="function";function cu(t){return te(t?.then)}function uu(t){return te(t[ds])}function lu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function du(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function wM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hu=wM();function fu(t){return te(t?.[hu])}function pu(t){return fE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function mu(t){return te(t?.getReader)}function je(t){if(t instanceof me)return t;if(t!=null){if(uu(t))return EM(t);if(au(t))return IM(t);if(cu(t))return DM(t);if(lu(t))return mE(t);if(fu(t))return bM(t);if(mu(t))return TM(t)}throw du(t)}function EM(t){return new me(e=>{let n=t[ds]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function IM(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function DM(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,eu)})}function bM(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function mE(t){return new me(e=>{CM(t,e).catch(n=>e.error(n))})}function TM(t){return mE(pu(t))}function CM(t,e){var n,r,i,s;return hE(this,void 0,void 0,function*(){try{for(n=pE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function At(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wr(t,e=0){return ge((n,r)=>{n.subscribe(ue(r,i=>At(r,t,()=>r.next(i),e),()=>At(r,t,()=>r.complete(),e),i=>At(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function gE(t,e){return je(t).pipe(Er(e),wr(e))}function yE(t,e){return je(t).pipe(Er(e),wr(e))}function vE(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function _E(t,e){return new me(n=>{let r;return At(n,e,()=>{r=t[hu](),At(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function gu(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{At(n,e,()=>{let r=t[Symbol.asyncIterator]();At(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function wE(t,e){return gu(pu(t),e)}function EE(t,e){if(t!=null){if(uu(t))return gE(t,e);if(au(t))return vE(t,e);if(cu(t))return yE(t,e);if(lu(t))return gu(t,e);if(fu(t))return _E(t,e);if(mu(t))return wE(t,e)}throw du(t)}function Pe(t,e){return e?EE(t,e):je(t)}function Z(...t){let e=_r(t);return Pe(t,e)}function ys(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function wf(t){return!!t&&(t instanceof me||te(t.lift)&&te(t.subscribe))}var Hn=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:SM}=Array;function AM(t,e){return SM(e)?t(...e):t(e)}function yu(t){return le(e=>AM(t,e))}var{isArray:MM}=Array,{getPrototypeOf:RM,prototype:NM,keys:PM}=Object;function vu(t){if(t.length===1){let e=t[0];if(MM(e))return{args:e,keys:null};if(xM(e)){let n=PM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function xM(t){return t&&typeof t=="object"&&RM(t)===NM}function _u(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ea(...t){let e=_r(t),n=ou(t),{args:r,keys:i}=vu(t);if(r.length===0)return Pe([],e);let s=new me(OM(r,e,i?o=>_u(i,o):kt));return n?s.pipe(yu(n)):s}function OM(t,e,n=kt){return r=>{IE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)IE(e,()=>{let l=Pe(t[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function IE(t,e,n){t?At(n,t,e):e()}function DE(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},w=M=>l<r?C(M):u.push(M),C=M=>{s&&e.next(M),l++;let R=!1;je(n(M,h++)).subscribe(ue(e,F=>{i?.(F),s?w(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?At(e,o,()=>C(F)):C(F)}g()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,w,()=>{p=!0,g()})),()=>{a?.()}}function Be(t,e,n=1/0){return te(e)?Be((r,i)=>le((s,o)=>e(r,s,i,o))(je(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>DE(r,i,t,n)))}function vs(t=1/0){return Be(kt,t)}function bE(){return vs(1)}function _s(...t){return bE()(Pe(t,_r(t)))}function wu(t){return new me(e=>{je(t()).subscribe(e)})}function Ef(...t){let e=ou(t),{args:n,keys:r}=vu(t),i=new me(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;je(n[h]).subscribe(ue(s,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?_u(r,a):a),s.complete())}))}});return e?i.pipe(yu(e)):i}function Wt(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ir(t){return ge((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=je(t(o,Ir(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function TE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ui(t,e){return te(e)?Be(t,e,1):Be(t,1)}function Dr(t){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function qn(t){return t<=0?()=>Ft:ge((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function If(t){return le(()=>t)}function Eu(t=kM){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function kM(){return new Hn}function ta(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):kt,qn(1),n?Dr(e):Eu(()=>new Hn))}function ws(t){return t<=0?()=>Ft:ge((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Df(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):kt,ws(1),n?Dr(e):Eu(()=>new Hn))}function bf(t,e){return ge(TE(t,e,arguments.length>=2,!0))}function Tf(...t){let e=_r(t);return ge((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function Kt(t,e){return ge((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;je(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Cf(t){return ge((e,n)=>{je(t).subscribe(ue(n,()=>n.complete(),Zo)),!n.closed&&e.subscribe(n)})}function Ge(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var lI="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(Mp(e,n)),this.code=e}};function Mp(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ha(t){return{toString:t}.toString()}var Iu="__parameters__";function FM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function dI(t,e,n){return ha(()=>{let r=FM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Iu)?u[Iu]:Object.defineProperty(u,Iu,{value:[]})[Iu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var li=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function LM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function CE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var VM=be({__forward_ref__:be});function Ls(t){return t.__forward_ref__=Ls,t.toString=function(){return Dt(this())},t}function It(t){return hI(t)?t():t}function hI(t){return typeof t=="function"&&t.hasOwnProperty(VM)&&t.__forward_ref__===Ls}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ju(t){return SE(t,pI)||SE(t,mI)}function fI(t){return Ju(t)!==null}function SE(t,e){return t.hasOwnProperty(e)?t[e]:null}function UM(t){let e=t&&(t[pI]||t[mI]);return e||null}function AE(t){return t&&(t.hasOwnProperty(ME)||t.hasOwnProperty(jM))?t[ME]:null}var pI=be({\u0275prov:be}),ME=be({\u0275inj:be}),mI=be({ngInjectableDef:be}),jM=be({ngInjectorDef:be}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gI(t){return t&&!!t.\u0275providers}var BM=be({\u0275cmp:be}),$M=be({\u0275dir:be}),HM=be({\u0275pipe:be}),qM=be({\u0275mod:be}),Nu=be({\u0275fac:be}),na=be({__NG_ELEMENT_ID__:be}),RE=be({__NG_ENV_ID__:be});function Zu(t){return typeof t=="string"?t:t==null?"":String(t)}function zM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zu(t)}function GM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function Rp(t,e){throw new P(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),$f;function yI(){return $f}function Qt(t){let e=$f;return $f=t,e}function vI(t,e,n){let r=Ju(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Rp(t,"Injector")}var WM={},ra=WM,Hf="__NG_DI_FLAG__",Pu="ngTempTokenPath",KM="ngTokenPath",QM=/\n/gm,YM="\u0275",NE="__source",Ts;function JM(){return Ts}function br(t){let e=Ts;return Ts=t,e}function ZM(t,e=se.Default){if(Ts===void 0)throw new P(-203,!1);return Ts===null?vI(t,void 0,e):Ts.get(t,e&se.Optional?null:void 0,e)}function G(t,e=se.Default){return(yI()||ZM)(It(t),e)}function k(t,e=se.Default){return G(t,Xu(e))}function Xu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function qf(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=XM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function _I(t,e){return t[Hf]=e,t.prototype[Hf]=e,t}function XM(t){return t[Hf]}function eR(t,e,n,r){let i=t[Pu];throw e[NE]&&i.unshift(e[NE]),t.message=tR(`
`+t.message,i,n,r),t[KM]=i,t[Pu]=null,t}function tR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YM?t.slice(2):t;let i=Dt(e);if(Array.isArray(e))i=e.map(Dt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Dt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QM,`
  `)}`}var pt=_I(dI("Optional"),8);var Np=_I(dI("SkipSelf"),4);function Ss(t,e){let n=t.hasOwnProperty(Nu);return n?t[Nu]:null}function Pp(t,e){t.forEach(n=>Array.isArray(n)?Pp(n,e):e(n))}function wI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function xu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function rR(t,e,n){let r=fa(t,e);return r>=0?t[r|1]=n:(r=~r,nR(t,r,e,n)),r}function Sf(t,e){let n=fa(t,e);if(n>=0)return t[n|1]}function fa(t,e){return iR(t,e,1)}function iR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var As={},Yt=[],Ms=new z(""),EI=new z("",-1),II=new z(""),Ou=class{get(e,n=ra){if(n===ra){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return n}},DI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(DI||{}),yn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(yn||{}),ht=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ht||{});function sR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function zf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];oR(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function bI(t){return t===3||t===4||t===6}function oR(t){return t.charCodeAt(0)===64}function ia(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?PE(t,n,i,null,e[++r]):PE(t,n,i,null,null))}}return t}function PE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var TI="ng-template";function aR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&sR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(xp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function xp(t){return t.type===4&&t.value!==TI}function cR(t,e,n){let r=t.type===4&&!n?TI:t.value;return e===r}function uR(t,e,n){let r=4,i=t.attrs,s=i!==null?hR(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!on(r)&&!on(u))return!1;if(o&&on(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!cR(t,u,n)||u===""&&e.length===1){if(on(r))return!1;o=!0}}else if(r&8){if(i===null||!aR(t,i,u,n)){if(on(r))return!1;o=!0}}else{let l=e[++a],h=lR(u,i,xp(t),n);if(h===-1){if(on(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;o=!0}}}}return on(r)||o}function on(t){return(t&1)===0}function lR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return fR(e,t)}function dR(t,e,n=!1){for(let r=0;r<e.length;r++)if(uR(t,e[r],n))return!0;return!1}function hR(t){for(let e=0;e<t.length;e++){let n=t[e];if(bI(n))return e}return t.length}function fR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xE(t,e){return t?":not("+e.trim()+")":e}function pR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!on(o)&&(e+=xE(s,i),i=""),r=o,s=s||!on(r);n++}return i!==""&&(e+=xE(s,i)),e}function mR(t){return t.map(pR).join(",")}function gR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!on(i))break;i=s}r++}return{attrs:e,classes:n}}function Rt(t){return ha(()=>{let e=RI(t),n=Ie(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===DI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||yn.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""});NI(n);let r=t.dependencies;return n.directiveDefs=kE(r,!1),n.pipeDefs=kE(r,!0),n.id=_R(n),n})}function yR(t){return Cr(t)||CI(t)}function vR(t){return t!==null}function Qn(t){return ha(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function OE(t,e){if(t==null)return As;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ht.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ht.None?[r,a]:r,e[s]=o):n[s]=r}return n}function bt(t){return ha(()=>{let e=RI(t);return NI(e),e})}function Cr(t){return t[BM]||null}function CI(t){return t[$M]||null}function SI(t){return t[HM]||null}function AI(t){let e=Cr(t)||CI(t)||SI(t);return e!==null?e.standalone:!1}function MI(t,e){let n=t[qM]||null;if(!n&&e===!0)throw new Error(`Type ${Dt(t)} does not have '\u0275mod' property.`);return n}function RI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||As,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OE(t.inputs,e),outputs:OE(t.outputs),debugInfo:null}}function NI(t){t.features?.forEach(e=>e(t))}function kE(t,e){if(!t)return null;let n=e?SI:yR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(vR)}function _R(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function En(t){return{\u0275providers:t}}function wR(...t){return{\u0275providers:PI(!0,t),\u0275fromNgModule:!0}}function PI(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Pp(e,o=>{let a=o;Gf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&xI(i,s),n}function xI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Op(i,s=>{e(s,r)})}}function Gf(t,e,n,r){if(t=It(t),!t)return!1;let i=null,s=AE(t),o=!s&&Cr(t);if(!s&&!o){let u=t.ngModule;if(s=AE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Gf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{Pp(s.imports,h=>{Gf(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&xI(l,e)}if(!a){let l=Ss(i)||(()=>new i);e({provide:i,useFactory:l,deps:Yt},i),e({provide:II,useValue:i,multi:!0},i),e({provide:Ms,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Op(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Op(t,e){for(let n of t)gI(n)&&(n=n.\u0275providers),Array.isArray(n)?Op(n,e):e(n)}var ER=be({provide:String,useValue:be});function OI(t){return t!==null&&typeof t=="object"&&ER in t}function IR(t){return!!(t&&t.useExisting)}function DR(t){return!!(t&&t.useFactory)}function Rs(t){return typeof t=="function"}function bR(t){return!!t.useClass}var el=new z(""),Cu={},TR={},Af;function kp(){return Af===void 0&&(Af=new Ou),Af}var Mt=class{},sa=class extends Mt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Kf(e,o=>this.processProvider(o)),this.records.set(EI,Es(void 0,this)),i.has("environment")&&this.records.set(Mt,Es(void 0,this));let s=this.records.get(el);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(II,Yt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=br(this),r=Qt(void 0),i;try{return e()}finally{br(n),Qt(r)}}get(e,n=ra,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(RE))return e[RE](this);r=Xu(r);let i,s=br(this),o=Qt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=RR(e)&&Ju(e);l&&this.injectableDefInScope(l)?u=Es(Wf(e),Cu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?kp():this.parent;return n=r&se.Optional&&n===ra?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Pu]=a[Pu]||[]).unshift(Dt(e)),s)throw a;return eR(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),br(s)}}resolveInjectorInitializers(){let e=we(null),n=br(this),r=Qt(void 0),i;try{let s=this.get(Ms,Yt,se.Self);for(let o of s)o()}finally{br(n),Qt(r),we(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=It(e);let n=Rs(e)?e:It(e&&e.provide),r=SR(e);if(!Rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Es(void 0,Cu,!0),i.factory=()=>qf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=we(null);try{return n.value===Cu&&(n.value=TR,n.value=n.factory()),typeof n.value=="object"&&n.value&&MR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Wf(t){let e=Ju(t),n=e!==null?e.factory:Ss(t);if(n!==null)return n;if(t instanceof z)throw new P(204,!1);if(t instanceof Function)return CR(t);throw new P(204,!1)}function CR(t){if(t.length>0)throw new P(204,!1);let n=UM(t);return n!==null?()=>n.factory(t):()=>new t}function SR(t){if(OI(t))return Es(void 0,t.useValue);{let e=kI(t);return Es(e,Cu)}}function kI(t,e,n){let r;if(Rs(t)){let i=It(t);return Ss(i)||Wf(i)}else if(OI(t))r=()=>It(t.useValue);else if(DR(t))r=()=>t.useFactory(...qf(t.deps||[]));else if(IR(t))r=()=>G(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(AR(t))r=()=>new i(...qf(t.deps));else return Ss(i)||Wf(i)}return r}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AR(t){return!!t.deps}function MR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function RR(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Kf(t,e){for(let n of t)Array.isArray(n)?Kf(n,e):n&&gI(n)?Kf(n.\u0275providers,e):e(n)}function Yn(t,e){t instanceof sa&&t.assertNotDestroyed();let n,r=br(t),i=Qt(void 0);try{return e()}finally{br(r),Qt(i)}}function FI(){return yI()!==void 0||JM()!=null}function NR(t){if(!FI())throw new P(-203,!1)}function PR(t){return typeof t=="function"}var Jn=0,fe=1,X=2,ft=3,an=4,ln=5,ku=6,oa=7,cn=8,Ns=9,un=10,We=11,aa=12,FE=13,Vs=14,vn=15,tl=16,Is=17,Ps=18,nl=19,LI=20,Tr=21,Mf=22,fi=23,zn=25,VI=1;var pi=7,Fu=8,Lu=9,Jt=10,Fp=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Fp||{});function di(t){return Array.isArray(t)&&typeof t[VI]=="object"}function Zn(t){return Array.isArray(t)&&t[VI]===!0}function UI(t){return(t.flags&4)!==0}function rl(t){return t.componentOffset>-1}function Lp(t){return(t.flags&1)===1}function Sr(t){return!!t.template}function xR(t){return(t[X]&512)!==0}var Qf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function jI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ei(){return BI}function BI(t){return t.type.prototype.ngOnChanges&&(t.setInput=kR),OR}Ei.ngInherit=!0;function OR(){let t=HI(this),e=t?.current;if(e){let n=t.previous;if(n===As)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kR(t,e,n,r,i){let s=this.declaredInputs[r],o=HI(t)||FR(t,{previous:As,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Qf(l&&l.currentValue,n,u===As),jI(t,e,i,n)}var $I="__ngSimpleChanges__";function HI(t){return t[$I]||null}function FR(t,e){return t[$I]=e}var LE=null;var mn=function(t,e,n){LE?.(t,e,n)},LR="svg",VR="math",UR=!1;function jR(){return UR}function _n(t){for(;Array.isArray(t);)t=t[Jn];return t}function qI(t,e){return _n(e[t])}function Zt(t,e){return _n(e[t.index])}function zI(t,e){return t.data[e]}function BR(t,e){return t[e]}function Mr(t,e){let n=e[t];return di(n)?n:n[Jn]}function Vp(t){return(t[X]&128)===128}function $R(t){return Zn(t[ft])}function Vu(t,e){return e==null?null:t[e]}function GI(t){t[Is]=0}function HR(t){t[X]&1024||(t[X]|=1024,Vp(t)&&ca(t))}function qR(t,e){for(;t>0;)e=e[Vs],t--;return e}function Up(t){return!!(t[X]&9216||t[fi]?.dirty)}function Yf(t){t[un].changeDetectionScheduler?.notify(1),Up(t)?ca(t):t[X]&64&&(jR()?(t[X]|=1024,ca(t)):t[un].changeDetectionScheduler?.notify())}function ca(t){t[un].changeDetectionScheduler?.notify();let e=ua(t);for(;e!==null&&!(e[X]&8192||(e[X]|=8192,!Vp(e)));)e=ua(e)}function WI(t,e){if((t[X]&256)===256)throw new P(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function zR(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function ua(t){let e=t[ft];return Zn(e)?e[ft]:e}var ce={lFrame:eD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function GR(){return ce.lFrame.elementDepthCount}function WR(){ce.lFrame.elementDepthCount++}function KR(){ce.lFrame.elementDepthCount--}function KI(){return ce.bindingsEnabled}function QR(){return ce.skipHydrationRootTNode!==null}function YR(t){return ce.skipHydrationRootTNode===t}function JR(){ce.skipHydrationRootTNode=null}function Me(){return ce.lFrame.lView}function Lt(){return ce.lFrame.tView}function Us(t){return ce.lFrame.contextLView=t,t[cn]}function js(t){return ce.lFrame.contextLView=null,t}function Nt(){let t=QI();for(;t!==null&&t.type===64;)t=t.parent;return t}function QI(){return ce.lFrame.currentTNode}function ZR(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function pa(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function YI(){return ce.lFrame.isParent}function XR(){ce.lFrame.isParent=!1}function eN(){return ce.lFrame.contextLView}function tN(t){return ce.lFrame.bindingIndex=t}function il(){return ce.lFrame.bindingIndex++}function nN(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function rN(){return ce.lFrame.inI18n}function iN(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Jf(e)}function sN(){return ce.lFrame.currentDirectiveIndex}function Jf(t){ce.lFrame.currentDirectiveIndex=t}function oN(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function JI(t){ce.lFrame.currentQueryIndex=t}function aN(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[ln]:null}function ZI(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=aN(s),i===null||(s=s[Vs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=XI();return r.currentTNode=e,r.lView=t,!0}function jp(t){let e=XI(),n=t[fe];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function XI(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?eD(t):e}function eD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function tD(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var nD=tD;function Bp(){let t=tD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function cN(t){return(ce.lFrame.contextLView=qR(t,ce.lFrame.contextLView))[cn]}function Bs(){return ce.lFrame.selectedIndex}function mi(t){ce.lFrame.selectedIndex=t}function $p(){let t=ce.lFrame;return zI(t.tView,t.selectedIndex)}function uN(){return ce.lFrame.currentNamespace}var rD=!0;function Hp(){return rD}function qp(t){rD=t}function lN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=BI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function zp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Su(t,e,n){iD(t,e,3,n)}function Au(t,e,n,r){(t[X]&3)===n&&iD(t,e,n,r)}function Rf(t,e){let n=t[X];(n&3)===e&&(n&=16383,n+=1,t[X]=n)}function iD(t,e,n,r){let i=r!==void 0?t[Is]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Is]+=65536),(a<s||s==-1)&&(dN(t,n,e,u),t[Is]=(t[Is]&4294901760)+u+2),u++}function VE(t,e){mn(4,t,e);let n=we(null);try{e.call(t)}finally{we(n),mn(5,t,e)}}function dN(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[X]>>14<t[Is]>>16&&(t[X]&3)===e&&(t[X]+=16384,VE(a,s)):VE(a,s)}var Cs=-1,gi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function hN(t){return t instanceof gi}function fN(t){return(t.flags&8)!==0}function pN(t){return(t.flags&16)!==0}function sD(t){return t!==Cs}function Uu(t){return t&32767}function mN(t){return t>>16}function ju(t,e){let n=mN(t),r=e;for(;n>0;)r=r[Vs],n--;return r}var Zf=!0;function UE(t){let e=Zf;return Zf=t,e}var gN=256,oD=gN-1,aD=5,yN=0,gn={};function vN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(na)&&(r=n[na]),r==null&&(r=n[na]=yN++);let i=r&oD,s=1<<i;e.data[t+(i>>aD)]|=s}function Bu(t,e){let n=cD(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,Nf(r.data,t),Nf(e,null),Nf(r.blueprint,null));let i=Gp(t,e),s=t.injectorIndex;if(sD(i)){let o=Uu(i),a=ju(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Gp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fD(i),r===null)return Cs;if(n++,i=i[Vs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cs}function Xf(t,e,n){vN(t,e,n)}function _N(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(bI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function uD(t,e,n){if(n&se.Optional||t!==void 0)return t;Rp(e,"NodeInjector")}function lD(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Ns],s=Qt(void 0);try{return i?i.get(e,r,n&se.Optional):vI(e,r,n&se.Optional)}finally{Qt(s)}}return uD(r,e,n)}function dD(t,e,n,r=se.Default,i){if(t!==null){if(e[X]&2048&&!(r&se.Self)){let o=bN(t,e,n,r,gn);if(o!==gn)return o}let s=hD(t,e,n,r,gn);if(s!==gn)return s}return lD(e,n,r,i)}function hD(t,e,n,r,i){let s=IN(n);if(typeof s=="function"){if(!ZI(e,t,r))return r&se.Host?uD(i,n,r):lD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))Rp(n);else return o}finally{nD()}}else if(typeof s=="number"){let o=null,a=cD(t,e),u=Cs,l=r&se.Host?e[vn][ln]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Gp(t,e):e[a+8],u===Cs||!BE(r,!1)?a=-1:(o=e[fe],a=Uu(u),e=ju(u,e)));a!==-1;){let h=e[fe];if(jE(s,a,h.data)){let p=wN(a,e,n,o,r,l);if(p!==gn)return p}u=e[a+8],u!==Cs&&BE(r,e[fe].data[a+8]===l)&&jE(s,a,e)?(o=h,a=Uu(u),e=ju(u,e)):a=-1}}return i}function wN(t,e,n,r,i,s){let o=e[fe],a=o.data[t+8],u=r==null?rl(a)&&Zf:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,h=EN(a,o,n,u,l);return h!==null?xs(e,o,h,a):gn}function EN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,g=i?a+h:l;for(let w=p;w<g;w++){let C=o[w];if(w<u&&n===C||w>=u&&C.type===n)return w}if(i){let w=o[u];if(w&&Sr(w)&&w.type===n)return u}return null}function xs(t,e,n,r){let i=t[n],s=e.data;if(hN(i)){let o=i;o.resolving&&GM(zM(s[n]));let a=UE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Qt(o.injectImpl):null,h=ZI(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&lN(n,s[n],e)}finally{l!==null&&Qt(l),UE(a),o.resolving=!1,nD()}}return i}function IN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(na)?t[na]:void 0;return typeof e=="number"?e>=0?e&oD:DN:e}function jE(t,e,n){let r=1<<t;return!!(n[e+(t>>aD)]&r)}function BE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var hi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dD(this._tNode,this._lView,e,Xu(r),n)}};function DN(){return new hi(Nt(),Me())}function ma(t){return ha(()=>{let e=t.prototype.constructor,n=e[Nu]||ep(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Nu]||ep(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function ep(t){return hI(t)?()=>{let e=ep(It(t));return e&&e()}:Ss(t)}function bN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[X]&2048&&!(o[X]&512);){let a=hD(s,o,n,r|se.Self,gn);if(a!==gn)return a;let u=s.parent;if(!u){let l=o[LI];if(l){let h=l.get(n,gn,r);if(h!==gn)return h}u=fD(o),o=o[Vs]}s=u}return i}function fD(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[ln]:null}function Wp(t){return _N(Nt(),t)}function $E(t,e=null,n=null,r){let i=pD(t,e,n,r);return i.resolveInjectorInitializers(),i}function pD(t,e=null,n=null,r,i=new Set){let s=[n||Yt,wR(t)];return r=r||(typeof t=="object"?void 0:Dt(t)),new sa(s,e||kp(),r||null,i)}var Tt=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return $E({name:""},i,r,"");{let s=r.name??"";return $E({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=ra,e.NULL=new Ou,e.\u0275prov=B({token:e,providedIn:"any",factory:()=>G(EI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var TN="ngOriginalError";function Pf(t){return t[TN]}var wn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Pf(e);for(;n&&Pf(n);)n=Pf(n);return n||null}},mD=new z("",{providedIn:"root",factory:()=>k(wn).handleError.bind(void 0)}),Kp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),tp=class extends Kp{constructor(e){super(),this._lView=e}onDestroy(e){return WI(this._lView,e),()=>zR(this._lView,e)}};function CN(){return new tp(Me())}function SN(){return sl(Nt(),Me())}function sl(t,e){return new Rr(Zt(t,e))}var Rr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=SN;let t=e;return t})();var np=class extends lt{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,FI()&&(this.destroyRef=k(Kp,{optional:!0})??void 0)}emit(e){let n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=xf(s),i&&(i=xf(i)),o&&(o=xf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ve&&e.add(a),a}};function xf(t){return e=>{setTimeout(t,void 0,e)}}var dt=np;function gD(t){return(t.flags&128)===128}var yD=new Map,AN=0;function MN(){return AN++}function RN(t){yD.set(t[nl],t)}function NN(t){yD.delete(t[nl])}var HE="__ngContext__";function yi(t,e){di(e)?(t[HE]=e[nl],RN(e)):t[HE]=e}function vD(t){return wD(t[aa])}function _D(t){return wD(t[an])}function wD(t){for(;t!==null&&!Zn(t);)t=t[an];return t}var rp;function ED(t){rp=t}function PN(){if(rp!==void 0)return rp;if(typeof document<"u")return document;throw new P(210,!1)}var Qp=new z("",{providedIn:"root",factory:()=>xN}),xN="ng",Yp=new z(""),In=new z("",{providedIn:"platform",factory:()=>"unknown"});var Jp=new z(""),Zp=new z("",{providedIn:"root",factory:()=>PN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ON="h",kN="b";var FN=()=>null;function Xp(t,e,n=!1){return FN(t,e,n)}var ID=!1,LN=new z("",{providedIn:"root",factory:()=>ID});var Du;function VN(){if(Du===void 0&&(Du=null,li.trustedTypes))try{Du=li.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Du}function qE(t){return VN()?.createScriptURL(t)||t}var $u=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lI})`}};function ga(t){return t instanceof $u?t.changingThisBreaksApplicationSecurity:t}function em(t,e){let n=UN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${lI})`)}return n===e}function UN(t){return t instanceof $u&&t.getTypeName()||null}var jN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function DD(t){return t=String(t),t.match(jN)?t:"unsafe:"+t}var ol=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ol||{});function tm(t){let e=TD();return e?e.sanitize(ol.URL,t)||"":em(t,"URL")?ga(t):DD(Zu(t))}function BN(t){let e=TD();if(e)return qE(e.sanitize(ol.RESOURCE_URL,t)||"");if(em(t,"ResourceURL"))return qE(ga(t));throw new P(904,!1)}function $N(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?BN:tm}function bD(t,e,n){return $N(e,n)(t)}function TD(){let t=Me();return t&&t[un].sanitizer}function CD(t){return t instanceof Function?t():t}function HN(t){return(t??k(Tt)).get(In)==="browser"}var Gn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gn||{}),qN;function nm(t,e){return qN(t,e)}function Ds(t,e,n,r,i){if(r!=null){let s,o=!1;Zn(r)?s=r:di(r)&&(o=!0,r=r[Jn]);let a=_n(r);t===0&&n!==null?i==null?ND(e,n,a):Hu(e,n,a,i||null,!0):t===1&&n!==null?Hu(e,n,a,i||null,!0):t===2?aP(e,a,o):t===3&&e.destroyNode(a),s!=null&&uP(e,t,s,n,i)}}function zN(t,e){return t.createText(e)}function GN(t,e,n){t.setValue(e,n)}function SD(t,e,n){return t.createElement(e,n)}function WN(t,e){AD(t,e),e[Jn]=null,e[ln]=null}function KN(t,e,n,r,i,s){r[Jn]=i,r[ln]=e,al(t,r,n,1,i,s)}function AD(t,e){e[un].changeDetectionScheduler?.notify(1),al(t,e,e[We],2,null,null)}function QN(t){let e=t[aa];if(!e)return Of(t[fe],t);for(;e;){let n=null;if(di(e))n=e[aa];else{let r=e[Jt];r&&(n=r)}if(!n){for(;e&&!e[an]&&e!==t;)di(e)&&Of(e[fe],e),e=e[ft];e===null&&(e=t),di(e)&&Of(e[fe],e),n=e&&e[an]}e=n}}function YN(t,e,n,r){let i=Jt+r,s=n.length;r>0&&(n[i-1][an]=e),r<s-Jt?(e[an]=n[i],wI(n,Jt+r,e)):(n.push(e),e[an]=null),e[ft]=n;let o=e[tl];o!==null&&n!==o&&JN(o,e);let a=e[Ps];a!==null&&a.insertView(t),Yf(e),e[X]|=128}function JN(t,e){let n=t[Lu],i=e[ft][ft][vn];e[vn]!==i&&(t[X]|=Fp.HasTransplantedViews),n===null?t[Lu]=[e]:n.push(e)}function MD(t,e){let n=t[Lu],r=n.indexOf(e);n.splice(r,1)}function ip(t,e){if(t.length<=Jt)return;let n=Jt+e,r=t[n];if(r){let i=r[tl];i!==null&&i!==t&&MD(i,r),e>0&&(t[n-1][an]=r[an]);let s=xu(t,Jt+e);WN(r[fe],r);let o=s[Ps];o!==null&&o.detachView(s[fe]),r[ft]=null,r[an]=null,r[X]&=-129}return r}function RD(t,e){if(!(e[X]&256)){let n=e[We];n.destroyNode&&al(t,e,n,3,null,null),QN(e)}}function Of(t,e){if(e[X]&256)return;let n=we(null);try{e[X]&=-129,e[X]|=256,e[fi]&&eE(e[fi]),XN(t,e),ZN(t,e),e[fe].type===1&&e[We].destroy();let r=e[tl];if(r!==null&&Zn(e[ft])){r!==e[ft]&&MD(r,e);let i=e[Ps];i!==null&&i.detachView(t)}NN(e)}finally{we(n)}}function ZN(t,e){let n=t.cleanup,r=e[oa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[oa]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function XN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof gi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];mn(4,a,u);try{u.call(a)}finally{mn(5,a,u)}}else{mn(4,i,s);try{s.call(i)}finally{mn(5,i,s)}}}}}function eP(t,e,n){return tP(t,e.parent,n)}function tP(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Jn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===yn.None||s===yn.Emulated)return null}return Zt(r,n)}}function Hu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ND(t,e,n){t.appendChild(e,n)}function zE(t,e,n,r,i){r!==null?Hu(t,e,n,r,i):ND(t,e,n)}function nP(t,e,n,r){t.removeChild(e,n,r)}function rm(t,e){return t.parentNode(e)}function rP(t,e){return t.nextSibling(e)}function iP(t,e,n){return oP(t,e,n)}function sP(t,e,n){return t.type&40?Zt(t,n):null}var oP=sP,GE;function im(t,e,n,r){let i=eP(t,r,e),s=e[We],o=r.parent||e[ln],a=iP(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)zE(s,i,n[u],a,!1);else zE(s,i,n,a,!1);GE!==void 0&&GE(s,r,e,n,i)}function Mu(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return sp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Mu(t,r);{let i=t[e.index];return Zn(i)?sp(-1,i):_n(i)}}else{if(n&32)return nm(e,t)()||_n(t[e.index]);{let r=PD(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ua(t[vn]);return Mu(i,r)}else return Mu(t,e.next)}}}return null}function PD(t,e){if(e!==null){let r=t[vn][ln],i=e.projection;return r.projection[i]}return null}function sp(t,e){let n=Jt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return Mu(r,i)}return e[pi]}function aP(t,e,n){let r=rm(t,e);r&&nP(t,r,e,n)}function sm(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&yi(_n(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)sm(t,e,n.child,r,i,s,!1),Ds(e,t,i,a,s);else if(u&32){let l=nm(n,r),h;for(;h=l();)Ds(e,t,i,h,s);Ds(e,t,i,a,s)}else u&16?cP(t,e,r,n,i,s):Ds(e,t,i,a,s);n=o?n.projectionNext:n.next}}function al(t,e,n,r,i,s){sm(n,r,t.firstChild,e,i,s,!1)}function cP(t,e,n,r,i,s){let o=n[vn],u=o[ln].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ds(e,t,i,h,s)}else{let l=u,h=o[ft];gD(r)&&(l.flags|=128),sm(t,e,l,h,i,s,!0)}}function uP(t,e,n,r,i){let s=n[pi],o=_n(n);s!==o&&Ds(e,t,r,s,i);for(let a=Jt;a<n.length;a++){let u=n[a];al(u[fe],u,t,e,r,s)}}function lP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Gn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Gn.Important),t.setStyle(n,r,i,s))}}function dP(t,e,n){t.setAttribute(e,"style",n)}function xD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&zf(t,e,r),i!==null&&xD(t,e,i),s!==null&&dP(t,e,s)}var $s={};function Fe(t=1){kD(Lt(),Me(),Bs()+t,!1)}function kD(t,e,n,r){if(!r)if((e[X]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Su(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Au(e,s,0,n)}mi(n)}function ee(t,e=se.Default){let n=Me();if(n===null)return G(t,e);let r=Nt();return dD(r,n,It(t),e)}function FD(){let t="invalid";throw new Error(t)}function LD(t,e,n,r,i,s){let o=we(null);try{let a=null;i&ht.SignalBased&&(a=e[r][nf]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ht.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):jI(e,a,r,s)}finally{we(o)}}function hP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mi(~i);else{let s=i,o=n[++r],a=n[++r];iN(o,s);let u=e[s];a(2,u)}}}finally{mi(-1)}}function cl(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Jn]=i,p[X]=r|4|128|8|64,(l!==null||t&&t[X]&2048)&&(p[X]|=2048),GI(p),p[ft]=p[Vs]=t,p[cn]=n,p[un]=o||t&&t[un],p[We]=a||t&&t[We],p[Ns]=u||t&&t[Ns]||null,p[ln]=s,p[nl]=MN(),p[ku]=h,p[LI]=l,p[vn]=e.type==2?t[vn]:p,p}function ul(t,e,n,r,i){let s=t.data[e];if(s===null)s=fP(t,e,n,r,i),rN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=ZR();s.injectorIndex=o===null?-1:o.injectorIndex}return pa(s,!0),s}function fP(t,e,n,r,i){let s=QI(),o=YI(),a=o?s:s&&s.parent,u=t.data[e]=vP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function VD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function UD(t,e,n,r,i){let s=Bs(),o=r&2;try{mi(-1),o&&e.length>zn&&kD(t,e,zn,!1),mn(o?2:0,i),n(r,i)}finally{mi(s),mn(o?3:1,i)}}function jD(t,e,n){if(UI(e)){let r=we(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{we(r)}}}function BD(t,e,n){KI()&&(bP(t,e,n,Zt(n,e)),(n.flags&64)===64&&WD(t,e,n))}function $D(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function HD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=om(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function om(t,e,n,r,i,s,o,a,u,l,h){let p=zn+r,g=p+i,w=pP(p,g),C=typeof l=="function"?l():l;return w[fe]={type:t,blueprint:w,template:n,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function pP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:$s);return n}function mP(t,e,n,r){let s=r.get(LN,ID)||n===yn.ShadowDom,o=t.selectRootElement(e,s);return gP(o),o}function gP(t){yP(t)}var yP=()=>null;function vP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return QR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function WE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=ht.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?KE(r,n,l,a,u):KE(r,n,l,a)}return r}function KE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function _P(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],g=n?n.get(p):null,w=g?g.inputs:null,C=g?g.outputs:null;u=WE(0,p.inputs,h,u,w),l=WE(1,p.outputs,h,l,C);let M=u!==null&&o!==null&&!xp(e)?kP(u,h,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function wP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function qD(t,e,n,r,i,s,o,a){let u=Zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(am(t,n,h,r,i),rl(e)&&EP(n,e.index)):e.type&3?(r=wP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function EP(t,e){let n=Mr(e,t);n[X]&16||(n[X]|=64)}function zD(t,e,n,r){if(KI()){let i=r===null?null:{"":-1},s=CP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&GD(t,e,n,o,i,a),i&&SP(n,r,i)}n.mergedAttrs=ia(n.mergedAttrs,n.attrs)}function GD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Xf(Bu(n,e),t,r[l].type);MP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=VD(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=ia(n.mergedAttrs,h.hostAttrs),RP(t,n,e,u,h),AP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}_P(t,n,s)}function IP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;DP(o)!=a&&o.push(a),o.push(n,r,s)}}function DP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function bP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;rl(n)&&NP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Bu(n,e),yi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=xs(e,t,a,n);if(yi(l,e),o!==null&&OP(e,a-i,l,u,n,o),Sr(u)){let h=Mr(n.index,e);h[cn]=xs(e,t,a,n)}}}function WD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=sN();try{mi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Jf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&TP(u,l)}}finally{mi(-1),Jf(o)}}function TP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function CP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(dR(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;op(t,e,u)}else r.unshift(o),op(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function op(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function SP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new P(-301,!1);r.push(e[i],s)}}}function AP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sr(e)&&(n[""]=t)}}function MP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function RP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ss(i.type,!0)),o=new gi(s,Sr(i),ee);t.blueprint[r]=o,n[r]=o,IP(t,e,r,VD(t,n,i.hostVars,$s),i)}function NP(t,e,n){let r=Zt(e,t),i=HD(n),s=t[un].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=ll(t,cl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function PP(t,e,n,r,i,s){let o=Zt(t,e);xP(e[We],o,s,t.value,n,r,i)}function xP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Zu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function OP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];LD(r,n,u,l,h,p)}}function kP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function KD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function QD(t,e){let n=t.contentQueries;if(n!==null){let r=we(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];JI(s),a.contentQueries(2,e[o],o)}}}finally{we(r)}}}function ll(t,e){return t[aa]?t[FE][an]=e:t[aa]=e,t[FE]=e,e}function ap(t,e,n){JI(0);let r=we(null);try{e(t,n)}finally{we(r)}}function FP(t){return t[oa]||(t[oa]=[])}function LP(t){return t.cleanup||(t.cleanup=[])}function YD(t,e){let n=t[Ns],r=n?n.get(wn,null):null;r&&r.handleError(e)}function am(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];LD(h,l,r,a,u,i)}}function VP(t,e,n){let r=qI(e,t);GN(t[We],r,n)}function UP(t,e){let n=Mr(e,t),r=n[fe];jP(r,n);let i=n[Jn];i!==null&&n[ku]===null&&(n[ku]=Xp(i,n[Ns])),cm(r,n,n[cn])}function jP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function cm(t,e,n){jp(e);try{let r=t.viewQuery;r!==null&&ap(1,r,n);let i=t.template;i!==null&&UD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ps]?.finishViewCreation(t),t.staticContentQueries&&QD(t,e),t.staticViewQueries&&ap(2,t.viewQuery,n);let s=t.components;s!==null&&BP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[X]&=-5,Bp()}}function BP(t,e){for(let n=0;n<e.length;n++)UP(t,e[n])}function $P(t,e,n,r){let i=we(null);try{let s=e.tView,a=t[X]&4096?4096:16,u=cl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[tl]=l;let h=t[Ps];return h!==null&&(u[Ps]=h.createEmbeddedView(s)),cm(s,u,n),u}finally{we(i)}}function QE(t,e){return!e||e.firstChild===null||gD(t)}function HP(t,e,n,r=!0){let i=e[fe];if(YN(i,e,t,n),r){let o=sp(n,t),a=e[We],u=rm(a,t[pi]);u!==null&&KN(i,t[ln],a,e,u,o)}let s=e[ku];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function qu(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(_n(s)),Zn(s)&&qP(s,r);let o=n.type;if(o&8)qu(t,e,n.child,r);else if(o&32){let a=nm(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=PD(e,n);if(Array.isArray(a))r.push(...a);else{let u=ua(e[vn]);qu(u[fe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function qP(t,e){for(let n=Jt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&qu(r[fe],r,i,e)}t[pi]!==t[Jn]&&e.push(t[pi])}var JD=[];function zP(t){return t[fi]??GP(t)}function GP(t){let e=JD.pop()??Object.create(KP);return e.lView=t,e}function WP(t){t.lView[fi]!==t&&(t.lView=null,JD.push(t))}var KP=Ie(L({},Jw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ca(t.lView)},consumerOnSignalRead(){this.lView[fi]=this}}),ZD=100;function XD(t,e=!0,n=0){let r=t[un],i=r.rendererFactory,s=!1;s||i.begin?.();try{QP(t,n)}catch(o){throw e&&YD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function QP(t,e){cp(t,e);let n=0;for(;Up(t);){if(n===ZD)throw new P(103,!1);n++,cp(t,1)}}function YP(t,e,n,r){let i=e[X];if((i&256)===256)return;let s=!1;!s&&e[un].inlineEffectRunner?.flush(),jp(e);let o=null,a=null;!s&&JP(t)&&(a=zP(e),o=Zw(a));try{GI(e),tN(t.bindingStartIndex),n!==null&&UD(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Su(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Au(e,p,0,null),Rf(e,0)}if(ZP(e),eb(e,0),t.contentQueries!==null&&QD(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Su(e,p)}else{let p=t.contentHooks;p!==null&&Au(e,p,1),Rf(e,1)}hP(t,e);let l=t.components;l!==null&&nb(e,l,0);let h=t.viewQuery;if(h!==null&&ap(2,h,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Su(e,p)}else{let p=t.viewHooks;p!==null&&Au(e,p,2),Rf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mf]){for(let p of e[Mf])p();e[Mf]=null}s||(e[X]&=-73)}catch(u){throw ca(e),u}finally{a!==null&&(Xw(a,o),WP(a)),Bp()}}function JP(t){return t.type!==2}function eb(t,e){for(let n=vD(t);n!==null;n=_D(n))for(let r=Jt;r<n.length;r++){let i=n[r];tb(i,e)}}function ZP(t){for(let e=vD(t);e!==null;e=_D(e)){if(!(e[X]&Fp.HasTransplantedViews))continue;let n=e[Lu];for(let r=0;r<n.length;r++){let i=n[r],s=i[ft];HR(i)}}}function XP(t,e,n){let r=Mr(e,t);tb(r,n)}function tb(t,e){Vp(t)&&cp(t,e)}function cp(t,e){let r=t[fe],i=t[X],s=t[fi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&rf(s)),s&&(s.dirty=!1),t[X]&=-9217,o)YP(r,t,r.template,t[cn]);else if(i&8192){eb(t,1);let a=r.components;a!==null&&nb(t,a,1)}}function nb(t,e,n){for(let r=0;r<e.length;r++)XP(t,e[r],n)}function um(t){for(t[un].changeDetectionScheduler?.notify();t;){t[X]|=64;let e=ua(t);if(xR(t)&&!e)return t;t=e}return null}var vi=class{get rootNodes(){let e=this._lView,n=e[fe];return qu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[X]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(Zn(e)){let n=e[Fu],r=n?n.indexOf(this):-1;r>-1&&(ip(e,r),xu(n,r))}this._attachedToViewContainer=!1}RD(this._lView[fe],this._lView)}onDestroy(e){WI(this._lView,e)}markForCheck(){um(this._cdRefInjectingView||this._lView)}detach(){this._lView[X]&=-129}reattach(){Yf(this._lView),this._lView[X]|=128}detectChanges(){this._lView[X]|=1024,XD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,AD(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Yf(this._lView)}},dl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nx;let t=e;return t})(),ex=dl,tx=class extends ex{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=$P(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new vi(i)}};function nx(){return rb(Nt(),Me())}function rb(t,e){return t.type&4?new tx(e,t,sl(t,e)):null}var DW=new RegExp(`^(\\d+)*(${kN}|${ON})*(.*)`);var rx=()=>null;function YE(t,e){return rx(t,e)}var Os=class{},up=class{},zu=class{};function ix(t){let e=Error(`No component factory found for ${Dt(t)}.`);return e[sx]=t,e}var sx="ngComponent";var lp=class{resolveComponentFactory(e){throw ix(e)}},hl=(()=>{let e=class e{};e.NULL=new lp;let t=e;return t})(),_i=class{},Ii=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ox();let t=e;return t})();function ox(){let t=Me(),e=Nt(),n=Mr(e.index,t);return(di(n)?n:t)[We]}var ax=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),kf={};var JE=new Set;function ya(t){JE.has(t)||(JE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function ZE(...t){}function cx(){let t=typeof li.requestAnimationFrame=="function",e=li[t?"requestAnimationFrame":"setTimeout"],n=li[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ve=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new dt(!1),this.onMicrotaskEmpty=new dt(!1),this.onStable=new dt(!1),this.onError=new dt(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=cx().nativeRequestAnimationFrame,dx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ux,ZE,ZE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ux={};function lm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lx(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(li,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,dp(t),t.isCheckStableRunning=!0,lm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),dp(t))}function dx(t){let e=()=>{lx(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(hx(a))return n.invokeTask(i,s,o,a);try{return XE(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),eI(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return XE(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),eI(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,dp(t),lm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function dp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function XE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function eI(t){t._nesting--,lm(t)}function hx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var bs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(bs||{}),fx={destroy(){}};function fl(t,e){!e&&NR(fl);let n=e?.injector??k(Tt);if(!HN(n))return fx;ya("NgAfterNextRender");let r=n.get(dm),i=r.handler??=new fp,s=e?.phase??bs.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(Kp).onDestroy(o),u=Yn(n,()=>new hp(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var hp=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(ve),this.errorHandler=k(wn,{optional:!0}),k(Os,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},fp=class{constructor(){this.executingCallbacks=!1,this.buckets={[bs.EarlyRead]:new Set,[bs.Write]:new Set,[bs.MixedReadWrite]:new Set,[bs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},dm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function pp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=CE(i,a);else if(s==2){let u=a,l=e[++o];r=CE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Gu=class extends hl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new ks(n,this.ngModule)}};function tI(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function px(t){let e=t.toLowerCase();return e==="svg"?LR:e==="math"?VR:null}var mp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Xu(r);let i=this.injector.get(e,kf,r);return i!==kf||n===kf?i:this.parentInjector.get(e,n,r)}},ks=class extends zu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=tI(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return tI(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=we(null);try{i=i||this.ngModule;let o=i instanceof Mt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new mp(e,o):e,u=a.get(_i,null);if(u===null)throw new P(407,!1);let l=a.get(ax,null),h=a.get(dm,null),p=a.get(Os,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:h,changeDetectionScheduler:p},w=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=r?mP(w,r,this.componentDef.encapsulation,a):SD(w,C,px(C)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;M!==null&&(F=Xp(M,a,!0));let $=om(0,null,null,1,0,null,null,null,null,null,null),j=cl(null,$,null,R,null,null,g,w,a,null,F);jp(j);let Q,Ne;try{let ne=this.componentDef,E,y=null;ne.findHostDirectiveDefs?(E=[],y=new Map,ne.findHostDirectiveDefs(ne,E,y),E.push(ne)):E=[ne];let v=mx(j,M),I=gx(v,M,ne,E,j,g,w);Ne=zI($,zn),M&&_x(w,ne,M,r),n!==void 0&&wx(Ne,this.ngContentSelectors,n),Q=vx(I,ne,E,y,j,[Ex]),cm($,j,null)}finally{Bp()}return new gp(this.componentType,Q,sl(Ne,j),j,Ne)}finally{we(s)}}},gp=class extends up{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;am(s[fe],s,i,e,n),this.previousInputValues.set(e,n);let o=Mr(this._tNode.index,s);um(o)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function mx(t,e){let n=t[fe],r=zn;return t[r]=e,ul(n,r,2,"#host",null)}function gx(t,e,n,r,i,s,o){let a=i[fe];yx(r,t,e,o);let u=null;e!==null&&(u=Xp(e,i[Ns]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=cl(i,HD(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&op(a,t,r.length-1),ll(i,p),i[t.index]=p}function yx(t,e,n,r){for(let i of t)e.mergedAttrs=ia(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(pp(e,e.mergedAttrs,!0),n!==null&&OD(r,n,e))}function vx(t,e,n,r,i,s){let o=Nt(),a=i[fe],u=Zt(o,i);GD(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,g=xs(i,a,p,o);yi(g,i)}WD(a,i,o),u&&yi(u,i);let l=xs(i,a,o.directiveStart+o.componentOffset,o);if(t[cn]=i[cn]=l,s!==null)for(let h of s)h(l,e);return jD(a,o,i),l}function _x(t,e,n,r){if(r)zf(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=gR(e.selectors[0]);i&&zf(t,n,i),s&&s.length>0&&xD(t,n,s.join(" "))}}function wx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function Ex(){let t=Nt();zp(Me()[fe],t)}var Hs=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ix;let t=e;return t})();function Ix(){let t=Nt();return bx(t,Me())}var Dx=Hs,ib=class extends Dx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return sl(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Gp(this._hostTNode,this._hostLView);if(sD(e)){let n=ju(e,this._hostLView),r=Uu(e),i=n[fe].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=nI(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=YE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,QE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!PR(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new ks(Cr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(Mt,null);M&&(s=M)}let h=Cr(u.componentType??{}),p=YE(this._lContainer,h?.id??null),g=p?.firstChild??null,w=u.create(l,i,g,s);return this.insertImpl(w.hostView,a,QE(this._hostTNode,p)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if($R(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ft],l=new ib(u,u[ln],u[ft]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return HP(o,i,s,r),e.attachToViewContainerRef(),wI(Ff(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=nI(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=ip(this._lContainer,n);r&&(xu(Ff(this._lContainer),n),RD(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=ip(this._lContainer,n);return r&&xu(Ff(this._lContainer),n)!=null?new vi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function nI(t){return t[Fu]}function Ff(t){return t[Fu]||(t[Fu]=[])}function bx(t,e){let n,r=e[t.index];return Zn(r)?n=r:(n=KD(r,e,null,t),e[t.index]=n,ll(e,n)),Cx(n,e,t,r),new ib(n,t,e)}function Tx(t,e){let n=t[We],r=n.createComment(""),i=Zt(e,t),s=rm(n,i);return Hu(n,s,r,rP(n,i),!1),r}var Cx=Mx,Sx=()=>!1;function Ax(t,e,n){return Sx(t,e,n)}function Mx(t,e,n,r){if(t[pi])return;let i;n.type&8?i=_n(r):i=Tx(e,n),t[pi]=i}function Rx(t){return typeof t=="function"&&t[nf]!==void 0}function sb(t){return Rx(t)&&typeof t.set=="function"}function Nx(t){return Object.getPrototypeOf(t.prototype).constructor}function Nr(t){let e=Nx(t.type),n=!0,r=[t];for(;e;){let i;if(Sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=bu(t.inputs),o.inputTransforms=bu(t.inputTransforms),o.declaredInputs=bu(t.declaredInputs),o.outputs=bu(t.outputs);let a=i.hostBindings;a&&Fx(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Ox(t,u),l&&kx(t,l),Px(t,i),LM(t.outputs,i.outputs),Sr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Nr&&(n=!1)}}e=Object.getPrototypeOf(e)}xx(r)}function Px(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function xx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ia(i.hostAttrs,n=ia(n,i.hostAttrs))}}function bu(t){return t===As?{}:t===Yt?[]:t}function Ox(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function kx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Fx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function hm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ar=class{},la=class{};var yp=class extends Ar{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gu(this);let i=MI(e);this._bootstrapComponents=CD(i.bootstrap),this._r3Injector=pD(e,n,[{provide:Ar,useValue:this},{provide:hl,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},vp=class extends la{constructor(e){super(),this.moduleType=e}create(e){return new yp(this.moduleType,e,[])}};var Wu=class extends Ar{constructor(e){super(),this.componentFactoryResolver=new Gu(this),this.instance=null;let n=new sa([...e.providers,{provide:Ar,useValue:this},{provide:hl,useValue:this.componentFactoryResolver}],e.parent||kp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function pl(t,e,n=null){return new Wu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var ml=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ze(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ob(t){return Vx(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function Lx(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function Vx(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function va(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ux(t){return(t.flags&32)===32}function jx(t,e,n,r,i,s,o,a,u){let l=e.consts,h=ul(e,t,4,o||null,Vu(l,a));zD(e,n,h,Vu(l,u)),zp(e,h);let p=h.tView=om(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Dn(t,e,n,r,i,s,o,a){let u=Me(),l=Lt(),h=t+zn,p=l.firstCreatePass?jx(h,l,u,e,n,r,i,s,o):l.data[h];pa(p,!1);let g=Bx(l,u,p,t);Hp()&&im(l,u,g,p),yi(g,u);let w=KD(g,u,g,p);return u[h]=w,ll(u,w),Ax(w,p,u),Lp(p)&&BD(l,u,p),o!=null&&$D(u,p,a),Dn}var Bx=$x;function $x(t,e,n,r){return qp(!0),e[We].createComment("")}function gl(t,e,n,r){let i=Me(),s=il();if(va(i,s,e)){let o=Lt(),a=$p();PP(a,i,t,e,n,r)}return gl}function Hx(t,e,n,r){return va(t,il(),n)?e+Zu(n)+r:$s}function Tu(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function qx(t){return(t&2)==2}function zx(t,e){return t&131071|e<<17}function _p(t){return t|2}function Fs(t){return(t&131068)>>2}function Lf(t,e){return t&-131069|e<<2}function Gx(t){return(t&1)===1}function wp(t){return t|1}function Wx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wi(o),u=Fs(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||fa(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let g=wi(t[a+1]);t[r+1]=Tu(g,a),g!==0&&(t[g+1]=Lf(t[g+1],r)),t[a+1]=zx(t[a+1],r)}else t[r+1]=Tu(a,0),a!==0&&(t[a+1]=Lf(t[a+1],r)),a=r;else t[r+1]=Tu(u,0),a===0?a=r:t[u+1]=Lf(t[u+1],r),u=r;l&&(t[r+1]=_p(t[r+1])),rI(t,h,r,!0),rI(t,h,r,!1),Kx(e,h,t,r,s),o=Tu(a,u),s?e.classBindings=o:e.styleBindings=o}function Kx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&fa(s,e)>=0&&(n[r+1]=wp(n[r+1]))}function rI(t,e,n,r){let i=t[n+1],s=e===null,o=r?wi(i):Fs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];Qx(u,e)&&(a=!0,t[o+1]=r?wp(l):_p(l)),o=r?wi(l):Fs(l)}a&&(t[n+1]=r?_p(i):wp(i))}function Qx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?fa(t,e)>=0:!1}function nt(t,e,n){let r=Me(),i=il();if(va(r,i,e)){let s=Lt(),o=$p();qD(s,o,r,t,e,r[We],n,!1)}return nt}function iI(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";am(t,n,s[o],o,r)}function yl(t,e){return Yx(t,e,null,!0),yl}function Yx(t,e,n,r){let i=Me(),s=Lt(),o=nN(2);if(s.firstUpdatePass&&Zx(s,t,o,r),e!==$s&&va(i,o,e)){let a=s.data[Bs()];rO(s,a,i,i[We],t,i[o+1]=iO(e,n),r,o)}}function Jx(t,e){return e>=t.expandoStartIndex}function Zx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Bs()],o=Jx(t,n);sO(s,r)&&e===null&&!o&&(e=!1),e=Xx(i,s,e,r),Wx(i,s,e,n,o,r)}}function Xx(t,e,n,r){let i=oN(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Vf(null,t,e,n,r),n=da(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=Vf(i,t,e,n,r),s===null){let u=eO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Vf(null,t,e,u[1],r),u=da(u,e.attrs,r),tO(t,e,r,u))}else s=nO(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function eO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fs(r)!==0)return t[wi(r)]}function tO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wi(i)]=r}function nO(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=da(r,o,n)}return da(r,e.attrs,n)}function Vf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=da(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function da(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rR(t,o,n?!0:e[++s]))}return t===void 0?null:t}function rO(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=Gx(l)?sI(u,e,n,i,Fs(l),o):void 0;if(!Ku(h)){Ku(s)||qx(l)&&(s=sI(u,null,n,i,a,o));let p=qI(Bs(),n);lP(r,o,p,i,s)}}function sI(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=n[i+1];g===$s&&(g=p?Yt:void 0);let w=p?Sf(g,r):h===r?g:void 0;if(l&&!Ku(w)&&(w=Sf(u,r)),Ku(w)&&(a=w,o))return a;let C=t[i+1];i=o?wi(C):Fs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Sf(u,r))}return a}function Ku(t){return t!==void 0}function iO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Dt(ga(t)))),t}function sO(t,e){return(t.flags&(e?8:16))!==0}function oO(t,e,n,r,i,s){let o=e.consts,a=Vu(o,i),u=ul(e,t,2,r,a);return zD(e,n,u,Vu(o,s)),u.attrs!==null&&pp(u,u.attrs,!1),u.mergedAttrs!==null&&pp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function W(t,e,n,r){let i=Me(),s=Lt(),o=zn+t,a=i[We],u=s.firstCreatePass?oO(o,s,i,e,n,r):s.data[o],l=aO(s,i,u,a,e,t);i[o]=l;let h=Lp(u);return pa(u,!0),OD(a,l,u),!Ux(u)&&Hp()&&im(s,i,l,u),GR()===0&&yi(l,i),WR(),h&&(BD(s,i,u),jD(s,u,i)),r!==null&&$D(i,u),W}function Y(){let t=Nt();YI()?XR():(t=t.parent,pa(t,!1));let e=t;YR(e)&&JR(),KR();let n=Lt();return n.firstCreatePass&&(zp(n,t),UI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&fN(e)&&iI(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pN(e)&&iI(n,e,Me(),e.stylesWithoutHost,!1),Y}function rt(t,e,n,r){return W(t,e,n,r),Y(),rt}var aO=(t,e,n,r,i,s)=>(qp(!0),SD(r,i,uN()));function _a(){return Me()}var Qu="en-US";var cO=Qu;function uO(t){typeof t=="string"&&(cO=t.toLowerCase().replace(/_/g,"-"))}function it(t,e,n,r){let i=Me(),s=Lt(),o=Nt();return ab(s,i,i[We],o,t,e,r),it}function lO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[oa],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ab(t,e,n,r,i,s,o){let a=Lp(r),l=t.firstCreatePass&&LP(t),h=e[cn],p=FP(e),g=!0;if(r.type&3||o){let M=Zt(r,e),R=o?o(M):M,F=p.length,$=o?Q=>o(_n(Q[r.index])):r.index,j=null;if(!o&&a&&(j=lO(t,e,i,r.index)),j!==null){let Q=j.__ngLastListenerFn__||j;Q.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,g=!1}else{s=aI(r,e,h,s,!1);let Q=n.listen(R,i,s);p.push(s,Q),l&&l.push(i,$,F,F+1)}}else s=aI(r,e,h,s,!1);let w=r.outputs,C;if(g&&w!==null&&(C=w[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let F=C[R],$=C[R+1],Ne=e[F][$].subscribe(s),ne=p.length;p.push(s,Ne),l&&l.push(i,r.index,ne,-(ne+1))}}}function oI(t,e,n,r){let i=we(null);try{return mn(6,e,n),n(r)!==!1}catch(s){return YD(t,s),!1}finally{mn(7,e,n),we(i)}}function aI(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Mr(t.index,e):e;um(a);let u=oI(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=oI(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function dn(t=1){return cN(t)}function cb(t){let e=eN();return BR(e,zn+t)}function pe(t,e=""){let n=Me(),r=Lt(),i=t+zn,s=r.firstCreatePass?ul(r,i,1,e,null):r.data[i],o=dO(r,n,s,e,t);n[i]=o,Hp()&&im(r,n,o,s),pa(s,!1)}var dO=(t,e,n,r,i)=>(qp(!0),zN(e[We],r));function qs(t){return zs("",t,""),qs}function zs(t,e,n){let r=Me(),i=Hx(r,t,e,n);return i!==$s&&VP(r,Bs(),i),zs}function Di(t,e,n){sb(e)&&(e=e());let r=Me(),i=il();if(va(r,i,e)){let s=Lt(),o=$p();qD(s,o,r,t,e,r[We],n,!1)}return Di}function Gs(t,e){let n=sb(t);return n&&t.set(e),n}function bi(t,e){let n=Me(),r=Lt(),i=Nt();return ab(r,n,n[We],i,t,e),bi}function hO(t,e,n){let r=Lt();if(r.firstCreatePass){let i=Sr(t);Ep(n,r.data,r.blueprint,i,!0),Ep(e,r.data,r.blueprint,i,!1)}}function Ep(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ep(t[s],e,n,r,i);else{let s=Lt(),o=Me(),a=Nt(),u=Rs(t)?t:It(t.provide),l=kI(t),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Rs(t)||!t.multi){let w=new gi(l,i,ee),C=jf(u,e,i?h:h+g,p);C===-1?(Xf(Bu(a,o),s,u),Uf(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(w),o.push(w)):(n[C]=w,o[C]=w)}else{let w=jf(u,e,h+g,p),C=jf(u,e,h,h+g),M=w>=0&&n[w],R=C>=0&&n[C];if(i&&!R||!i&&!M){Xf(Bu(a,o),s,u);let F=mO(i?pO:fO,n.length,i,r,l);!i&&R&&(n[C].providerFactory=F),Uf(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=ub(n[i?C:w],l,!i&&r);Uf(s,t,w>-1?w:C,F)}!i&&r&&R&&n[C].componentProviders++}}}function Uf(t,e,n,r){let i=Rs(e),s=bR(e);if(i||s){let u=(s?It(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function ub(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function jf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function fO(t,e,n,r){return Ip(this.multi,[])}function pO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=xs(n,n[fe],this.providerFactory.index,r);s=a.slice(0,o),Ip(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Ip(i,s);return s}function Ip(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function mO(t,e,n,r,i){let s=new gi(t,n,ee);return s.multi=[],s.index=e,s.componentProviders=0,ub(s,i,r&&!n),s}function vl(t,e=[]){return n=>{n.providersResolver=(r,i)=>hO(r,i?i(t):t,e)}}var gO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=PI(!1,r.type),s=i.length>0?pl([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=B({token:e,providedIn:"environment",factory:()=>new e(G(Mt))});let t=e;return t})();function Pt(t){ya("NgStandalone"),t.getStandaloneInjector=e=>e.get(gO).getOrCreateStandaloneInjector(t)}function lb(t,e){return rb(t,e)}var Wn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},db=new Wn("17.3.10"),_l=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hb=new z("");function Ti(t){return!!t&&typeof t.then=="function"}function fb(t){return!!t&&typeof t.subscribe=="function"}var wl=new z(""),pb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(wl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ti(o))r.push(o);else if(fb(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),El=new z("");function yO(){tE(()=>{throw new P(600,!1)})}function vO(t){return t.isBoundToModule}function _O(t,e,n){try{let r=n();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var wa=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(mD),this.afterRenderEffectManager=k(dm),this.externalTestViews=new Set,this.beforeRender=new lt,this.afterTick=new lt,this.componentTypes=[],this.components=[],this.isStable=k(ml).hasPendingTasks.pipe(le(r=>!r)),this._injector=k(Mt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof zu;if(!this._injector.get(pb).done){let w=!s&&AI(r),C=!1;throw new P(405,C)}let a;s?a=r:a=this._injector.get(hl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=vO(a)?void 0:this._injector.get(Ar),l=i||a.selector,h=a.create(Tt.NULL,[],l,u),p=h.location.nativeElement,g=h.injector.get(hb,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Bf(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new P(101,!1);let i=we(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,we(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===ZD)throw new P(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)wO(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Dp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>Dp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Bf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(El,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Bf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Bf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wO(t,e,n){!e&&!Dp(t)||EO(t,n,e)}function Dp(t){return Up(t)}function EO(t,e,n){let r;n?(r=0,t[X]|=1024):t[X]&64?r=0:r=1,XD(t,e,r)}var bp=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Il=(()=>{let e=class e{compileModuleSync(r){return new vp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=MI(r),o=CD(s.declarations).reduce((a,u)=>{let l=Cr(u);return l&&a.push(new ks(l)),a},[]);return new bp(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var IO=(()=>{let e=class e{constructor(){this.zone=k(ve),this.applicationRef=k(wa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function DO(t){return[{provide:ve,useFactory:t},{provide:Ms,multi:!0,useFactory:()=>{let e=k(IO,{optional:!0});return()=>e.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{let e=k(SO);return()=>{e.initialize()}}},{provide:mD,useFactory:bO}]}function bO(){let t=k(ve),e=k(wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function TO(t){let e=DO(()=>new ve(CO(t)));return En([[],e])}function CO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var SO=(()=>{let e=class e{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=k(ve),this.pendingTasks=k(ml)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AO(){return typeof $localize<"u"&&$localize.locale||Qu}var fm=new z("",{providedIn:"root",factory:()=>k(fm,se.Optional|se.SkipSelf)||AO()});var mb=new z("");var Ru=null;function MO(t=[],e){return Tt.create({name:e,providers:[{provide:el,useValue:"platform"},{provide:mb,useValue:new Set([()=>Ru=null])},...t]})}function RO(t=[]){if(Ru)return Ru;let e=MO(t);return Ru=e,yO(),NO(e),e}function NO(t){t.get(Yp,null)?.forEach(n=>n())}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PO;let t=e;return t})();function PO(t){return xO(Nt(),Me(),(t&16)===16)}function xO(t,e,n){if(rl(t)&&!n){let r=Mr(t.index,e);return new vi(r,r)}else if(t.type&47){let r=e[vn];return new vi(r,e)}return null}var Tp=class{constructor(){}supports(e){return ob(e)}create(e){return new Cp(e)}},OO=(t,e)=>e,Cp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||OO}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<cI(r,i,s)?n:r,a=cI(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let w=g<s.length?s[g]:s[g]=0,C=w+g;h<=C&&C<l&&(s[g]=w+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ob(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,Lx(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Sp(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Yu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Yu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Sp=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ap=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Yu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Ap,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function uI(){return new pm([new Tp])}var pm=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||uI()),deps:[[e,new Np,new pt]]}}find(r){let i=this.factories.find(s=>s.supports(r));if(i!=null)return i;throw new P(901,!1)}};e.\u0275prov=B({token:e,providedIn:"root",factory:uI});let t=e;return t})();function gb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=RO(r),s=[TO(),...n||[]],a=new Wu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ve);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(wn,null),h;u.runOutsideAngular(()=>{h=u.onError.subscribe({next:w=>{l.handleError(w)}})});let p=()=>a.destroy(),g=i.get(mb);return g.add(p),a.onDestroy(()=>{h.unsubscribe(),g.delete(p)}),_O(l,u,()=>{let w=a.get(pb);return w.runInitializers(),w.donePromise.then(()=>{let C=a.get(fm,Qu);uO(C||Qu);let M=a.get(wa);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}function Si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function yb(t){let e=Cr(t);if(!e)return null;let n=new ks(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ib=null;function er(){return Ib}function Db(t){Ib??=t}var Dl=class{};var mt=new z(""),_m=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(kO),providedIn:"platform"});let t=e;return t})(),bb=new z(""),kO=(()=>{let e=class e extends _m{constructor(){super(),this._doc=k(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function wm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function vb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xn(t){return t&&t[0]!=="?"?"?"+t:t}var tr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(Em),providedIn:"root"});let t=e;return t})(),Tb=new z(""),Em=(()=>{let e=class e extends tr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return wm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(_m),G(Tb,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cb=(()=>{let e=class e extends tr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=wm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(_m),G(Tb,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Ws=(()=>{let e=class e{constructor(r){this._subject=new dt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=VO(vb(_b(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xn(i))}normalize(r){return e.stripTrailingSlash(LO(this._basePath,_b(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Xn,e.joinWithSlash=wm,e.stripTrailingSlash=vb,e.\u0275fac=function(i){return new(i||e)(G(tr))},e.\u0275prov=B({token:e,factory:()=>FO(),providedIn:"root"});let t=e;return t})();function FO(){return new Ws(G(tr))}function LO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function _b(t){return t.replace(/\/index.html$/,"")}function VO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Sb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var mm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ab=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new mm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(o===null?void 0:o);else if(o!==null){let u=i.get(o);i.move(u,a),wb(u,s)}});for(let s=0,o=i.length;s<o;s++){let u=i.get(s).context;u.index=s,u.count=o,u.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);wb(o,s)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ee(Hs),ee(dl),ee(pm))},e.\u0275dir=bt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function wb(t,e){t.context.$implicit=e.item}var Pr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new gm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Eb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Eb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ee(Hs),ee(dl))},e.\u0275dir=bt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),gm=class{constructor(){this.$implicit=null,this.ngIf=null}};function Eb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Dt(e)}'.`)}var Ea=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qn({type:e}),e.\u0275inj=Kn({});let t=e;return t})(),Im="browser",UO="server";function jO(t){return t===Im}function Dm(t){return t===UO}var Mb=(()=>{let e=class e{};e.\u0275prov=B({token:e,providedIn:"root",factory:()=>jO(k(In))?new ym(k(mt),window):new vm});let t=e;return t})(),ym=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=BO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function BO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var vm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},bl=class{};var Sm=class extends Dl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Am=class t extends Sm{static makeCurrent(){Db(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=$O();return n==null?null:HO(n)}resetBaseElement(){Ia=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Sb(document.cookie,e)}},Ia=null;function $O(){return Ia=Ia||document.querySelector("base"),Ia?Ia.getAttribute("href"):null}function HO(t){return new URL(t,document.baseURI).pathname}var qO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Mm=new z(""),Pb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(Mm),G(ve))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Tl=class{constructor(e){this._doc=e}},Tm="ng-app-id",xb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Tm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Tm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Tm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(mt),G(Qp),G(Zp,8),G(In))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Cm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nm=/%COMP%/g,Ob="%COMP%",zO=`_nghost-${Ob}`,GO=`_ngcontent-${Ob}`,WO=!0,KO=new z("",{providedIn:"root",factory:()=>WO});function QO(t){return GO.replace(Nm,t)}function YO(t){return zO.replace(Nm,t)}function kb(t,e){return e.map(n=>n.replace(Nm,t))}var Cl=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Dm(u),this.defaultRenderer=new Da(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===yn.ShadowDom&&(i=Ie(L({},i),{encapsulation:yn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Sl?s.applyToHost(r):s instanceof ba&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(i.encapsulation){case yn.Emulated:o=new Sl(l,h,i,this.appId,p,a,u,g);break;case yn.ShadowDom:return new Rm(l,h,r,i,a,u,this.nonce,g);default:o=new ba(l,h,i,p,a,u,g);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(Pb),G(xb),G(Qp),G(KO),G(mt),G(In),G(ve),G(Zp))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Da=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Cm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Rb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Rb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Cm[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Cm[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gn.DashCase|Gn.Important)?e.style.setProperty(n,r,i&Gn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Rb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Rm=class extends Da{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=kb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ba=class extends Da{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?kb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sl=class extends ba{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=QO(l),this.hostAttr=YO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},JO=(()=>{let e=class e extends Tl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Nb=["alt","control","meta","shift"],ZO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},XO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},ek=(()=>{let e=class e extends Tl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Nb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=ZO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Nb.forEach(a=>{if(a!==s){let u=XO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function Fb(t,e){return gb(L({rootComponent:t},tk(e)))}function tk(t){return{appProviders:[...ok,...t?.providers??[]],platformProviders:sk}}function nk(){Am.makeCurrent()}function rk(){return new wn}function ik(){return ED(document),document}var sk=[{provide:In,useValue:Im},{provide:Yp,useValue:nk,multi:!0},{provide:mt,useFactory:ik,deps:[]}];var ok=[{provide:el,useValue:"root"},{provide:wn,useFactory:rk,deps:[]},{provide:Mm,useClass:JO,multi:!0,deps:[mt,ve,In]},{provide:Mm,useClass:ek,multi:!0,deps:[mt]},Cl,xb,Pb,{provide:_i,useExisting:Cl},{provide:bl,useClass:qO,deps:[]},[]];var Lb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(mt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",ja=Symbol("RouteTitle"),Fm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Zs(t){return new Fm(t)}function ck(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function uk(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!bn(t[n],e[n]))return!1;return!0}function bn(t,e){let n=t?Lm(t):void 0,r=e?Lm(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Gb(t[i],e[i]))return!1;return!0}function Lm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Gb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Wb(t){return t.length>0?t[t.length-1]:null}function Lr(t){return wf(t)?t:Ti(t)?Pe(Promise.resolve(t)):Z(t)}var lk={exact:Qb,subset:Yb},Kb={exact:dk,subset:hk,ignored:()=>!0};function Vb(t,e,n){return lk[n.paths](t.root,e.root,n.matrixParams)&&Kb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function dk(t,e){return bn(t,e)}function Qb(t,e,n){if(!Mi(t.segments,e.segments)||!Rl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Qb(t.children[r],e.children[r],n))return!1;return!0}function hk(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Gb(t[n],e[n]))}function Yb(t,e,n){return Jb(t,e,e.segments,n)}function Jb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mi(i,n)||e.hasChildren()||!Rl(i,n,r))}else if(t.segments.length===n.length){if(!Mi(t.segments,n)||!Rl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Yb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Mi(t.segments,i)||!Rl(t.segments,i,r)||!t.children[re]?!1:Jb(t.children[re],e,s,r)}}function Rl(t,e,n){return e.every((r,i)=>Kb[n](t[i].parameters,r.parameters))}var xr=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){return mk.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nl(this)}},Ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Zs(this.parameters),this._parameterMap}toString(){return Xb(this)}};function fk(t,e){return Mi(t,e)&&t.every((n,r)=>bn(n.parameters,e[r].parameters))}function Mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function pk(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Ba=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>new Na,providedIn:"root"});let t=e;return t})(),Na=class{parse(e){let n=new Um(e);return new xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ta(e.root,!0)}`,r=vk(e.queryParams),i=typeof e.fragment=="string"?`#${gk(e.fragment)}`:"";return`${n}${r}${i}`}},mk=new Na;function Nl(t){return t.segments.map(e=>Xb(e)).join("/")}function Ta(t,e){if(!t.hasChildren())return Nl(t);if(e){let n=t.children[re]?Ta(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Ta(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=pk(t,(r,i)=>i===re?[Ta(t.children[re],!1)]:[`${i}:${Ta(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Nl(t)}/${n[0]}`:`${Nl(t)}/(${n.join("//")})`}}function Zb(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Al(t){return Zb(t).replace(/%3B/gi,";")}function gk(t){return encodeURI(t)}function Vm(t){return Zb(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pl(t){return decodeURIComponent(t)}function Ub(t){return Pl(t.replace(/\+/g,"%20"))}function Xb(t){return`${Vm(t.path)}${yk(t.parameters)}`}function yk(t){return Object.entries(t).map(([e,n])=>`;${Vm(e)}=${Vm(n)}`).join("")}function vk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Al(n)}=${Al(i)}`).join("&"):`${Al(n)}=${Al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var _k=/^[^\/()?;#]+/;function Pm(t){let e=t.match(_k);return e?e[0]:""}var wk=/^[^\/()?;=#]+/;function Ek(t){let e=t.match(wk);return e?e[0]:""}var Ik=/^[^=?&#]+/;function Dk(t){let e=t.match(Ik);return e?e[0]:""}var bk=/^[^&#]+/;function Tk(t){let e=t.match(bk);return e?e[0]:""}var Um=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ee(e,n)),r}parseSegment(){let e=Pm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ai(Pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Ek(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Pm(this.remaining);i&&(r=i,this.capture(r))}e[Pl(n)]=Pl(r)}parseQueryParam(e){let n=Dk(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Tk(this.remaining);o&&(r=o,this.capture(r))}let i=Ub(n),s=Ub(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function eT(t){return t.segments.length>0?new Ee([],{[re]:t}):t}function tT(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=tT(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return Ck(n)}function Ck(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Xs(t){return t instanceof xr}function Sk(t,e,n=null,r=null){let i=nT(t);return rT(i,e,n,r)}function nT(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=eT(r);return e??i}function rT(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return xm(i,i,i,n,r);let s=Ak(e);if(s.toRoot())return xm(i,i,new Ee([],{}),n,r);let o=Mk(s,i,t),a=o.processChildren?Aa(o.segmentGroup,o.index,s.commands):sT(o.segmentGroup,o.index,s.commands);return xm(i,o.segmentGroup,a,n,r)}function xl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Pa(t){return typeof t=="object"&&t!=null&&t.outlets}function xm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=iT(t,e,n);let a=eT(tT(o));return new xr(a,s,i)}function iT(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=iT(s,e,n)}),new Ee(t.segments,r)}var Ol=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&xl(r[0]))throw new P(4003,!1);let i=r.find(Pa);if(i&&i!==Wb(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ak(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Ol(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ol(n,e,r)}var Ys=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Mk(t,e,n){if(t.isAbsolute)return new Ys(e,!0,0);if(!n)return new Ys(e,!1,NaN);if(n.parent===null)return new Ys(n,!0,0);let r=xl(t.commands[0])?0:1,i=n.segments.length-1+r;return Rk(n,i,t.numberOfDoubleDots)}function Rk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Ys(r,!1,i-s)}function Nk(t){return Pa(t[0])?t[0].outlets:{[re]:t}}function sT(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Aa(t,e,n);let r=Pk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(t.segments.slice(r.pathIndex),t.children),Aa(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?jm(t,e,n):r.match?Aa(t,0,i):jm(t,e,n)}function Aa(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=Nk(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Aa(t.children[re],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=sT(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function Pk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Pa(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Bb(u,l,o))return s;r+=2}else{if(!Bb(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function jm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Pa(s)){let u=xk(s.outlets);return new Ee(r,u)}if(i===0&&xl(n[0])){let u=t.segments[e];r.push(new Ai(u.path,jb(n[0]))),i++;continue}let o=Pa(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&xl(a)?(r.push(new Ai(o,jb(a))),i+=2):(r.push(new Ai(o,{})),i++)}return new Ee(r,{})}function xk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=jm(new Ee([],{}),0,r))}),e}function jb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Bb(t,e,n){return t==n.path&&bn(e,n.parameters)}var Ma="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Xt=class{constructor(e,n){this.id=e,this.url=n}},eo=class extends Xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Tn=class extends Xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),kl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(kl||{}),Or=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},xa=class extends Xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fl=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bm=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$m=class extends Xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hm=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qm=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Gm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Wm=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Km=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ym=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ll=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Oa=class{},ka=class{constructor(e){this.url=e}};var Jm=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $a,this.attachRef=null}},$a=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jm,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Zm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Zm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Xm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Xm(e,this._root).map(n=>n.value)}};function Zm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Zm(t,n);if(r)return r}return null}function Xm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Xm(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Qs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ul=class extends Vl{constructor(e,n){super(e),this.snapshot=n,ug(this,e)}toString(){return this.snapshot.toString()}};function oT(t){let e=Ok(t),n=new ze([new Ai("",{})]),r=new ze({}),i=new ze({}),s=new ze({}),o=new ze(""),a=new Fr(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new Ul(new Vt(a,[]),e)}function Ok(t){let e={},n={},r={},i="",s=new Fa([],e,r,i,n,re,t,null,{});return new jl("",new Vt(s,[]))}var Fr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[ja]))??Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Zs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Zs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function cg(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&cT(i)&&(r.resolve[ja]=i.title),r}var Fa=class{get title(){return this.data?.[ja]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},jl=class extends Vl{constructor(e,n){super(n),this.url=e,ug(this,n)}toString(){return aT(this._root)}};function ug(t,e){e.value._routerState=t,e.children.forEach(n=>ug(t,n))}function aT(t){let e=t.children.length>0?` { ${t.children.map(aT).join(", ")} } `:"";return`${t.value}${e}`}function Om(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,bn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),bn(e.params,n.params)||t.paramsSubject.next(n.params),uk(e.url,n.url)||t.urlSubject.next(n.url),bn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function eg(t,e){let n=bn(t.params,e.params)&&fk(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||eg(t.parent,e.parent))}function cT(t){return typeof t.title=="string"||t.title===null}var lg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new dt,this.deactivateEvents=new dt,this.attachEvents=new dt,this.detachEvents=new dt,this.parentContexts=k($a),this.location=k(Hs),this.changeDetector=k(Ci),this.environmentInjector=k(Mt),this.inputBinder=k(ql,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new tg(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=bt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ei]});let t=e;return t})(),tg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fr?this.route:e===$a?this.childContexts:this.parent.get(e,n)}},ql=new z(""),$b=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=ea([i.queryParams,i.params,i.data]).pipe(Kt(([o,a,u],l)=>(u=L(L(L({},o),a),u),l===0?Z(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=yb(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function kk(t,e,n){let r=La(t,e._root,n?n._root:void 0);return new Ul(r,e)}function La(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Fk(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>La(t,a)),o}}let r=Lk(e.value),i=e.children.map(s=>La(t,s));return new Vt(r,i)}}function Fk(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return La(t,r,i);return La(t,r)})}function Lk(t){return new Fr(new ze(t.url),new ze(t.params),new ze(t.queryParams),new ze(t.fragment),new ze(t.data),t.outlet,t.component,t)}var uT="ngNavigationCancelingError";function lT(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Xs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=dT(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function dT(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[uT]=!0,n.cancellationCode=e,n}function Vk(t){return hT(t)&&Xs(t.url)}function hT(t){return!!t&&t[uT]}var Uk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pt],decls:1,vars:0,template:function(i,s){i&1&&rt(0,"router-outlet")},dependencies:[lg],encapsulation:2});let t=e;return t})();function jk(t,e){return t.providers&&!t._injector&&(t._injector=pl(t.providers,e,`Route: ${t.path}`)),t._injector??e}function dg(t){let e=t.children&&t.children.map(dg),n=e?Ie(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=Uk),n}function Cn(t){return t.outlet||re}function Bk(t,e){let n=t.filter(r=>Cn(r)===e);return n.push(...t.filter(r=>Cn(r)!==e)),n}function Ha(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var $k=(t,e,n,r)=>le(i=>(new ng(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),ng=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Om(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Qs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Qs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Qs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ym(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Km(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Om(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Om(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ha(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Bl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Js=class{constructor(e,n){this.component=e,this.route=n}};function Hk(t,e,n){let r=t._root,i=e?e._root:null;return Ca(r,i,n,[r.value])}function qk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function no(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!fI(t)?t:e.get(t):r}function Ca(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Qs(e);return t.children.forEach(o=>{zk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ra(a,n.getContext(o),i)),i}function zk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Gk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Bl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ca(t,e,a?a.children:null,r,i):Ca(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Js(a.outlet.component,o))}else o&&Ra(e,a,i),i.canActivateChecks.push(new Bl(r)),s.component?Ca(t,null,a?a.children:null,r,i):Ca(t,null,n,r,i);return i}function Gk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(t.url,e.url)||!bn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eg(t,e)||!bn(t.queryParams,e.queryParams);case"paramsChange":default:return!eg(t,e)}}function Ra(t,e,n){let r=Qs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ra(o,e.children.getContext(s),n):Ra(o,null,n):Ra(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Js(e.outlet.component,i)):n.canDeactivateChecks.push(new Js(null,i)):n.canDeactivateChecks.push(new Js(null,i))}function qa(t){return typeof t=="function"}function Wk(t){return typeof t=="boolean"}function Kk(t){return t&&qa(t.canLoad)}function Qk(t){return t&&qa(t.canActivate)}function Yk(t){return t&&qa(t.canActivateChild)}function Jk(t){return t&&qa(t.canDeactivate)}function Zk(t){return t&&qa(t.canMatch)}function fT(t){return t instanceof Hn||t?.name==="EmptyError"}var Ml=Symbol("INITIAL_VALUE");function to(){return Kt(t=>ea(t.map(e=>e.pipe(qn(1),Tf(Ml)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Ml)return Ml;if(n===!1||n instanceof xr)return n}return!0}),Wt(e=>e!==Ml),qn(1)))}function Xk(t,e){return Be(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Z(Ie(L({},n),{guardsResult:!0})):e1(o,r,i,t).pipe(Be(a=>a&&Wk(a)?t1(r,s,t,e):Z(a)),le(a=>Ie(L({},n),{guardsResult:a})))})}function e1(t,e,n,r){return Pe(t).pipe(Be(i=>o1(i.component,i.route,n,e,r)),pn(i=>i!==!0,!0))}function t1(t,e,n,r){return Pe(e).pipe(ui(i=>_s(r1(i.route.parent,r),n1(i.route,r),s1(t,i.path,n),i1(t,i.route,n))),pn(i=>i!==!0,!0))}function n1(t,e){return t!==null&&e&&e(new Qm(t)),Z(!0)}function r1(t,e){return t!==null&&e&&e(new Wm(t)),Z(!0)}function i1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(s=>wu(()=>{let o=Ha(e)??n,a=no(s,o),u=Qk(a)?a.canActivate(e,t):Yn(o,()=>a(e,t));return Lr(u).pipe(pn())}));return Z(i).pipe(to())}function s1(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>qk(o)).filter(o=>o!==null).map(o=>wu(()=>{let a=o.guards.map(u=>{let l=Ha(o.node)??n,h=no(u,l),p=Yk(h)?h.canActivateChild(r,t):Yn(l,()=>h(r,t));return Lr(p).pipe(pn())});return Z(a).pipe(to())}));return Z(s).pipe(to())}function o1(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Z(!0);let o=s.map(a=>{let u=Ha(e)??i,l=no(a,u),h=Jk(l)?l.canDeactivate(t,e,n,r):Yn(u,()=>l(t,e,n,r));return Lr(h).pipe(pn())});return Z(o).pipe(to())}function a1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let s=i.map(o=>{let a=no(o,t),u=Kk(a)?a.canLoad(e,n):Yn(t,()=>a(e,n));return Lr(u)});return Z(s).pipe(to(),pT(r))}function pT(t){return hf(Ge(e=>{if(Xs(e))throw lT(t,e)}),le(e=>e===!0))}function c1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let s=i.map(o=>{let a=no(o,t),u=Zk(a)?a.canMatch(e,n):Yn(t,()=>a(e,n));return Lr(u)});return Z(s).pipe(to(),pT(r))}var Va=class{constructor(e){this.segmentGroup=e||null}},$l=class extends Error{constructor(e){super(),this.urlTree=e}};function Ks(t){return ys(new Va(t))}function u1(t){return ys(new P(4e3,!1))}function l1(t){return ys(dT(!1,Ut.GuardRejected))}var rg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return u1(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new $l(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new xr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function d1(t,e,n,r,i){let s=hg(t,e,n);return s.matched?(r=jk(e,r),c1(r,e,n,i).pipe(le(o=>o===!0?s:L({},ig)))):Z(s)}function hg(t,e,n){if(e.path==="**")return h1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ck)(n,t,e);if(!i)return L({},ig);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function h1(t){return{matched:!0,parameters:t.length>0?Wb(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Hb(t,e,n,r){return n.length>0&&m1(t,n,r)?{segmentGroup:new Ee(e,p1(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&g1(t,n,r)?{segmentGroup:new Ee(t.segments,f1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function f1(t,e,n,r){let i={};for(let s of n)if(zl(t,e,s)&&!r[Cn(s)]){let o=new Ee([],{});i[Cn(s)]=o}return L(L({},r),i)}function p1(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Cn(r)!==re){let i=new Ee([],{});n[Cn(r)]=i}return n}function m1(t,e,n){return n.some(r=>zl(t,e,r)&&Cn(r)!==re)}function g1(t,e,n){return n.some(r=>zl(t,e,r))}function zl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function y1(t,e,n,r){return Cn(t)!==r&&(r===re||!zl(e,n,t))?!1:hg(e,t,n).matched}function v1(t,e,n){return e.length===0&&!t.children[n]}var sg=class{};function _1(t,e,n,r,i,s,o="emptyOnly"){return new og(t,e,n,r,i,o,s).recognize()}var w1=31,og=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new rg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=Hb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(n=>{let r=new Fa([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Vt(r,n),s=new jl("",i),o=Sk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Ir(r=>{if(r instanceof $l)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Va?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=cg(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(le(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Pe(i).pipe(ui(s=>{let o=r.children[s],a=Bk(n,s);return this.processSegmentGroup(e,a,o,s)}),bf((s,o)=>(s.push(...o),s)),Dr(null),Df(),Be(s=>{if(s===null)return Ks(r);let o=mT(s);return E1(o),Z(o)}))}processSegment(e,n,r,i,s,o){return Pe(n).pipe(ui(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ir(u=>{if(u instanceof Va)return Z(null);throw u}))),pn(a=>!!a),Ir(a=>{if(fT(a))return v1(r,i,s)?Z(new sg):Ks(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return y1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ks(i):Ks(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:h}=hg(n,i,s);if(!a)return Ks(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>w1&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(Be(g=>this.processSegment(e,r,n,g.concat(h),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=d1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Kt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:h,remainingSegments:p,parameters:g}=a,w=new Fa(h,g,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,D1(r),Cn(r),r.component??r._loadedComponent??null,r,b1(r)),{segmentGroup:C,slicedSegments:M}=Hb(n,h,p,u);if(M.length===0&&C.hasChildren())return this.processChildren(l,u,C).pipe(le(F=>F===null?null:new Vt(w,F)));if(u.length===0&&M.length===0)return Z(new Vt(w,[]));let R=Cn(r)===s;return this.processSegment(l,u,C,M,R?re:s,!0).pipe(le(F=>new Vt(w,F instanceof Vt?[F]:[])))}))):Ks(n)))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):a1(e,n,r,this.urlSerializer).pipe(Be(i=>i?this.configLoader.loadChildren(e,n).pipe(Ge(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):l1(n))):Z({routes:[],injector:e})}};function E1(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function I1(t){let e=t.value.routeConfig;return e&&e.path===""}function mT(t){let e=[],n=new Set;for(let r of t){if(!I1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=mT(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function D1(t){return t.data||{}}function b1(t){return t.resolve||{}}function T1(t,e,n,r,i,s){return Be(o=>_1(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:u})=>Ie(L({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function C1(t,e){return Be(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of gT(u))o.add(l);let a=0;return Pe(o).pipe(ui(u=>s.has(u)?S1(u,r,t,e):(u.data=cg(u,u.parent,t).resolve,Z(void 0))),Ge(()=>a++),ws(1),Be(u=>a===o.size?Z(n):Ft))})}function gT(t){let e=t.children.map(n=>gT(n)).flat();return[t,...e]}function S1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!cT(i)&&(s[ja]=i.title),A1(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=cg(t,t.parent,n).resolve,null)))}function A1(t,e,n,r){let i=Lm(t);if(i.length===0)return Z({});let s={};return Pe(i).pipe(Be(o=>M1(t[o],e,n,r).pipe(pn(),Ge(a=>{s[o]=a}))),ws(1),If(s),Ir(o=>fT(o)?Ft:ys(o)))}function M1(t,e,n,r){let i=Ha(e)??r,s=no(t,i),o=s.resolve?s.resolve(e,n):Yn(i,()=>s(e,n));return Lr(o)}function km(t){return Kt(e=>{let n=t(e);return n?Pe(n).pipe(le(()=>e)):Z(e)})}var yT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[ja]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(R1),providedIn:"root"});let t=e;return t})(),R1=(()=>{let e=class e extends yT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(Lb))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),za=new z("",{providedIn:"root",factory:()=>({})}),Ua=new z(""),fg=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Il)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Lr(r.loadComponent()).pipe(le(vT),Ge(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),ta(()=>{this.componentLoaders.delete(r)})),s=new fs(i,()=>new lt).pipe(hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=N1(i,this.compiler,r,this.onLoadEndListener).pipe(ta(()=>{this.childrenLoaders.delete(i)})),a=new fs(o,()=>new lt).pipe(hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N1(t,e,n,r){return Lr(t.loadChildren()).pipe(le(vT),Be(i=>i instanceof la||Array.isArray(i)?Z(i):Pe(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Ua,[],{optional:!0,self:!0}).flat()),{routes:o.map(dg),injector:s}}))}function P1(t){return t&&typeof t=="object"&&"default"in t}function vT(t){return P1(t)?t.default:t}var pg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(x1),providedIn:"root"});let t=e;return t})(),x1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_T=new z(""),wT=new z("");function O1(t,e,n){let r=t.get(wT),i=t.get(mt);return t.get(ve).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),k1(t))),{onViewTransitionCreated:u}=r;return u&&Yn(t,()=>u({transition:a,from:e,to:n})),o})}function k1(t){return new Promise(e=>{fl(e,{injector:t})})}var mg=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new lt,this.transitionAbortSubject=new lt,this.configLoader=k(fg),this.environmentInjector=k(Mt),this.urlSerializer=k(Ba),this.rootContexts=k($a),this.location=k(Ws),this.inputBindingEnabled=k(ql,{optional:!0})!==null,this.titleStrategy=k(yT),this.options=k(za,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(pg),this.createViewTransition=k(_T,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let r=s=>this.events.next(new zm(s)),i=s=>this.events.next(new Gm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ie(L(L({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new ze({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ma,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wt(o=>o.id!==0),le(o=>Ie(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Kt(o=>{let a=!1,u=!1;return Z(o).pipe(Kt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let g="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.rawUrl),g,kl.IgnoredSameUrlNavigation)),l.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(Kt(g=>{let w=this.transitions?.getValue();return this.events.next(new eo(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),w!==this.transitions?.getValue()?Ft:Promise.resolve(g)}),T1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ge(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=Ie(L({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let w=new Fl(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:g,extractedUrl:w,source:C,restoredState:M,extras:R}=l,F=new eo(g,this.urlSerializer.serialize(w),C,M);this.events.next(F);let $=oT(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(L({},l),{targetSnapshot:$,urlAfterRedirects:w,extras:Ie(L({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,Z(o)}else{let g="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.extractedUrl),g,kl.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ft}}),Ge(l=>{let h=new Bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),le(l=>(this.currentTransition=o=Ie(L({},l),{guards:Hk(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Xk(this.environmentInjector,l=>this.events.next(l)),Ge(l=>{if(o.guardsResult=l.guardsResult,Xs(l.guardsResult))throw lT(this.urlSerializer,l.guardsResult);let h=new $m(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),km(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Ge(h=>{let p=new Hm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),Kt(h=>{let p=!1;return Z(h).pipe(C1(this.paramsInheritanceStrategy,this.environmentInjector),Ge({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Ut.NoDataFromResolver)}}))}),Ge(h=>{let p=new qm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),km(l=>{let h=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ge(w=>{p.component=w}),le(()=>{})));for(let w of p.children)g.push(...h(w));return g};return ea(h(l.targetSnapshot.root)).pipe(Dr(null),qn(1))}),km(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?Pe(p).pipe(le(()=>o)):Z(o)}),le(l=>{let h=kk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ie(L({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Ge(()=>{this.events.next(new Oa)}),$k(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qn(1),Ge({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Tn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Cf(this.transitionAbortSubject.pipe(Ge(l=>{throw l}))),ta(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(l=>{if(u=!0,hT(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Vk(l)?this.events.next(new ka(l.url)):o.resolve(!1);else{this.events.next(new xa(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(h){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(h)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let o=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function F1(t){return t!==Ma}var L1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(V1),providedIn:"root"});let t=e;return t})(),ag=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},V1=(()=>{let e=class e extends ag{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ma(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ET=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:()=>k(U1),providedIn:"root"});let t=e;return t})(),U1=(()=>{let e=class e extends ET{constructor(){super(...arguments),this.location=k(Ws),this.urlSerializer=k(Ba),this.options=k(za,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(pg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof eo)this.stateMemento=this.createStateMemento();else if(r instanceof kr)this.rawUrlTree=i.initialUrl;else if(r instanceof Fl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Oa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Or&&(r.code===Ut.GuardRejected||r.code===Ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof xa?this.restoreHistory(i,!0):r instanceof Tn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=L(L({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ma(e)))(s||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Sa||{});function IT(t,e){t.events.pipe(Wt(n=>n instanceof Tn||n instanceof Or||n instanceof xa||n instanceof kr),le(n=>n instanceof Tn||n instanceof kr?Sa.COMPLETE:(n instanceof Or?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Sa.REDIRECTING:Sa.FAILED),Wt(n=>n!==Sa.REDIRECTING),qn(1)).subscribe(()=>{e()})}function j1(t){throw t}var B1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},st=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(_l),this.stateManager=k(ET),this.options=k(za,{optional:!0})||{},this.pendingTasks=k(ml),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(mg),this.urlSerializer=k(Ba),this.location=k(Ws),this.urlHandlingStrategy=k(pg),this._events=new lt,this.errorHandler=this.options.errorHandler||j1,this.navigated=!1,this.routeReuseStrategy=k(L1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Ua,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(ql,{optional:!0}),this.eventsSubscription=new Ve,this.isNgZoneEnabled=k(ve)instanceof ve&&ve.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Or&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Tn)this.navigated=!0;else if(i instanceof ka){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||F1(s.source)};this.scheduleNavigation(a,Ma,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}q1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ma,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=L({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(dg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let w=s?s.snapshot:this.routerState.snapshot.root;g=nT(w)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),g=this.currentUrlTree.root}return rT(g,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Xs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ma,null,i)}navigate(r,i={skipLocationChange:!1}){return H1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=L({},B1):i===!1?s=L({},$1):s=i,Xs(r))return Vb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Vb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((g,w)=>{u=g,l=w});let p=this.pendingTasks.add();return IT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function q1(t){return!(t instanceof Oa)&&!(t instanceof ka)}var DT=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof Tn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:bD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(ee(st),ee(Fr),Wp("tabindex"),ee(Ii),ee(Rr),ee(tr))},e.\u0275dir=bt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&it("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&gl("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ht.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Si],skipLocationChange:[ht.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Si],replaceUrl:[ht.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},standalone:!0,features:[hm,Ei]});let t=e;return t})();var Hl=class{};var z1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(r=>r instanceof Tn),ui(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=pl(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Pe(s).pipe(vs())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=Z(null);let o=s.pipe(Be(a=>a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Pe([o,a]).pipe(vs())}else return o})}};e.\u0275fac=function(i){return new(i||e)(G(st),G(Il),G(Mt),G(Hl),G(fg))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bT=new z(""),G1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(Mt),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof eo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Tn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof kr&&r.code===kl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ll&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>D(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),fl(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ll(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){FD()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function TT(t,...e){return En([{provide:Ua,multi:!0,useValue:t},[],{provide:Fr,useFactory:CT,deps:[st]},{provide:El,multi:!0,useFactory:ST},e.map(n=>n.\u0275providers)])}function CT(t){return t.routerState.root}function Ga(t,e){return{\u0275kind:t,\u0275providers:e}}function ST(){let t=k(Tt);return e=>{let n=t.get(wa);if(e!==n.components[0])return;let r=t.get(st),i=t.get(AT);t.get(gg)===1&&r.initialNavigation(),t.get(MT,null,se.Optional)?.setUpPreloading(),t.get(bT,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var AT=new z("",{factory:()=>new lt}),gg=new z("",{providedIn:"root",factory:()=>1});function W1(){return Ga(2,[{provide:gg,useValue:0},{provide:wl,multi:!0,deps:[Tt],useFactory:e=>{let n=e.get(bb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(st),s=e.get(AT);IT(i,()=>{r(!0)}),e.get(mg).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))}}])}function K1(){return Ga(3,[{provide:wl,multi:!0,useFactory:()=>{let e=k(st);return()=>{e.setUpLocationChangeListener()}}},{provide:gg,useValue:2}])}var MT=new z("");function Q1(t){return Ga(0,[{provide:MT,useExisting:z1},{provide:Hl,useExisting:t}])}function Y1(){return Ga(8,[$b,{provide:ql,useExisting:$b}])}function J1(t){let e=[{provide:_T,useValue:O1},{provide:wT,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ga(9,e)}var qb=new z("ROUTER_FORROOT_GUARD"),Z1=[Ws,{provide:Ba,useClass:Na},st,$a,{provide:Fr,useFactory:CT,deps:[st]},fg,[]],Gl=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Z1,[],{provide:Ua,multi:!0,useValue:r},{provide:qb,useFactory:nF,deps:[[st,new pt,new Np]]},{provide:za,useValue:i||{}},i?.useHash?eF():tF(),X1(),i?.preloadingStrategy?Q1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?rF(i):[],i?.bindToComponentInputs?Y1().\u0275providers:[],i?.enableViewTransitions?J1().\u0275providers:[],iF()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ua,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(qb,8))},e.\u0275mod=Qn({type:e}),e.\u0275inj=Kn({});let t=e;return t})();function X1(){return{provide:bT,useFactory:()=>{let t=k(Mb),e=k(ve),n=k(za),r=k(mg),i=k(Ba);return n.scrollOffset&&t.setOffset(n.scrollOffset),new G1(i,r,t,e,n)}}}function eF(){return{provide:tr,useClass:Cb}}function tF(){return{provide:tr,useClass:Em}}function nF(t){return"guarded"}function rF(t){return[t.initialNavigation==="disabled"?K1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?W1().\u0275providers:[]]}var zb=new z("");function iF(){return[{provide:zb,useFactory:ST},{provide:El,multi:!0,useExisting:zb}]}var ie=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ie||{}),Sn="*";function Ri(t,e){return{type:ie.Trigger,name:t,definitions:e,options:{}}}function An(t,e=null){return{type:ie.Animate,styles:e,timings:t}}function RT(t,e=null){return{type:ie.Sequence,steps:t,options:e}}function ot(t){return{type:ie.Style,styles:t,offset:null}}function Mn(t,e,n=null){return{type:ie.Transition,expr:t,animation:e,options:n}}var Vr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Wa=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Kl="!";var NT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["app-about-me"]],standalone:!0,features:[Pt],decls:17,vars:1,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","font-size","1.3rem"],[1,"card-body"],[1,"text-center"],["src","assets/1.jpg","alt","Profile Picture",1,"img-fluid","rounded-circle","mb-3",2,"max-width","250px","height","auto"],[1,"card-title",2,"color","white","font-size","2rem"],[1,"card-subtitle",2,"color","white","font-size","1.2rem"],[1,"card-title",2,"color","white","font-size","1.3rem"],[1,"card-text",2,"color","white","font-size","1.1rem"]],template:function(i,s){i&1&&(W(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),pe(5,"About me"),Y(),W(6,"div",5)(7,"div",6),rt(8,"img",7),W(9,"h3",8),pe(10,"Serena Dematei"),Y(),W(11,"p",9),pe(12,"Programming Student - Universidad Tecnol\xF3gica Nacional"),Y(),W(13,"h4",10),pe(14,"GAME NAME asdsadsa "),Y(),W(15,"p",11),pe(16," Loremm ipsum dolor sit amet consectetur adipisicing elit. Ratione non qui voluptas ipsam, perferendis illo soluta omnis eveniet cumque impedit aperiam, perspiciatis labore modi! Placeat hic impedit ipsum cumque tempora?"),Y()()()()()()()),i&2&&nt("@fadeInOut",void 0)},data:{animation:[Ri("fadeInOut",[Mn(":enter",[ot({opacity:0}),An("800ms",ot({opacity:1}))]),Mn(":leave",[An("800ms",ot({opacity:0}))])]),Ri("slideInFromTop",[Mn(":enter",[ot({transform:"translateY(-50px)",opacity:0}),An("500ms ease-out",ot({transform:"translateY(0)",opacity:1}))])])]}});let t=e;return t})();var xT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},OT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,g=(a&15)<<2|l>>6,w=l&63;u||(w=64,o||(g=64)),r.push(n[h],n[p],n[g],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(xT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new vg;let g=s<<2|a>>4;if(r.push(g),l!==64){let w=a<<4&240|l>>2;if(r.push(w),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},vg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oF=function(t){let e=xT(t);return OT.encodeByteArray(e,!0)},Ka=function(t){return oF(t).replace(/\./g,"")},wg=function(t){try{return OT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cF=()=>aF().__FIREBASE_DEFAULTS__,uF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&wg(t[1]);return e&&JSON.parse(e)},Yl=()=>{try{return cF()||uF()||lF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Eg=t=>{var e,n;return(n=(e=Yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},kT=t=>{let e=Eg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ig=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.config},Dg=t=>{var e;return(e=Yl())===null||e===void 0?void 0:e[`_${t}`]};var Ql=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function FT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ka(JSON.stringify(n)),Ka(JSON.stringify(o)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function dF(){var t;let e=(t=Yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jT(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BT(){return!dF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bg(){try{return typeof indexedDB=="object"}catch{return!1}}function $T(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hF="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fF(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jt(i,a,r)}};function fF(t,e){return t.replace(pF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pF=/\{\$([^}]+)}/g;function HT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(PT(s)&&PT(o)){if(!Ni(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}function Qa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ro(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function io(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function qT(t,e){let n=new _g(t,e);return n.subscribe.bind(n)}var _g=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=yg),i.error===void 0&&(i.error=yg),i.complete===void 0&&(i.complete=yg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function mF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yg(){}var q9=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var en=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var Tg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ql;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yF(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gF(t){return t===Pi?void 0:t}function yF(t){return t.instantiationMode==="EAGER"}var Jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Tg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vF=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),_F={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},wF=de.INFO,EF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},IF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=EF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ur=class{constructor(e){this.name=e,this._logLevel=wF,this._logHandler=IF,this._userLogHandler=null,vF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var DF=(t,e)=>e.some(n=>t instanceof n),zT,GT;function bF(){return zT||(zT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TF(){return GT||(GT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WT=new WeakMap,Sg=new WeakMap,KT=new WeakMap,Cg=new WeakMap,Mg=new WeakMap;function CF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Rn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,t)}).catch(()=>{}),Mg.set(e,t),e}function SF(t){if(Sg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sg.set(t,e)}var Ag={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||KT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function QT(t){Ag=t(Ag)}function AF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Zl(this),e,...n);return KT.set(r,e.sort?e.sort():[e]),Rn(r)}:TF().includes(t)?function(...e){return t.apply(Zl(this),e),Rn(WT.get(this))}:function(...e){return Rn(t.apply(Zl(this),e))}}function MF(t){return typeof t=="function"?AF(t):(t instanceof IDBTransaction&&SF(t),DF(t,bF())?new Proxy(t,Ag):t)}function Rn(t){if(t instanceof IDBRequest)return CF(t);if(Cg.has(t))return Cg.get(t);let e=MF(t);return e!==t&&(Cg.set(t,e),Mg.set(e,t)),e}var Zl=t=>Mg.get(t);function JT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Rn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Rn(o.result),u.oldVersion,u.newVersion,Rn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var RF=["get","getKey","getAll","getAllKeys","count"],NF=["put","add","delete","clear"],Rg=new Map;function YT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rg.get(e))return Rg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||RF.includes(n)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Rg.set(e,s),s}QT(t=>Ie(L({},t),{get:(e,n,r)=>YT(e,n)||t.get(e,n,r),has:(e,n)=>!!YT(e,n)||t.has(e,n)}));var Pg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PF(t){let e=t.getComponent();return e?.type==="VERSION"}var xg="@firebase/app",ZT="0.10.5";var xi=new Ur("@firebase/app"),xF="@firebase/app-compat",OF="@firebase/analytics-compat",kF="@firebase/analytics",FF="@firebase/app-check-compat",LF="@firebase/app-check",VF="@firebase/auth",UF="@firebase/auth-compat",jF="@firebase/database",BF="@firebase/database-compat",$F="@firebase/functions",HF="@firebase/functions-compat",qF="@firebase/installations",zF="@firebase/installations-compat",GF="@firebase/messaging",WF="@firebase/messaging-compat",KF="@firebase/performance",QF="@firebase/performance-compat",YF="@firebase/remote-config",JF="@firebase/remote-config-compat",ZF="@firebase/storage",XF="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/vertexai-preview",nL="@firebase/firestore-compat",rL="firebase",iL="10.12.2";var Og="[DEFAULT]",sL={[xg]:"fire-core",[xF]:"fire-core-compat",[kF]:"fire-analytics",[OF]:"fire-analytics-compat",[LF]:"fire-app-check",[FF]:"fire-app-check-compat",[VF]:"fire-auth",[UF]:"fire-auth-compat",[jF]:"fire-rtdb",[BF]:"fire-rtdb-compat",[$F]:"fire-fn",[HF]:"fire-fn-compat",[qF]:"fire-iid",[zF]:"fire-iid-compat",[GF]:"fire-fcm",[WF]:"fire-fcm-compat",[KF]:"fire-perf",[QF]:"fire-perf-compat",[YF]:"fire-rc",[JF]:"fire-rc-compat",[ZF]:"fire-gcs",[XF]:"fire-gcs-compat",[eL]:"fire-fst",[nL]:"fire-fst-compat",[tL]:"fire-vertex","fire-js":"fire-js",[rL]:"fire-js-all"};var Ya=new Map,oL=new Map,kg=new Map;function XT(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){let e=t.name;if(kg.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;kg.set(e,t);for(let n of Ya.values())XT(n,t);for(let n of oL.values())XT(n,t);return!0}function Za(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hn(t){return t.settings!==void 0}var aL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new nr("app","Firebase",aL);var Fg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var $r=iL;function Ug(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Og,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=Ig()),!n)throw jr.create("no-options");let s=Ya.get(i);if(s){if(Ni(n,s.options)&&Ni(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}let o=new Jl(i);for(let u of kg.values())o.addComponent(u);let a=new Fg(n,r,o);return Ya.set(i,a),a}function so(t=Og){let e=Ya.get(t);if(!e&&t===Og&&Ig())return Ug();if(!e)throw jr.create("no-app",{appName:t});return e}function Xl(){return Array.from(Ya.values())}function Qe(t,e,n){var r;let i=(r=sL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}Br(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var cL="firebase-heartbeat-database",uL=1,Ja="firebase-heartbeat-store",Ng=null;function rC(){return Ng||(Ng=JT(cL,uL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),Ng}function lL(t){return D(this,null,function*(){try{let n=(yield rC()).transaction(Ja),r=yield n.objectStore(Ja).get(iC(t));return yield n.done,r}catch(e){if(e instanceof jt)xi.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}})}function eC(t,e){return D(this,null,function*(){try{let r=(yield rC()).transaction(Ja,"readwrite");yield r.objectStore(Ja).put(e,iC(t)),yield r.done}catch(n){if(n instanceof jt)xi.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n?.message});xi.warn(r.message)}}})}function iC(t){return`${t.name}!${t.options.appId}`}var dL=1024,hL=30*24*60*60*1e3,Lg=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Vg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=hL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return D(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=tC(),{heartbeatsToSend:r,unsentEntries:i}=fL(this._heartbeatsCache.heartbeats),s=Ka(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function tC(){return new Date().toISOString().substring(0,10)}function fL(t,e=dL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Vg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return bg()?$T().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield lL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nC(t){return Ka(JSON.stringify({version:2,heartbeats:t})).length}function pL(t){Br(new en("platform-logger",e=>new Pg(e),"PRIVATE")),Br(new en("heartbeat",e=>new Lg(e),"PRIVATE")),Qe(xg,ZT,t),Qe(xg,ZT,"esm2017"),Qe("fire-js","")}pL("");var mL="firebase",gL="10.12.2";Qe(mL,gL,"app");var ki=new Wn("ANGULARFIRE2_VERSION");function td(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Xa=(t,e)=>{let n=e?[e]:Xl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ao=class{constructor(){return Xa(yL)}},yL="app-check";function oo(){}var ed=class{zone;delegate;constructor(e,n=vf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},jg=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo)),n.pipe(Ge({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},co=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ed(Zone.current)),this.insideAngular=n.run(()=>new ed(Zone.current,yf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(ve))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function vL(t){return nd().ngZone.runOutsideAngular(()=>t())}function Oi(t){return nd().ngZone.run(()=>t())}function _L(t){return wL(nd())(t)}function wL(t){return function(n){return n=n.lift(new jg(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var EL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Oi(()=>t.apply(void 0,r))},tn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oo,{},oo,oo))),r[s]=EL(r[s],n));let i=vL(()=>t.apply(this,r));if(!e)if(i instanceof me){let s=nd();return i.pipe(Er(s.outsideAngular),wr(s.insideAngular))}else return Oi(()=>i);return i instanceof me?i.pipe(_L):i instanceof Promise?Oi(()=>new Promise((s,o)=>i.then(a=>Oi(()=>s(a)),a=>Oi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Oi(()=>i)};var rr=class{constructor(e){return e}},Fi=class{constructor(){return Xl()}};function IL(t){return t&&t.length===1?t[0]:new rr(so())}var Bg=new z("angularfire2._apps"),DL={provide:rr,useFactory:IL,deps:[[new pt,Bg]]},bL={provide:Fi,deps:[[new pt,Bg]]};function TL(t){return(e,n)=>{let r=n.get(In);Qe("angularfire",ki.full,"core"),Qe("angularfire",ki.full,"app"),Qe("angular",db.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new rr(i)}}function sC(t,...e){return En([DL,bL,{provide:Bg,useFactory:TL(t),multi:!0,deps:[ve,Tt,co,...e]}])}var oC=tn(Ug,!0);function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var bC=DC,TC=new nr("auth","Firebase",DC()),ho={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};var cd=new Ur("@firebase/auth");function CL(t,...e){cd.logLevel<=de.WARN&&cd.warn(`Auth (${$r}): ${t}`,...e)}function id(t,...e){cd.logLevel<=de.ERROR&&cd.error(`Auth (${$r}): ${t}`,...e)}function Pn(t,...e){throw ly(t,...e)}function Li(t,...e){return ly(t,...e)}function CC(t,e,n){let r=Object.assign(Object.assign({},bC()),{[e]:n});return new nr("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return CC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ly(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return TC.create(t,...e)}function J(t,e,...n){if(!t)throw ly(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw id(e),new Error(e)}function qr(t,e){t||ir(e)}function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function SL(){return aC()==="http:"||aC()==="https:"}function aC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function AL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SL()||VT()||"connection"in navigator)?navigator.onLine:!0}function ML(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=LT()||UT()}get(){return AL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dy(t,e){qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var ud=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var RL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var NL=new Vi(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gr(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){return SC(t,i,()=>D(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Qa(Object.assign({key:t.config.apiKey},h)).slice(1),g=yield t._getAdditionalHeaders();return g["Content-Type"]="application/json",t.languageCode&&(g["X-Firebase-Locale"]=t.languageCode),ud.fetch()(AC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},l))}))})}function SC(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},RL),e);try{let i=new Gg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw rd(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw rd(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw rd(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw rd(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw CC(t,h,l);Pn(t,h)}}catch(i){if(i instanceof jt)throw i;Pn(t,"network-request-failed",{message:String(i)})}})}function ac(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){let l=yield Gr(t,e,n,r,i);return"mfaPendingCredential"in l&&Pn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function AC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?dy(t.config,i):`${t.config.apiScheme}://${i}`}function PL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Gg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),NL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function rd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Li(t,e,r);return i.customData._tokenResponse=n,i}function cC(t){return t!==void 0&&t.enterprise!==void 0}var Wg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function xL(t,e){return D(this,null,function*(){return Gr(t,"GET","/v2/recaptchaConfig",zr(t,e))})}function OL(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:delete",e)})}function MC(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:lookup",e)})}function ec(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hy(t,e=!1){return D(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=fy(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ec($g(i.auth_time)),issuedAtTime:ec($g(i.iat)),expirationTime:ec($g(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function $g(t){return Number(t)*1e3}function fy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{let i=wg(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i?.toString()),null}}function uC(t){let e=fy(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function nc(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&kL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function kL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Kg=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var rc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ld(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield nc(t,MC(n,{idToken:r}));J(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?RC(s.providerUserInfo):[],a=FL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function py(t){return D(this,null,function*(){let e=gt(t);yield ld(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function FL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RC(t){return t.map(e=>{var{providerId:n}=e,r=_f(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function LL(t,e){return D(this,null,function*(){let n=yield SC(t,{},()=>D(this,null,function*(){let r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=AC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ud.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function VL(t,e){return D(this,null,function*(){return Gr(t,"POST","/v2/accounts:revokeToken",zr(t,e))})}var tc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):uC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=uC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield LL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(J(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Hr(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var uo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=_f(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kg(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield nc(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return hy(this,e)}reload(){return py(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ld(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(hn(this.auth.app))return Promise.reject(or(this.auth));let e=yield this.getIdToken();return yield nc(this,OL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,w=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,$=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:j,emailVerified:Q,isAnonymous:Ne,providerData:ne,stsTokenManager:E}=n;J(j&&E,e,"internal-error");let y=tc.fromJSON(this.name,E);J(typeof j=="string",e,"internal-error"),Hr(p,e.name),Hr(g,e.name),J(typeof Q=="boolean",e,"internal-error"),J(typeof Ne=="boolean",e,"internal-error"),Hr(w,e.name),Hr(C,e.name),Hr(M,e.name),Hr(R,e.name),Hr(F,e.name),Hr($,e.name);let v=new t({uid:j,auth:e,email:g,emailVerified:Q,displayName:p,isAnonymous:Ne,photoURL:C,phoneNumber:w,tenantId:M,stsTokenManager:y,createdAt:F,lastLoginAt:$});return ne&&Array.isArray(ne)&&(v.providerData=ne.map(I=>Object.assign({},I))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new tc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ld(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?RC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new tc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new rc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var lC=new Map;function sr(t){qr(t instanceof Function,"Expected a class definition");let e=lC.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lC.set(t,e),e)}var UL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Qg=UL;function sd(t,e,n){return`firebase:${t}:${e}:${n}`}var dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=sd(this.userKey,i.apiKey,s),this.fullPersistenceKey=sd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?uo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(sr(Qg),e,r);let i=(yield Promise.all(n.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||sr(Qg),o=sd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=uo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>D(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function dC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(xC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(FC(e))return"Webos";if(my(e))return"Safari";if((e.includes("chrome/")||PC(e))&&!e.includes("edge/"))return"Chrome";if(OC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function NC(t=Ke()){return/firefox\//i.test(t)}function my(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PC(t=Ke()){return/crios\//i.test(t)}function xC(t=Ke()){return/iemobile/i.test(t)}function OC(t=Ke()){return/android/i.test(t)}function kC(t=Ke()){return/blackberry/i.test(t)}function FC(t=Ke()){return/webos/i.test(t)}function _d(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function jL(t=Ke()){var e;return _d(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BL(){return jT()&&document.documentMode===10}function LC(t=Ke()){return _d(t)||OC(t)||FC(t)||kC(t)||/windows phone/i.test(t)||xC(t)}function $L(){try{return!!(window&&window!==window.top)}catch{return!1}}function VC(t,e=[]){let n;switch(t){case"Browser":n=dC(Ke());break;case"Worker":n=`${dC(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${r}`}var Yg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HL(n){return D(this,arguments,function*(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",zr(t,e))})}var qL=6,Jg=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Zg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hd(this),this.idTokenSubscription=new hd(this),this.beforeStateQueue=new Yg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield dd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield MC(this,{idToken:e}),r=yield uo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(hn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield ld(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ML()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(hn(this.app))return Promise.reject(or(this));let n=e?gt(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return hn(this.app)?Promise.reject(or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hn(this.app)?Promise.reject(or(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield HL(this),n=new Jg(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield VL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield dd.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&CL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ji(t){return gt(t)}var hd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=qT(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var wd={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zL(t){wd=t}function UC(t){return wd.loadJS(t)}function GL(){return wd.recaptchaEnterpriseScript}function WL(){return wd.gapiScript}function jC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var KL="recaptcha-enterprise",QL="NO_RECAPTCHA",Xg=class{constructor(e){this.type=KL,this.auth=ji(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){xL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Wg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;cC(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(QL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&cC(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=GL();u.length!==0&&(u+=a),UC(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function hC(t,e,n,r=!1){return D(this,null,function*(){let i=new Xg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function ey(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield hC(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield hC(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function gy(t,e){let n=Za(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ni(s,e??{}))return i;Pn(i,"already-initialized")}return n.initialize({options:e})}function YL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function yy(t,e,n){let r=ji(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=BC(e),{host:o,port:a}=JL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ZL()}function BC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JL(t){let e=BC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:fC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:fC(o)}}}function fC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function ZL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var ic=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function XL(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:signUp",e)})}function eV(t,e){return D(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))})}function tV(t,e){return D(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}function nV(t,e){return D(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}var sc=class t extends ic{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ey(e,n,"signInWithPassword",eV);case"emailLink":return tV(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ey(e,r,"signUpPassword",XL);case"emailLink":return nV(e,{idToken:n,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Hg(t,e){return D(this,null,function*(){return ac(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))})}function rV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iV(t){let e=ro(io(t)).link,n=e?ro(io(e)).deep_link_id:null,r=ro(io(t)).deep_link_id;return(r?ro(io(r)).link:null)||r||n||e||t}var fd=class t{constructor(e){var n,r,i,s,o,a;let u=ro(io(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=rV((i=u.mode)!==null&&i!==void 0?i:null);J(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=iV(e);try{return new t(n)}catch{return null}}};var $C=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=fd.parseLink(r);return J(i,"argument-error"),sc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),pd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var ty=class extends pd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function sV(t,e){return D(this,null,function*(){return ac(t,"POST","/v1/accounts:signUp",zr(t,e))})}var lo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield uo._fromIdTokenResponse(e,r,i),o=pC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=pC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function pC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var ny=class t extends jt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function HC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ny._fromErrorAndOperation(t,s,e,r):s})}function oV(t,e,n=!1){return D(this,null,function*(){let r=yield nc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return lo._forOperation(t,"link",r)})}function aV(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(hn(r.app))return Promise.reject(or(r));let i="reauthenticate";try{let s=yield nc(t,HC(r,i,e,t),n);J(s.idToken,r,"internal-error");let o=fy(s.idToken);J(o,r,"internal-error");let{sub:a}=o;return J(t.uid===a,r,"user-mismatch"),lo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Pn(r,"user-mismatch"),s}})}function qC(t,e,n=!1){return D(this,null,function*(){if(hn(t.app))return Promise.reject(or(t));let r="signIn",i=yield HC(t,r,e),s=yield lo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function vy(t,e){return D(this,null,function*(){return qC(ji(t),e)})}function zC(t){return D(this,null,function*(){let e=ji(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _y(t,e,n){return D(this,null,function*(){if(hn(t.app))return Promise.reject(or(t));let r=ji(t),o=yield ey(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sV).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&zC(t),u}),a=yield lo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function wy(t,e,n){return hn(t.app)?Promise.reject(or(t)):vy(gt(t),$C.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&zC(t),r}))}function Ey(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function Iy(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}function Dy(t,e,n,r){return gt(t).onAuthStateChanged(e,n,r)}function by(t){return gt(t).signOut()}var md="__sak";var gd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function cV(){let t=Ke();return my(t)||_d(t)}var uV=1e3,lV=10,dV=(()=>{class t extends gd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cV()&&$L(),this.fallbackToPolling=LC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);BL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,lV):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},uV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),GC=dV;var hV=(()=>{class t extends gd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Ty=hV;function fV(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var pV=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>D(this,null,function*(){return h(r.origin,o)})),l=yield fV(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function WC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var ry=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=WC("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(g.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Nn(){return window}function mV(t){Nn().location.href=t}function KC(){return typeof Nn().WorkerGlobalScope<"u"&&typeof Nn().importScripts=="function"}function gV(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function yV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vV(){return KC()?self:null}var QC="firebaseLocalStorageDb",_V=1,yd="firebaseLocalStorage",YC="fbase_key",Ui=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Ed(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function wV(){let t=indexedDB.deleteDatabase(QC);return new Ui(t).toPromise()}function iy(){let t=indexedDB.open(QC,_V);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(yd,{keyPath:YC})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),yield wV(),e(yield iy()))}))})}function mC(t,e,n){return D(this,null,function*(){let r=Ed(t,!0).put({[YC]:e,value:n});return new Ui(r).toPromise()})}function EV(t,e){return D(this,null,function*(){let n=Ed(t,!1).get(e),r=yield new Ui(n).toPromise();return r===void 0?null:r.value})}function gC(t,e){let n=Ed(t,!0).delete(e);return new Ui(n).toPromise()}var IV=800,DV=3,bV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield iy(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>DV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return KC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=pV._getInstance(vV()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield gV(),!this.activeServiceWorker)return;this.sender=new ry(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||yV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield iy();return yield mC(n,md,"1"),yield gC(n,md),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>mC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>EV(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>gC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=Ed(s,!1).getAll();return new Ui(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),JC=bV;var F5=jC("rcb"),L5=new Vi(3e4,6e4);function TV(t,e){return e?sr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var oc=class extends ic{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hg(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hg(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hg(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function CV(t){return qC(t.auth,new oc(t),t.bypassAuthState)}function SV(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),aV(n,new oc(t),t.bypassAuthState)}function AV(t){return D(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),oV(n,new oc(t),t.bypassAuthState)})}var sy=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return AV;case"reauthViaPopup":case"reauthViaRedirect":return SV;default:Pn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var V5=new Vi(2e3,1e4);var MV="pendingRedirect",od=new Map,oy=class t extends sy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=od.get(this.auth._key());if(!e){try{let r=(yield RV(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}od.set(this.auth._key(),e)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function RV(t,e){return D(this,null,function*(){let n=xV(e),r=PV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function NV(t,e){od.set(t._key(),e)}function PV(t){return sr(t._redirectPersistence)}function xV(t){return sd(MV,t.config.apiKey,t.name)}function OV(t,e,n=!1){return D(this,null,function*(){if(hn(t.app))return Promise.reject(or(t));let r=ji(t),i=TV(r,e),o=yield new oy(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var kV=10*60*1e3,ay=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kV&&this.cachedEventUids.clear(),this.cachedEventUids.has(yC(e))}saveEventToCache(e){this.cachedEventUids.add(yC(e)),this.lastProcessedEventTime=Date.now()}};function yC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZC(t);default:return!1}}function LV(n){return D(this,arguments,function*(t,e={}){return Gr(t,"GET","/v1/projects",e)})}var VV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UV=/^https?/;function jV(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield LV(t);for(let n of e)try{if(BV(n))return}catch{}Pn(t,"unauthorized-domain")})}function BV(t){let e=zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!UV.test(n))return!1;if(VV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var $V=new Vi(3e4,6e4);function vC(){let t=Nn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HV(t){return new Promise((e,n)=>{var r,i,s;function o(){vC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vC(),n(Li(t,"network-request-failed"))},timeout:$V.get()})}if(!((i=(r=Nn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Nn().gapi)===null||s===void 0)&&s.load)o();else{let a=jC("iframefcb");return Nn()[a]=()=>{gapi.load?o():n(Li(t,"network-request-failed"))},UC(`${WL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw ad=null,e})}var ad=null;function qV(t){return ad=ad||HV(t),ad}var zV=new Vi(5e3,15e3),GV="__/auth/iframe",WV="emulator/auth/iframe",KV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YV(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?dy(e,WV):`https://${t.config.authDomain}/${GV}`,r={apiKey:e.apiKey,appName:t.name,v:$r},i=QV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}function JV(t){return D(this,null,function*(){let e=yield qV(t),n=Nn().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:YV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KV,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Li(t,"network-request-failed"),a=Nn().setTimeout(()=>{s(o)},zV.get());function u(){Nn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var ZV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XV=500,eU=600,tU="_blank",nU="http://localhost",vd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function rU(t,e,n,r=XV,i=eU){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},ZV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ke().toLowerCase();n&&(a=PC(l)?tU:n),NC(l)&&(e=e||nU,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[w,C])=>`${g}${w}=${C},`,"");if(jL(l)&&a!=="_self")return iU(e||"",a),new vd(null);let p=window.open(e||"",a,h);J(p,t,"popup-blocked");try{p.focus()}catch{}return new vd(p)}function iU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var sU="__/auth/handler",oU="emulator/auth/handler",aU=encodeURIComponent("fac");function _C(t,e,n,r,i,s){return D(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(e instanceof pd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof ty){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${aU}=${encodeURIComponent(u)}`:"";return`${cU(t)}?${Qa(a).slice(1)}${l}`})}function cU({config:t}){return t.emulator?dy(t,oU):`https://${t.authDomain}/${sU}`}var qg="webStorageSupport",cy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ty,this._completeRedirectFn=OV,this._overrideRedirectResult=NV}_openPopup(e,n,r,i){return D(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield _C(e,n,r,zg(),i);return rU(e,o,WC())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield _C(e,n,r,zg(),i);return mV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield JV(e),r=new ay(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qg,{type:qg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[qg];o!==void 0&&n(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return LC()||my()||_d()}},XC=cy;var wC="@firebase/auth",EC="1.7.4";var uy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lU(t){Br(new en("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;J(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VC(t)},l=new Zg(r,i,s,u);return YL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new en("auth-internal",e=>{let n=ji(e.getProvider("auth").getImmediate());return(r=>new uy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qe(wC,EC,uU(t)),Qe(wC,EC,"esm2017")}var dU=5*60,hU=Dg("authIdTokenMaxAge")||dU,IC=null,fU=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hU)return;let i=n?.token;IC!==i&&(IC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Cy(t=so()){let e=Za(t,"auth");if(e.isInitialized())return e.getImmediate();let n=gy(t,{popupRedirectResolver:XC,persistence:[JC,GC,Ty]}),r=Dg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=fU(s.toString());Iy(n,o,()=>o(n.currentUser)),Ey(n,a=>o(a))}}let i=Eg("auth");return i&&yy(n,`http://${i}`),n}function pU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",pU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lU("Browser");var e0="auth",Bi=class{constructor(e){return e}},cc=class{constructor(){return Xa(e0)}};var Sy=new z("angularfire2.auth-instances");function rj(t,e){let n=td(e0,t,e);return n&&new Bi(n)}function ij(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bi(r)}}var sj={provide:cc,deps:[[new pt,Sy]]},oj={provide:Bi,useFactory:rj,deps:[[new pt,Sy],rr]};function t0(t,...e){return Qe("angularfire",ki.full,"auth"),En([oj,sj,{provide:Sy,useFactory:ij(t),multi:!0,deps:[ve,Tt,co,Fi,[new pt,ao],...e]}])}var n0=tn(_y,!0);var r0=tn(Cy,!0);var i0=tn(Dy,!0);var s0=tn(wy,!0);var o0=tn(by,!0);var Wr=(()=>{let e=class e{constructor(r){this.auth=r,this.currentUserSubject=new ze(null),this.currentUser=this.currentUserSubject.asObservable(),i0(this.auth,i=>{this.currentUserSubject.next(i)})}crearUsuario(r,i){return n0(this.auth,r,i)}guardarUsuario(r){localStorage.setItem("usuarioActual",r)}getCurrentUser(){return new Promise(r=>{r(this.currentUserSubject.value)})}logIn(r,i){return s0(this.auth,r,i)}signOut(){return o0(this.auth).then(()=>{this.currentUserSubject.next(null)})}};e.\u0275fac=function(i){return new(i||e)(G(Bi))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cj(t,e){if(t&1){let n=_a();W(0,"div",8)(1,"div",9),rt(2,"img",10),W(3,"div",3)(4,"h5",11),pe(5),Y(),W(6,"p",12),pe(7),Y(),W(8,"button",13),it("click",function(){let i=Us(n).$implicit,s=dn(2);return js(s.playGame(i.path))}),pe(9,"Play"),Y()()()()}if(t&2){let n=e.$implicit;Fe(2),nt("src",n.img,tm),Fe(3),qs(n.title),Fe(2),qs(n.text)}}function uj(t,e){if(t&1&&(W(0,"div")(1,"div",2)(2,"div",3)(3,"p",4),pe(4),Y()()(),W(5,"div",5)(6,"div",6),Dn(7,cj,10,3,"div",7),Y()()()),t&2){let n=dn();Fe(4),zs("Welcome, ",n.getUserNameFromEmail(),""),Fe(3),nt("ngForOf",n.games)}}function lj(t,e){if(t&1){let n=_a();W(0,"div",14)(1,"div",15)(2,"h1"),pe(3,"Welcome to Gaming Room"),Y(),W(4,"p"),pe(5,"Please log in or register to continue"),Y(),W(6,"button",16),it("click",function(){Us(n);let i=dn();return js(i.goToLogin())}),pe(7,"Log In"),Y(),W(8,"button",17),it("click",function(){Us(n);let i=dn();return js(i.goToRegister())}),pe(9,"Register"),Y()()()}}var a0=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.userEmail=null,this.games=[{title:"Game 1",text:"Description of Game 1",img:"assets/med.jpg",path:"/game1"},{title:"Game 2",text:"Description of Game 2",img:"assets/med.jpg",path:"/game2"}],this.userName=""}ngOnInit(){this.authService.currentUser.subscribe(r=>{this.userEmail=r?.email||null})}logout(){this.authService.signOut().then(()=>{this.router.navigate(["/log-in"])})}goToLogin(){this.router.navigate(["/log-in"])}goToRegister(){this.router.navigate(["/register"])}playGame(r){this.router.navigate([r])}getUserNameFromEmail(){if(this.userEmail){let r=this.userEmail.indexOf("@");return r!==-1?(this.userName=this.userEmail.substring(0,r),this.userName):null}else return null}};e.\u0275fac=function(i){return new(i||e)(ee(Wr),ee(st))},e.\u0275cmp=Rt({type:e,selectors:[["app-home"]],standalone:!0,features:[Pt],decls:3,vars:2,consts:[["loggedOut",""],[4,"ngIf","ngIfElse"],[1,"card","retro-card"],[1,"card-body"],[1,"card-text","retro-text"],[1,"games-list"],[1,"row","row-cols-1","row-cols-md-4","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","h-100"],["alt","...",1,"card-img-top",3,"src"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary",3,"click"],[1,"overlay"],[1,"overlay-content"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"]],template:function(i,s){if(i&1&&Dn(0,uj,8,2,"div",1)(1,lj,10,0,"ng-template",null,0,lb),i&2){let o=cb(2);nt("ngIf",s.userEmail)("ngIfElse",o)}},dependencies:[Ea,Ab,Pr],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;box-sizing:border-box}.games-section[_ngcontent-%COMP%]{padding:50px 0}.game-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;margin:20px;padding:20px;text-align:center}.game-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:15px}.custom-carousel[_ngcontent-%COMP%]{width:20%;height:120px}.img-carousel[_ngcontent-%COMP%]{width:100%;height:250px}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{margin-top:120px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay-content[_ngcontent-%COMP%]{text-align:center;color:#fff}.overlay-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.overlay-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.user-info[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px;font-weight:700;color:#ee02cf;text-shadow:1px 1px 2px #000}.retro-card[_ngcontent-%COMP%]{background-color:#000;border:2px solid #ee02cf;border-radius:8px;padding:10px;width:fit-content;margin:10px auto;box-shadow:0 4px 8px #0003}.retro-text[_ngcontent-%COMP%]{color:#ee02cf;font-family:Verdana,sans-serif;font-size:14px;text-shadow:1px 1px 2px #000}"],data:{animation:[Ri("fadeInOut",[Mn(":enter",[ot({opacity:0}),An("800ms",ot({opacity:1}))]),Mn(":leave",[An("800ms",ot({opacity:0}))])])]}});let t=e;return t})();var m0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ii),ee(Rr))},e.\u0275dir=bt({type:e});let t=e;return t})(),dj=(()=>{let e=class e extends m0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=ma(e)))(s||e)}})(),e.\u0275dir=bt({type:e,features:[Nr]});let t=e;return t})(),g0=new z("");var hj={provide:g0,useExisting:Ls(()=>mo),multi:!0};function fj(){let t=er()?er().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pj=new z(""),mo=(()=>{let e=class e extends m0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!fj())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(ee(Ii),ee(Rr),ee(pj,8))},e.\u0275dir=bt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&it("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[vl([hj]),Nr]});let t=e;return t})();var y0=new z(""),v0=new z("");function _0(t){return t!=null}function w0(t){return Ti(t)?Pe(t):t}function E0(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function I0(t,e){return e.map(n=>n(t))}function mj(t){return!t.validate}function D0(t){return t.map(e=>mj(e)?e:n=>e.validate(n))}function gj(t){if(!t)return null;let e=t.filter(_0);return e.length==0?null:function(n){return E0(I0(n,e))}}function My(t){return t!=null?gj(D0(t)):null}function yj(t){if(!t)return null;let e=t.filter(_0);return e.length==0?null:function(n){let r=I0(n,e).map(w0);return Ef(r).pipe(le(E0))}}function Ry(t){return t!=null?yj(D0(t)):null}function c0(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function vj(t){return t._rawValidators}function _j(t){return t._rawAsyncValidators}function Ay(t){return t?Array.isArray(t)?t:[t]:[]}function bd(t,e){return Array.isArray(t)?t.includes(e):t===e}function u0(t,e){let n=Ay(e);return Ay(t).forEach(i=>{bd(n,i)||n.push(i)}),n}function l0(t,e){return Ay(e).filter(n=>!bd(t,n))}var Td=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=My(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ry(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},po=class extends Td{get formDirective(){return null}get path(){return null}},hc=class extends Td{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},wj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},H6=Ie(L({},wj),{"[class.ng-submitted]":"isSubmitted"}),Md=(()=>{let e=class e extends Cd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(hc,2))},e.\u0275dir=bt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&yl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Nr]});let t=e;return t})(),Rd=(()=>{let e=class e extends Cd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(ee(po,10))},e.\u0275dir=bt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&yl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Nr]});let t=e;return t})();var uc="VALID",Dd="INVALID",fo="PENDING",lc="DISABLED";function b0(t){return(Nd(t)?t.validators:t)||null}function Ej(t){return Array.isArray(t)?My(t):t||null}function T0(t,e){return(Nd(e)?e.asyncValidators:t)||null}function Ij(t){return Array.isArray(t)?Ry(t):t||null}function Nd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Dj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[n])throw new P(1001,"")}function bj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new P(1002,"")})}var Sd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uc}get invalid(){return this.status===Dd}get pending(){return this.status==fo}get disabled(){return this.status===lc}get enabled(){return this.status!==lc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(u0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(u0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(l0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(l0(e,this._rawAsyncValidators))}hasValidator(e){return bd(this._rawValidators,e)}hasAsyncValidator(e){return bd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fo,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lc,this.errors=null,this._forEachChild(r=>{r.disable(Ie(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uc,this._forEachChild(r=>{r.enable(Ie(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uc||this.status===fo)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lc:uc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fo,this._hasOwnPendingAsyncValidator=!0;let n=w0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new dt,this.statusChanges=new dt}_calculateStatus(){return this._allControlsDisabled()?lc:this.errors?Dd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fo)?fo:this._anyControlsHaveStatus(Dd)?Dd:uc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Ej(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Ij(this._rawAsyncValidators)}},Ad=class extends Sd{constructor(e,n,r){super(b0(n),T0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){bj(this,!0,e),Object.keys(e).forEach(r=>{Dj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ny=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Py}),Py="always";function Tj(t,e){return[...e.path,t]}function C0(t,e,n=Py){S0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Sj(t,e),Mj(t,e),Aj(t,e),Cj(t,e)}function d0(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Cj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function S0(t,e){let n=vj(t);e.validator!==null?t.setValidators(c0(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=_j(t);e.asyncValidator!==null?t.setAsyncValidators(c0(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();d0(e._rawValidators,i),d0(e._rawAsyncValidators,i)}function Sj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&A0(t,e)})}function Aj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&A0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function A0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Mj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Rj(t,e){t==null,S0(t,e)}function Nj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Pj(t){return Object.getPrototypeOf(t.constructor)===dj}function xj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Oj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===mo?n=s:Pj(s)?r=s:i=s}),i||r||n||null}var kj={provide:po,useExisting:Ls(()=>fc)},dc=Promise.resolve(),fc=(()=>{let e=class e extends po{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new dt,this.form=new Ad({},My(r),Ry(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){dc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),C0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){dc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){dc.then(()=>{let i=this._findContainer(r.path),s=new Ad({});Rj(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){dc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){dc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,xj(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(ee(y0,10),ee(v0,10),ee(Ny,8))},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&it("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[ht.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[vl([kj]),Nr]});let t=e;return t})();function h0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function f0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Fj=class extends Sd{constructor(e=null,n,r){super(b0(n),T0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(f0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){h0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){h0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){f0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Lj={provide:hc,useExisting:Ls(()=>pc)},p0=Promise.resolve(),pc=(()=>{let e=class e extends hc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new Fj,this._registered=!1,this.name="",this.update=new dt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Oj(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),Nj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){C0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){p0.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Si(i);p0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?Tj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(ee(po,9),ee(y0,10),ee(v0,10),ee(g0,10),ee(Ci,8),ee(Ny,8))},e.\u0275dir=bt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ht.None,"disabled","isDisabled"],model:[ht.None,"ngModel","model"],options:[ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[vl([Lj]),Nr,Ei]});let t=e;return t})(),Pd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=bt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Vj=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qn({type:e}),e.\u0275inj=Kn({});let t=e;return t})();var xd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Ny,useValue:r.callSetDisabledState??Py}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Qn({type:e}),e.\u0275inj=Kn({imports:[Vj]});let t=e;return t})();function Uj(t,e){if(t&1&&(W(0,"p",16),pe(1),Y()),t&2){let n=dn();Fe(),qs(n.errorMessage)}}var R0=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.user={email:"",password:""},this.errorMessage="",this.showRegisterLink=!1}login(){this.authService.logIn(this.user.email,this.user.password).then(r=>{console.log("Inicio de sesi\xF3n exitoso:",r),this.router.navigate(["/home"])}).catch(r=>{r.code===ho.INVALID_EMAIL||r.code===ho.USER_DELETED?this.errorMessage="The email address is invalid. Please check and try again.":this.errorMessage="Incorrect username or password. Please try again."})}goToRegister(){this.router.navigate(["/register"])}enterAsGuest(){this.user.email="guest@gmail.com",this.user.password="123456"}};e.\u0275fac=function(i){return new(i||e)(ee(Wr),ee(st))},e.\u0275cmp=Rt({type:e,selectors:[["app-log-in"]],standalone:!0,features:[Pt],decls:23,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","height","35px","font-size","15px","font-weight","bold"],[1,"card-body"],[3,"ngSubmit"],[1,"form-group"],["for","email",2,"color","white"],["type","text","id","email","name","email","placeholder","Enter user",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],["for","password",2,"color","white"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit",1,"btn","btn-primary","me-2",2,"background-color","rgb(172, 8, 194)","border-color","#e100ff"],["type","button",1,"btn","btn-primary",2,"background-color","rgb(11, 202, 186)","border-color","#0bdad7c2",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(i,s){i&1&&(W(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),rt(4,"div",4),W(5,"div",5)(6,"form",6),it("ngSubmit",function(){return s.login()}),W(7,"div",7)(8,"label",8),pe(9,"Email"),Y(),W(10,"input",9),bi("ngModelChange",function(a){return Gs(s.user.email,a)||(s.user.email=a),a}),Y()(),W(11,"div",7)(12,"label",10),pe(13,"Password"),Y(),W(14,"input",11),bi("ngModelChange",function(a){return Gs(s.user.password,a)||(s.user.password=a),a}),Y()(),rt(15,"br"),W(16,"div",12)(17,"button",13),pe(18,"Log in"),Y(),W(19,"button",14),it("click",function(){return s.enterAsGuest()}),pe(20,"Enter as guest"),Y()()(),rt(21,"br"),Dn(22,Uj,2,1,"p",15),Y()()()()()),i&2&&(Fe(10),Di("ngModel",s.user.email),Fe(4),Di("ngModel",s.user.password),Fe(8),nt("ngIf",s.errorMessage))},dependencies:[xd,Pd,mo,Md,Rd,pc,fc,Pr],data:{animation:[Ri("fadeInOut",[Mn(":enter",[ot({opacity:0}),An("800ms",ot({opacity:1}))]),Mn(":leave",[An("800ms",ot({opacity:0}))])])]}});let t=e;return t})();var Od=class{constructor(e,n){this.email="",this.password="",this.email=e,this.password=n}};var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},P0={};var xy,x0;(function(){var t;function e(E,y){function v(){}v.prototype=y.prototype,E.D=y.prototype,E.prototype=new v,E.prototype.constructor=E,E.C=function(I,b,S){for(var _=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)_[zt-2]=arguments[zt];return y.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,v){v||(v=0);var I=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)I[b]=y.charCodeAt(v++)|y.charCodeAt(v++)<<8|y.charCodeAt(v++)<<16|y.charCodeAt(v++)<<24;else for(b=0;16>b;++b)I[b]=y[v++]|y[v++]<<8|y[v++]<<16|y[v++]<<24;y=E.g[0],v=E.g[1],b=E.g[2];var S=E.g[3],_=y+(S^v&(b^S))+I[0]+3614090360&4294967295;y=v+(_<<7&4294967295|_>>>25),_=S+(b^y&(v^b))+I[1]+3905402710&4294967295,S=y+(_<<12&4294967295|_>>>20),_=b+(v^S&(y^v))+I[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(y^b&(S^y))+I[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(S^v&(b^S))+I[4]+4118548399&4294967295,y=v+(_<<7&4294967295|_>>>25),_=S+(b^y&(v^b))+I[5]+1200080426&4294967295,S=y+(_<<12&4294967295|_>>>20),_=b+(v^S&(y^v))+I[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(y^b&(S^y))+I[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(S^v&(b^S))+I[8]+1770035416&4294967295,y=v+(_<<7&4294967295|_>>>25),_=S+(b^y&(v^b))+I[9]+2336552879&4294967295,S=y+(_<<12&4294967295|_>>>20),_=b+(v^S&(y^v))+I[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(y^b&(S^y))+I[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(S^v&(b^S))+I[12]+1804603682&4294967295,y=v+(_<<7&4294967295|_>>>25),_=S+(b^y&(v^b))+I[13]+4254626195&4294967295,S=y+(_<<12&4294967295|_>>>20),_=b+(v^S&(y^v))+I[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(y^b&(S^y))+I[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=y+(b^S&(v^b))+I[1]+4129170786&4294967295,y=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(y^v))+I[6]+3225465664&4294967295,S=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(S^y))+I[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^y&(b^S))+I[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^S&(v^b))+I[5]+3593408605&4294967295,y=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(y^v))+I[10]+38016083&4294967295,S=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(S^y))+I[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^y&(b^S))+I[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^S&(v^b))+I[9]+568446438&4294967295,y=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(y^v))+I[14]+3275163606&4294967295,S=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(S^y))+I[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^y&(b^S))+I[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(b^S&(v^b))+I[13]+2850285829&4294967295,y=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(y^v))+I[2]+4243563512&4294967295,S=y+(_<<9&4294967295|_>>>23),_=b+(y^v&(S^y))+I[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^y&(b^S))+I[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=y+(v^b^S)+I[5]+4294588738&4294967295,y=v+(_<<4&4294967295|_>>>28),_=S+(y^v^b)+I[8]+2272392833&4294967295,S=y+(_<<11&4294967295|_>>>21),_=b+(S^y^v)+I[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^y)+I[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^S)+I[1]+2763975236&4294967295,y=v+(_<<4&4294967295|_>>>28),_=S+(y^v^b)+I[4]+1272893353&4294967295,S=y+(_<<11&4294967295|_>>>21),_=b+(S^y^v)+I[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^y)+I[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^S)+I[13]+681279174&4294967295,y=v+(_<<4&4294967295|_>>>28),_=S+(y^v^b)+I[0]+3936430074&4294967295,S=y+(_<<11&4294967295|_>>>21),_=b+(S^y^v)+I[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^y)+I[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(v^b^S)+I[9]+3654602809&4294967295,y=v+(_<<4&4294967295|_>>>28),_=S+(y^v^b)+I[12]+3873151461&4294967295,S=y+(_<<11&4294967295|_>>>21),_=b+(S^y^v)+I[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^y)+I[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=y+(b^(v|~S))+I[0]+4096336452&4294967295,y=v+(_<<6&4294967295|_>>>26),_=S+(v^(y|~b))+I[7]+1126891415&4294967295,S=y+(_<<10&4294967295|_>>>22),_=b+(y^(S|~v))+I[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~y))+I[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~S))+I[12]+1700485571&4294967295,y=v+(_<<6&4294967295|_>>>26),_=S+(v^(y|~b))+I[3]+2399980690&4294967295,S=y+(_<<10&4294967295|_>>>22),_=b+(y^(S|~v))+I[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~y))+I[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~S))+I[8]+1873313359&4294967295,y=v+(_<<6&4294967295|_>>>26),_=S+(v^(y|~b))+I[15]+4264355552&4294967295,S=y+(_<<10&4294967295|_>>>22),_=b+(y^(S|~v))+I[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~y))+I[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=y+(b^(v|~S))+I[4]+4149444226&4294967295,y=v+(_<<6&4294967295|_>>>26),_=S+(v^(y|~b))+I[11]+3174756917&4294967295,S=y+(_<<10&4294967295|_>>>22),_=b+(y^(S|~v))+I[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~y))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,E.g[2]=E.g[2]+b&4294967295,E.g[3]=E.g[3]+S&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var v=y-this.blockSize,I=this.B,b=this.h,S=0;S<y;){if(b==0)for(;S<=v;)i(this,E,S),S+=this.blockSize;if(typeof E=="string"){for(;S<y;)if(I[b++]=E.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<y;)if(I[b++]=E[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var v=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=v&255,v/=256;for(this.u(E),E=Array(16),y=v=0;4>y;++y)for(var I=0;32>I;I+=8)E[v++]=this.g[y]>>>I&255;return E};function s(E,y){var v=a;return Object.prototype.hasOwnProperty.call(v,E)?v[E]:v[E]=y(E)}function o(E,y){this.h=y;for(var v=[],I=!0,b=E.length-1;0<=b;b--){var S=E[b]|0;I&&S==y||(v[b]=S,I=!1)}this.g=v}var a={};function u(E){return-128<=E&&128>E?s(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var y=[],v=1,I=0;E>=v;I++)y[I]=E/v|0,v*=4294967296;return new o(y,0)}function h(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return R(h(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(y,8)),I=p,b=0;b<E.length;b+=8){var S=Math.min(8,E.length-b),_=parseInt(E.substring(b,b+S),y);8>S?(S=l(Math.pow(y,S)),I=I.j(S).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),g=u(1),w=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var E=0,y=1,v=0;v<this.g.length;v++){var I=this.i(v);E+=(0<=I?I:4294967296+I)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(C(this))return"0";if(M(this))return"-"+R(this).toString(E);for(var y=l(Math.pow(E,6)),v=this,I="";;){var b=Q(v,y).g;v=F(v,b.j(y));var S=((0<v.g.length?v.g[0]:v.h)>>>0).toString(E);if(v=b,C(v))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function C(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function M(E){return E.h==-1}t.l=function(E){return E=F(this,E),M(E)?-1:C(E)?0:1};function R(E){for(var y=E.g.length,v=[],I=0;I<y;I++)v[I]=~E.g[I];return new o(v,~E.h).add(g)}t.abs=function(){return M(this)?R(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0,b=0;b<=y;b++){var S=I+(this.i(b)&65535)+(E.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(E.i(b)>>>16);I=_>>>16,S&=65535,_&=65535,v[b]=_<<16|S}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(E,y){return E.add(R(y))}t.j=function(E){if(C(this)||C(E))return p;if(M(this))return M(E)?R(this).j(R(E)):R(R(this).j(E));if(M(E))return R(this.j(R(E)));if(0>this.l(w)&&0>E.l(w))return l(this.m()*E.m());for(var y=this.g.length+E.g.length,v=[],I=0;I<2*y;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<E.g.length;b++){var S=this.i(I)>>>16,_=this.i(I)&65535,zt=E.i(b)>>>16,hr=E.i(b)&65535;v[2*I+2*b]+=_*hr,$(v,2*I+2*b),v[2*I+2*b+1]+=S*hr,$(v,2*I+2*b+1),v[2*I+2*b+1]+=_*zt,$(v,2*I+2*b+1),v[2*I+2*b+2]+=S*zt,$(v,2*I+2*b+2)}for(I=0;I<y;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=y;I<2*y;I++)v[I]=0;return new o(v,0)};function $(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function j(E,y){this.g=E,this.h=y}function Q(E,y){if(C(y))throw Error("division by zero");if(C(E))return new j(p,p);if(M(E))return y=Q(R(E),y),new j(R(y.g),R(y.h));if(M(y))return y=Q(E,R(y)),new j(R(y.g),y.h);if(30<E.g.length){if(M(E)||M(y))throw Error("slowDivide_ only works with positive integers.");for(var v=g,I=y;0>=I.l(E);)v=Ne(v),I=Ne(I);var b=ne(v,1),S=ne(I,1);for(I=ne(I,2),v=ne(v,2);!C(I);){var _=S.add(I);0>=_.l(E)&&(b=b.add(v),S=_),I=ne(I,1),v=ne(v,1)}return y=F(E,b.j(y)),new j(b,y)}for(b=p;0<=E.l(y);){for(v=Math.max(1,Math.floor(E.m()/y.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(v),_=S.j(y);M(_)||0<_.l(E);)v-=I,S=l(v),_=S.j(y);C(S)&&(S=g),b=b.add(S),E=F(E,_)}return new j(b,E)}t.A=function(E){return Q(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)&E.i(I);return new o(v,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)|E.i(I);return new o(v,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),v=[],I=0;I<y;I++)v[I]=this.i(I)^E.i(I);return new o(v,this.h^E.h)};function Ne(E){for(var y=E.g.length+1,v=[],I=0;I<y;I++)v[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(v,E.h)}function ne(E,y){var v=y>>5;y%=32;for(var I=E.g.length-v,b=[],S=0;S<I;S++)b[S]=0<y?E.i(S+v)>>>y|E.i(S+v+1)<<32-y:E.i(S+v);return new o(b,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,x0=P0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,xy=P0.Integer=o}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var Oy,ky,go,Fy,mc,Fd,Ly,Vy,Uy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kd=="object"&&kd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in f))break e;f=f[T]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,m=!1,T={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function w(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,T,A){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[T].apply(m,O)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let T=c.length||0,A=m.length||0;c.length=T+A;for(let O=0;O<A;O++)c[T+O]=m[O]}else c.push(m)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function $(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var Ne=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ne(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(f in m)c[f]=m[f];for(let A=0;A<v.length;A++)f=v[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ae;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zt{constructor(){this.h=this.g=null}add(d,f){let m=hr.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var hr=new F(()=>new V,c=>c.reset());class V{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,ae=new zt,Le=()=>{let c=a.Promise.resolve(void 0);U=()=>{c.then(Gt)}};var Gt=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){S(f)}var d=hr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}H=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function fr(c,d){if(Ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{Q(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Rh[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fr.aa.h.call(this)}}C(fr,Ce);var Rh={2:"touch",3:"pen",4:"mouse"};fr.prototype.h=function(){fr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Un=0;function St(c,d,f,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=T,this.key=++Un,this.da=this.fa=!1}function jn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pr(c){this.src=c,this.g={},this.h=0}pr.prototype.add=function(c,d,f,m,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=Ph(c,d,m,T);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new St(d,this.src,A,!!m,T),d.fa=f,c.push(d)),d};function Nh(c,d){var f=d.type;if(f in c.g){var m=c.g[f],T=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(m,T,1),A&&(jn(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Ph(c,d,f,m){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return T}return-1}var xh="closure_lm_"+(1e6*Math.random()|0),Oh={};function G_(c,d,f,m,T){if(m&&m.once)return K_(c,d,f,m,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)G_(c,d[A],f,m,T);return null}return f=Vh(f),c&&c[Oe]?c.K(d,f,l(m)?!!m.capture:!!m,T):W_(c,d,f,!1,m,T)}function W_(c,d,f,m,T,A){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,De=Fh(c);if(De||(c[xh]=De=new pr(c)),f=De.add(d,f,m,O,A),f.proxy)return f;if(m=PA(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)Se||(T=O),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(Y_(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function PA(){function c(f){return d.call(c.src,c.listener,f)}let d=xA;return c}function K_(c,d,f,m,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)K_(c,d[A],f,m,T);return null}return f=Vh(f),c&&c[Oe]?c.L(d,f,l(m)?!!m.capture:!!m,T):W_(c,d,f,!0,m,T)}function Q_(c,d,f,m,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)Q_(c,d[A],f,m,T);else m=l(m)?!!m.capture:!!m,f=Vh(f),c&&c[Oe]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=Ph(A,f,m,T),-1<f&&(jn(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Fh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Ph(d,f,m,T)),(f=-1<c?d[c]:null)&&kh(f))}function kh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Oe])Nh(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(Y_(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Fh(d))?(Nh(f,c),f.h==0&&(f.src=null,d[xh]=null)):jn(c)}}}function Y_(c){return c in Oh?Oh[c]:Oh[c]="on"+c}function xA(c,d){if(c.da)c=!0;else{d=new fr(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&kh(c),c=f.call(m,d)}return c}function Fh(c){return c=c[xh],c instanceof pr?c:null}var Lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vh(c){return typeof c=="function"?c:(c[Lh]||(c[Lh]=function(d){return c.handleEvent(d)}),c[Lh])}function at(){xe.call(this),this.i=new pr(this),this.M=this,this.F=null}C(at,xe),at.prototype[Oe]=!0,at.prototype.removeEventListener=function(c,d,f,m){Q_(this,c,d,f,m)};function wt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ce(d,c);else if(d instanceof Ce)d.target=d.target||c;else{var T=d;d=new Ce(m,c),I(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];T=kc(O,m,!0,d)&&T}if(O=d.g=c,T=kc(O,m,!0,d)&&T,T=kc(O,m,!1,d)&&T,f)for(A=0;A<f.length;A++)O=d.g=f[A],T=kc(O,m,!1,d)&&T}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)jn(f[m]);delete c.g[d],c.h--}}this.F=null},at.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},at.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function kc(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var De=O.listener,tt=O.ha||O.src;O.fa&&Nh(c.i,O),T=De.call(tt,m)!==!1&&T}}return T&&!m.defaultPrevented}function J_(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Z_(c){c.g=J_(()=>{c.g=null,c.i&&(c.i=!1,Z_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class OA extends xe{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Z_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vo(c){xe.call(this),this.h=c,this.g={}}C(Vo,xe);var X_=[];function ew(c){ne(c.g,function(d,f){this.g.hasOwnProperty(f)&&kh(d)},c),c.g={}}Vo.prototype.N=function(){Vo.aa.N.call(this),ew(this)},Vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uh=a.JSON.stringify,kA=a.JSON.parse,FA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jh(){}jh.prototype.h=null;function tw(c){return c.h||(c.h=c.i())}function nw(){}var Uo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bh(){Ce.call(this,"d")}C(Bh,Ce);function $h(){Ce.call(this,"c")}C($h,Ce);var ti={},rw=null;function Fc(){return rw=rw||new at}ti.La="serverreachability";function iw(c){Ce.call(this,ti.La,c)}C(iw,Ce);function jo(c){let d=Fc();wt(d,new iw(d))}ti.STAT_EVENT="statevent";function sw(c,d){Ce.call(this,ti.STAT_EVENT,c),this.stat=d}C(sw,Ce);function Et(c){let d=Fc();wt(d,new sw(d,c))}ti.Ma="timingevent";function ow(c,d){Ce.call(this,ti.Ma,c),this.size=d}C(ow,Ce);function Bo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function $o(){this.g=!0}$o.prototype.xa=function(){this.g=!1};function LA(c,d,f,m,T,A){c.info(function(){if(c.g)if(A)for(var O="",De=A.split("&"),tt=0;tt<De.length;tt++){var _e=De[tt].split("=");if(1<_e.length){var ct=_e[0];_e=_e[1];var ut=ct.split("_");O=2<=ut.length&&ut[1]=="type"?O+(ct+"="+_e+"&"):O+(ct+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+f+`
`+O})}function VA(c,d,f,m,T,A,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+O})}function rs(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+jA(c,f)+(m?" "+m:"")})}function UA(c,d){c.info(function(){return"TIMEOUT: "+d})}$o.prototype.info=function(){};function jA(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return Uh(f)}catch{return d}}var Lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},aw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hh;function Vc(){}C(Vc,jh),Vc.prototype.g=function(){return new XMLHttpRequest},Vc.prototype.i=function(){return{}},Hh=new Vc;function mr(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new Vo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cw}function cw(){this.i=null,this.g="",this.h=!1}var uw={},qh={};function zh(c,d,f){c.L=1,c.v=$c(Bn(d)),c.m=f,c.P=!0,lw(c,null)}function lw(c,d){c.F=Date.now(),Uc(c),c.A=Bn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),bw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new cw,c.g=$w(c.j,f?d:null,!c.m),0<c.O&&(c.M=new OA(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(X_[0]=T.toString()),T=X_);for(var A=0;A<T.length;A++){var O=G_(f,T[A],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),jo(),LA(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&$n(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let ut=$n(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>ut)&&(ut!=3||this.g&&(this.h.h||this.g.oa()||Nw(this.g)))){this.J||ut!=4||d==7||(d==8||0>=os?jo(3):jo(2)),Gh(this);var f=this.g.Z();this.X=f;t:if(dw(this)){var m=Nw(this.g);c="";var T=m.length,A=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Ho(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,VA(this.i,this.u,this.A,this.l,this.R,ut,f),this.o){if(this.T&&!this.K){t:{if(this.g){var De,tt=this.g;if((De=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(De)){var _e=De;break t}}_e=null}if(f=_e)rs(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wh(this,f);else{this.o=!1,this.s=3,Et(12),ni(this),Ho(this);break e}}if(this.P){f=!0;let rn;for(;!this.J&&this.C<O.length;)if(rn=BA(this,O),rn==qh){ut==4&&(this.s=4,Et(14),f=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==uw){this.s=4,Et(15),rs(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else rs(this.i,this.l,rn,null),Wh(this,rn);if(dw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ut!=4||O.length!=0||this.h.h||(this.s=1,Et(16),f=!1),this.o=this.o&&f,!f)rs(this.i,this.l,O,"[Invalid Chunked Response]"),ni(this),Ho(this);else if(0<O.length&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.ba&&!ct.M&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Xh(ct),ct.M=!0,Et(11))}}else rs(this.i,this.l,O,null),Wh(this,O);ut==4&&ni(this),this.o&&!this.J&&(ut==4?Vw(this.j,this):(this.o=!1,Uc(this)))}else iM(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,Et(12)):(this.s=0,Et(13)),ni(this),Ho(this)}}}catch{}finally{}};function dw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function BA(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?qh:(f=Number(d.substring(f,m)),isNaN(f)?uw:(m+=1,m+f>d.length?qh:(d=d.slice(m,m+f),c.C=m+f,d)))}mr.prototype.cancel=function(){this.J=!0,ni(this)};function Uc(c){c.S=Date.now()+c.I,hw(c,c.I)}function hw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Bo(g(c.ba,c),d)}function Gh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(UA(this.i,this.A),this.L!=2&&(jo(),Et(17)),ni(this),this.s=2,Ho(this)):hw(this,this.S-c)};function Ho(c){c.j.G==0||c.J||Vw(c.j,c)}function ni(c){Gh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ew(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Wh(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Kh(f.h,c))){if(!c.K&&Kh(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Wc(f),zc(f);else break e;Zh(f),Et(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Bo(g(f.Za,f),6e3));if(1>=mw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ii(f,11)}else if((c.K||f.g==c)&&Wc(f),!$(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let _e=T[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let ct=_e[3];ct!=null&&(f.la=ct,f.j.info("VER="+f.la));let ut=_e[4];ut!=null&&(f.Aa=ut,f.j.info("SVER="+f.Aa));let os=_e[5];os!=null&&typeof os=="number"&&0<os&&(m=1.5*os,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let rn=c.g;if(rn){let Qc=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qc){var A=m.h;A.g||Qc.indexOf("spdy")==-1&&Qc.indexOf("quic")==-1&&Qc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Qh(A,A.h),A.h=null))}if(m.D){let ef=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;ef&&(m.ya=ef,Ae(m.I,m.D,ef))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=Bw(m,m.J?m.ia:null,m.W),O.K){gw(m.h,O);var De=O,tt=m.L;tt&&(De.I=tt),De.B&&(Gh(De),Uc(De)),m.g=O}else Fw(m);0<f.i.length&&Gc(f)}else _e[0]!="stop"&&_e[0]!="close"||ii(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?ii(f,7):Jh(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}jo(4)}catch{}}var $A=class{constructor(c,d){this.g=c,this.map=d}};function fw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mw(c){return c.h?1:c.g?c.g.size:0}function Kh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Qh(c,d){c.g?c.g.add(d):c.h=d}function gw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}fw.prototype.cancel=function(){if(this.i=yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function yw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function HA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function qA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function vw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=qA(c),m=HA(c),T=m.length,A=0;A<T;A++)d.call(void 0,m[A],f&&f[A],c)}var _w=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zA(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),T=null;if(0<=m){var A=c[f].substring(0,m);T=c[f].substring(m+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,jc(this,c.j),this.o=c.o,this.g=c.g,Bc(this,c.s),this.l=c.l;var d=c.i,f=new Go;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),ww(this,f),this.m=c.m}else c&&(d=String(c).match(_w))?(this.h=!1,jc(this,d[1]||"",!0),this.o=qo(d[2]||""),this.g=qo(d[3]||"",!0),Bc(this,d[4]),this.l=qo(d[5]||"",!0),ww(this,d[6]||"",!0),this.m=qo(d[7]||"")):(this.h=!1,this.i=new Go(null,this.h))}ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(zo(d,Ew,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(zo(d,Ew,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(zo(f,f.charAt(0)=="/"?KA:WA,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",zo(f,YA)),c.join("")};function Bn(c){return new ri(c)}function jc(c,d,f){c.j=f?qo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Bc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function ww(c,d,f){d instanceof Go?(c.i=d,JA(c.i,c.h)):(f||(d=zo(d,QA)),c.i=new Go(d,c.h))}function Ae(c,d,f){c.i.set(d,f)}function $c(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function qo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function zo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,GA),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function GA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ew=/[#\/\?@]/g,WA=/[#\?:]/g,KA=/[#\?]/g,QA=/[#\?@]/g,YA=/#/g;function Go(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&zA(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Go.prototype,t.add=function(c,d){gr(this),this.i=null,c=is(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Iw(c,d){gr(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Dw(c,d){return gr(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){gr(this),this.g.forEach(function(f,m){f.forEach(function(T){c.call(d,T,m,this)},this)},this)},t.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let T=c[m];for(let A=0;A<T.length;A++)f.push(d[m])}return f},t.V=function(c){gr(this);let d=[];if(typeof c=="string")Dw(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return gr(this),this.i=null,c=is(this,c),Dw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function bw(c,d,f){Iw(c,d),0<f.length&&(c.i=null,c.g.set(is(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var T=A;O[m]!==""&&(T+="="+encodeURIComponent(String(O[m]))),c.push(T)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function JA(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(f,m){var T=m.toLowerCase();m!=T&&(Iw(this,m),bw(this,T,f))},c)),c.j=d}function ZA(c,d){let f=new $o;if(a.Image){let m=new Image;m.onload=w(yr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=w(yr,f,"TestLoadImage: error",!1,d,m),m.onabort=w(yr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=w(yr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function XA(c,d){let f=new $o,m=new AbortController,T=setTimeout(()=>{m.abort(),yr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(T),A.ok?yr(f,"TestPingServer: ok",!0,d):yr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),yr(f,"TestPingServer: error",!1,d)})}function yr(c,d,f,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(f)}catch{}}function eM(){this.g=new FA}function tM(c,d,f){let m=f||"";try{vw(c,function(T,A){let O=T;l(T)&&(O=Uh(T)),d.push(m+A+"="+encodeURIComponent(O))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function Wo(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Wo,jh),Wo.prototype.g=function(){return new Hc(this.l,this.j)},Wo.prototype.i=function(c){return function(){return c}}({});function Hc(c,d){at.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Hc,at),t=Hc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Qo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qo(this)),this.g&&(this.readyState=3,Qo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ko(this):Qo(this),this.readyState==3&&Tw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ko(this))},t.Qa=function(c){this.g&&(this.response=c,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Qo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Qo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cw(c){let d="";return ne(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function Yh(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Cw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ae(c,d,f))}function ke(c){at.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,at);var nM=/^https?$/i,rM=["POST","PUT"];t=ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hh.g(),this.v=this.o?tw(this.o):tw(Hh),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Sw(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)f.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rM,d,void 0))||m||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rw(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Sw(this,A)}};function Sw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Aw(c),qc(c)}function Aw(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qc(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Mw(this):this.bb())},t.bb=function(){Mw(this)};function Mw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)J_(c.Ea,0,c);else if(wt(c,"readystatechange"),$n(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var T=String(c.D).match(_w)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!nM.test(T?T.toLowerCase():"")}f=m}if(f)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var A=2<$n(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",Aw(c)}}finally{qc(c)}}}}function qc(c,d){if(c.g){Rw(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||wt(c,"ready");try{f.onreadystatechange=m}catch{}}}function Rw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),kA(d)}};function Nw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function iM(c){let d={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if($(c[m]))continue;var f=b(c[m]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}E(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function Pw(c){this.Aa=0,this.i=[],this.j=new $o,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yo("baseRetryDelayMs",5e3,c),this.cb=Yo("retryDelaySeedMs",1e4,c),this.Wa=Yo("forwardChannelMaxRetries",2,c),this.wa=Yo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new fw(c&&c.concurrentRequestLimit),this.Da=new eM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,m){Et(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Bw(this,null,this.W),Gc(this)};function Jh(c){if(xw(c),c.G==3){var d=c.U++,f=Bn(c.I);if(Ae(f,"SID",c.K),Ae(f,"RID",d),Ae(f,"TYPE","terminate"),Jo(c,f),d=new mr(c,c.j,d),d.L=2,d.v=$c(Bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=$w(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Uc(d)}jw(c)}function zc(c){c.g&&(Xh(c),c.g.cancel(),c.g=null)}function xw(c){zc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Wc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gc(c){if(!pw(c.h)&&!c.s){c.s=!0;var d=c.Ga;U||Le(),H||(U(),H=!0),ae.add(d,c),c.B=0}}function sM(c,d){return mw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Bo(g(c.Ga,c,d),Uw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new mr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=kw(this,T,d),f=Bn(this.I),Ae(f,"RID",c),Ae(f,"CVER",22),this.D&&Ae(f,"X-HTTP-Session-Id",this.D),Jo(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Cw(A)))+"&"+d:this.m&&Yh(f,this.m,A)),Qh(this.h,T),this.Ua&&Ae(f,"TYPE","init"),this.P?(Ae(f,"$req",d),Ae(f,"SID","null"),T.T=!0,zh(T,f,null)):zh(T,f,d),this.G=2}}else this.G==3&&(c?Ow(this,c):this.i.length==0||pw(this.h)||Ow(this))};function Ow(c,d){var f;d?f=d.l:f=c.U++;let m=Bn(c.I);Ae(m,"SID",c.K),Ae(m,"RID",f),Ae(m,"AID",c.T),Jo(c,m),c.m&&c.o&&Yh(m,c.m,c.o),f=new mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=kw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Qh(c.h,f),zh(f,m,d)}function Jo(c,d){c.H&&ne(c.H,function(f,m){Ae(d,m,f)}),c.l&&vw({},function(f,m){Ae(d,m,f)})}function kw(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=T[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let De=!0;for(let tt=0;tt<f;tt++){let _e=T[tt].g,ct=T[tt].map;if(_e-=A,0>_e)A=Math.max(0,T[tt].g-100),De=!1;else try{tM(ct,O,"req"+_e+"_")}catch{m&&m(ct)}}if(De){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function Fw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;U||Le(),H||(U(),H=!0),ae.add(d,c),c.v=0}}function Zh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Bo(g(c.Fa,c),Uw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Lw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Bo(g(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Et(10),zc(this),Lw(this))};function Xh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Lw(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Bn(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),Jo(c,d),c.m&&c.o&&Yh(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=$c(Bn(d)),f.m=null,f.P=!0,lw(f,c)}t.Za=function(){this.C!=null&&(this.C=null,zc(this),Zh(this),Et(19))};function Wc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Vw(c,d){var f=null;if(c.g==d){Wc(c),Xh(c),c.g=null;var m=2}else if(Kh(c.h,d))f=d.D,gw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=Fc(),wt(m,new ow(m,f)),Gc(c)}else Fw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&sM(c,d)||m==2&&Zh(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function Uw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ii(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let T=!m;m=new ri(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||jc(m,"https"),$c(m),T?ZA(m.toString(),f):XA(m.toString(),f)}else Et(2);c.G=0,c.l&&c.l.sa(d),jw(c),xw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function jw(c){if(c.G=0,c.ka=[],c.l){let d=yw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Bw(c,d,f){var m=f instanceof ri?Bn(f):new ri(f);if(m.g!="")d&&(m.g=d+"."+m.g),Bc(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new ri(null);m&&jc(A,m),d&&(A.g=d),T&&Bc(A,T),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&Ae(m,f,d),Ae(m,"VER",c.la),Jo(c,m),m}function $w(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new Wo({eb:f})):new ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Hw(){}t=Hw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Kc(){}Kc.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){at.call(this),this.g=new Pw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!$(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!$(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}C(Ot,at),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Jh(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Uh(c),c=f);d.i.push(new $A(d.Ya++,c)),d.G==3&&Gc(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Jh(this.g),delete this.g,Ot.aa.N.call(this)};function qw(c){Bh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(qw,Bh);function zw(){$h.call(this),this.status=1}C(zw,$h);function ss(c){this.g=c}C(ss,Hw),ss.prototype.ua=function(){wt(this.g,"a")},ss.prototype.ta=function(c){wt(this.g,new qw(c))},ss.prototype.sa=function(c){wt(this.g,new zw)},ss.prototype.ra=function(){wt(this.g,"b")},Kc.prototype.createWebChannel=Kc.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,Uy=ar.createWebChannelTransport=function(){return new Kc},Vy=ar.getStatEventTarget=function(){return Fc()},Ly=ar.Event=ti,Fd=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Lc.NO_ERROR=0,Lc.TIMEOUT=8,Lc.HTTP_ERROR=6,mc=ar.ErrorCode=Lc,aw.COMPLETE="complete",Fy=ar.EventType=aw,nw.EventType=Uo,Uo.OPEN="a",Uo.CLOSE="b",Uo.ERROR="c",Uo.MESSAGE="d",at.prototype.listen=at.prototype.K,go=ar.WebChannel=nw,ky=ar.FetchXmlHttpFactory=Wo,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,Oy=ar.XhrIo=ke}).apply(typeof kd<"u"?kd:typeof self<"u"?self:typeof window<"u"?window:{});var O0="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var Oo="10.12.1";var zi=new Ur("@firebase/firestore");function gc(){return zi.logLevel}function q(t,...e){if(zi.logLevel<=de.DEBUG){let n=e.map(o_);zi.debug(`Firestore (${Oo}): ${t}`,...n)}}function Gi(t,...e){if(zi.logLevel<=de.ERROR){let n=e.map(o_);zi.error(`Firestore (${Oo}): ${t}`,...n)}}function $d(t,...e){if(zi.logLevel<=de.WARN){let n=e.map(o_);zi.warn(`Firestore (${Oo}): ${t}`,...n)}}function o_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+t;throw Gi(e),new Error(e)}function et(t,e){t||he()}function Re(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Hy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},qy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},zy=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new Hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Ze(e)}},Gy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Wy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Gy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ky=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Qy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Ky(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function jj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var qd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function wo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var _t=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ue=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new _t(0,0))}static max(){return new t(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var zd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends zd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends zd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new K(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var oe=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var Yy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Yy.UNKNOWN_ID=-1;function $j(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ue.fromTimestamp(r===1e9?new _t(n+1,0):new _t(n,r));return new Wi(i,oe.empty(),e)}function Hj(t){return new Wi(t.readTime,t.key,-1)}var Wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ue.min(),oe.empty(),-1)}static max(){return new t(Ue.max(),oe.empty(),-1)}};function qj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var zj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function eS(t){return D(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==zj)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Gj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uh(t){return t.name==="IndexedDbTransactionError"}var Wj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function a_(t){return t==null}function Ic(t){return t===0&&1/t==-1/0}function Kj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Qj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],u8=[...Qj,"documentOverlays"],Yj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Jj=Yj,l8=[...Jj,"indexConfiguration","indexState","indexEntries"];function k0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $t=class t{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}},vo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ct=class t{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gd(this.data.getIterator())}getIteratorFrom(e){return new Gd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Gd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var kn=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ct(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Zy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Zy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qr.EMPTY_BYTE_STRING=new Qr("");var Zj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(et(!!t),typeof t=="string"){let e=0,n=Zj.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ye(t.seconds),nanos:Ye(t.nanos)}}function Ye(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Eo(t){return typeof t=="string"?Qr.fromBase64String(t):Qr.fromUint8Array(t)}function c_(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function nS(t){let e=t.mapValue.fields.__previous_value__;return c_(e)?nS(e):e}function Wd(t){let e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}var Xy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ev=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Io(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?c_(t)?4:rS(t)?9007199254740991:10:he()}function Ln(t,e){if(t===e)return!0;let n=Io(t);if(n!==Io(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wd(t).isEqual(Wd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Eo(i.bytesValue).isEqual(Eo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ye(i.geoPointValue.latitude)===Ye(s.geoPointValue.latitude)&&Ye(i.geoPointValue.longitude)===Ye(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ye(i.integerValue)===Ye(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Ye(i.doubleValue),a=Ye(s.doubleValue);return o===a?Ic(o)===Ic(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return wo(t.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(k0(o)!==k0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Ln(o[u],a[u])))return!1;return!0}(t,e);default:return he()}}function Dc(t,e){return(t.values||[]).find(n=>Ln(n,e))!==void 0}function Do(t,e){if(t===e)return 0;let n=Io(t),r=Io(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Ye(s.integerValue||s.doubleValue),u=Ye(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return F0(t.timestampValue,e.timestampValue);case 4:return F0(Wd(t),Wd(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=Eo(s),u=Eo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Te(a[l],u[l]);if(h!==0)return h}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(Ye(s.latitude),Ye(o.latitude));return a!==0?a:Te(Ye(s.longitude),Ye(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){let h=Do(a[l],u[l]);if(h)return h}return Te(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Ld.mapValue&&o===Ld.mapValue)return 0;if(s===Ld.mapValue)return 1;if(o===Ld.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=Te(u[p],h[p]);if(g!==0)return g;let w=Do(a[u[p]],l[h[p]]);if(w!==0)return w}return Te(u.length,h.length)}(t.mapValue,e.mapValue);default:throw he()}}function F0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=Yr(t),r=Yr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function bo(t){return tv(t)}function tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Eo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=tv(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${tv(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function nv(t){return!!t&&"integerValue"in t}function u_(t){return!!t&&"arrayValue"in t}function jd(t){return!!t&&"mapValue"in t}function vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Cc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var On=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=vc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];jd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(vc(this.value))}};function iS(t){let e=[];return Cc(t.fields,(n,r)=>{let i=new Bt([n]);if(jd(r)){let s=iS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new kn(e)}var To=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ue.min(),Ue.min(),Ue.min(),On.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ue.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ue.min(),Ue.min(),On.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ue.min(),Ue.min(),On.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=On.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=On.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Co=class{constructor(e,n){this.position=e,this.inclusive=n}};function L0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=Do(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function V0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ln(t.position[n],e.position[n]))return!1;return!0}var So=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Xj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Kd=class{},Xe=class t extends Kd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new iv(e,n,r):n==="array-contains"?new av(e,r):n==="in"?new cv(e,r):n==="not-in"?new uv(e,r):n==="array-contains-any"?new lv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new sv(e,r):new ov(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Do(n,this.value)):n!==null&&Io(this.value)===Io(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jr=class t extends Kd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return sS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function sS(t){return t.op==="and"}function oS(t){return e2(t)&&sS(t)}function e2(t){for(let e of t.filters)if(e instanceof Jr)return!1;return!0}function rv(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(oS(t))return t.filters.map(e=>rv(e)).join(",");{let e=t.filters.map(n=>rv(n)).join(",");return`${t.op}(${e})`}}function aS(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(t,e):t instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&aS(o,i.filters[a]),!0):!1}(t,e):void he()}function cS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(cS).join(" ,")+"}"}(t):"Filter"}var iv=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){let n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}},sv=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},ov=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function uS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}var av=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return u_(n)&&Dc(n.arrayValue,this.value)}},cv=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Dc(this.value.arrayValue,n)}},uv=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Dc(this.value.arrayValue,n)}},lv=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!u_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dc(this.value.arrayValue,r))}};var dv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function U0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new dv(t,e,n,r,i,s,o)}function l_(t){let e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>rv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),a_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ue=n}return e.ue}function d_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Xj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!V0(t.startAt,e.startAt)&&V0(t.endAt,e.endAt)}var Ao=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function t2(t,e,n,r,i,s,o,a){return new Ao(t,e,n,r,i,s,o,a)}function n2(t){return new Ao(t)}function j0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r2(t){return t.collectionGroup!==null}function _c(t){let e=Re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Ct(Bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new So(s,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new So(Bt.keyField(),r))}return e.ce}function Hi(t){let e=Re(t);return e.le||(e.le=i2(e,_c(t))),e.le}function i2(t,e){if(t.limitType==="F")return U0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new So(i.field,s)});let n=t.endAt?new Co(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Co(t.startAt.position,t.startAt.inclusive):null;return U0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hv(t,e,n){return new Ao(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lS(t,e){return d_(Hi(t),Hi(e))&&t.limitType===e.limitType}function dS(t){return`${l_(Hi(t))}|lt:${t.limitType}`}function yc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>cS(i)).join(", ")}]`),a_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bo(i)).join(",")),`Target(${r})`}(Hi(t))}; limitType=${t.limitType})`}function h_(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of _c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=L0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,_c(r),i)||r.endAt&&!function(o,a,u){let l=L0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,_c(r),i))}(t,e)}function s2(t){return(e,n)=>{let r=!1;for(let i of _c(t)){let s=o2(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function o2(t,e,n){let r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?Do(u,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Zr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return tS(this.inner)}size(){return this.innerSize}};var a2=new $t(oe.comparator);function Qd(){return a2}var hS=new $t(oe.comparator);function Vd(...t){let e=hS;for(let n of t)e=e.insert(n.key,n);return e}function fS(t){let e=hS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return wc()}function pS(){return wc()}function wc(){return new Zr(t=>t.toString(),(t,e)=>t.isEqual(e))}var c2=new $t(oe.comparator),u2=new Ct(oe.comparator);function vt(...t){let e=u2;for(let n of t)e=e.add(n);return e}var l2=new Ct(Te);function d2(){return l2}function mS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function gS(t){return{integerValue:""+t}}function h2(t,e){return Kj(e)?gS(e):mS(t,e)}var Mo=class{constructor(){this._=void 0}};function f2(t,e,n){return t instanceof Ro?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&c_(s)&&(s=nS(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ki?vS(t,e):t instanceof Qi?_S(t,e):function(i,s){let o=yS(i,s),a=B0(o)+B0(i.Pe);return nv(o)&&nv(i.Pe)?gS(a):mS(i.serializer,a)}(t,e)}function p2(t,e,n){return t instanceof Ki?vS(t,e):t instanceof Qi?_S(t,e):n}function yS(t,e){return t instanceof No?function(r){return nv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Ro=class extends Mo{},Ki=class extends Mo{constructor(e){super(),this.elements=e}};function vS(t,e){let n=wS(e);for(let r of t.elements)n.some(i=>Ln(i,r))||n.push(r);return{arrayValue:{values:n}}}var Qi=class extends Mo{constructor(e){super(),this.elements=e}};function _S(t,e){let n=wS(e);for(let r of t.elements)n=n.filter(i=>!Ln(i,r));return{arrayValue:{values:n}}}var No=class extends Mo{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function B0(t){return Ye(t.integerValue||t.doubleValue)}function wS(t){return u_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function m2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ki&&i instanceof Ki||r instanceof Qi&&i instanceof Qi?wo(r.elements,i.elements,Ln):r instanceof No&&i instanceof No?Ln(r.Pe,i.Pe):r instanceof Ro&&i instanceof Ro}(t.transform,e.transform)}var fv=class{constructor(e,n){this.version=e,this.transformResults=n}},qi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Bd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Po=class{};function ES(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Yd(t.key,qi.none()):new Yi(t.key,t.data,qi.none());{let n=t.data,r=On.empty(),i=new Ct(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new lr(t.key,r,new kn(i.toArray()),qi.none())}}function g2(t,e,n){t instanceof Yi?function(i,s,o){let a=i.value.clone(),u=H0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lr?function(i,s,o){if(!Bd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=H0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(IS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ec(t,e,n,r){return t instanceof Yi?function(s,o,a,u){if(!Bd(s.precondition,o))return a;let l=s.value.clone(),h=q0(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof lr?function(s,o,a,u){if(!Bd(s.precondition,o))return a;let l=q0(s.fieldTransforms,u,o),h=o.data;return h.setAll(IS(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Bd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function y2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=yS(r.transform,i||null);s!=null&&(n===null&&(n=On.empty()),n.set(r.field,s))}return n||null}function $0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&wo(r,i,(s,o)=>m2(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yi=class extends Po{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lr=class extends Po{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function IS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function H0(t,e,n){let r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,p2(o,a,n[i]))}return r}function q0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,f2(s,o,e))}return r}var Yd=class extends Po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pv=class extends Po{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var mv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&g2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=pS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=ES(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),vt())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,r)=>$0(n,r))&&wo(this.baseMutations,e.baseMutations,(n,r)=>$0(n,r))}},gv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return c2}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var yv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $e,ye;function v2(t){switch(t){default:return he();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function _2(t){if(t===void 0)return Gi("GRPC error has no .code"),N.UNKNOWN;switch(t){case $e.OK:return N.OK;case $e.CANCELLED:return N.CANCELLED;case $e.UNKNOWN:return N.UNKNOWN;case $e.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case $e.INTERNAL:return N.INTERNAL;case $e.UNAVAILABLE:return N.UNAVAILABLE;case $e.UNAUTHENTICATED:return N.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case $e.NOT_FOUND:return N.NOT_FOUND;case $e.ALREADY_EXISTS:return N.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return N.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case $e.ABORTED:return N.ABORTED;case $e.OUT_OF_RANGE:return N.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return N.UNIMPLEMENTED;case $e.DATA_LOSS:return N.DATA_LOSS;default:return he()}}(ye=$e||($e={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var h8=new xy([4294967295,4294967295],0);var vv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function _v(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function w2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function E2(t,e){return _v(t,e.toTimestamp())}function _o(t){return et(!!t),Ue.fromTimestamp(function(n){let r=Yr(n);return new _t(r.seconds,r.nanos)}(t))}function DS(t,e){return wv(t,e).canonicalString()}function wv(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function I2(t){let e=qe.fromString(t);return et(R2(e)),e}function Ev(t,e){return DS(t.databaseId,e.path)}function D2(t){let e=I2(t);return e.length===4?qe.emptyPath():T2(e)}function b2(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T2(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function z0(t,e,n){return{name:Ev(t,e),fields:n.value.mapValue.fields}}function C2(t,e){let n;if(e instanceof Yi)n={update:z0(t,e.key,e.value)};else if(e instanceof Yd)n={delete:Ev(t,e.key)};else if(e instanceof lr)n={update:z0(t,e.key,e.data),updateMask:M2(e.fieldMask)};else{if(!(e instanceof pv))return he();n={verify:Ev(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ki)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof No)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:E2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function S2(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?_o(i.updateTime):_o(s);return o.isEqual(Ue.min())&&(o=_o(s)),new fv(o,i.transformResults||[])}(n,e))):[]}function A2(t){let e=D2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){et(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let g=bS(p);return g instanceof Jr&&oS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(C){return new So(yo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,a_(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){let g=!!p.before,w=p.values||[];return new Co(w,g)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let g=!p.before,w=p.values||[];return new Co(w,g)}(n.endAt)),t2(e,i,o,s,a,"F",u,l)}function bS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=yo(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=yo(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=yo(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=yo(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(yo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>bS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function yo(t){return Bt.fromServerFormat(t.fieldPath)}function M2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function R2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Iv=class{constructor(e){this.ct=e}};function N2(t){let e=A2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?hv(e,e.limit,"L"):e}var Jd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Ye(e.integerValue));else if("doubleValue"in e){let r=Ye(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Ic(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Yr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(Eo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?rS(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):he()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),oe.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Jd.bt=new Jd;var Dv=class{constructor(){this._n=new bv}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Wi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},bv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ct(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ct(qe.comparator)).toArray()}};var f8=new Uint8Array(0);var xn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(41943040,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);var bc=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var Tv=class{constructor(){this.changes=new Zr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,To.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Cv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Sv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ec(r.mutation,i,kn.empty(),_t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,vt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=vt()){let i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Vd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,vt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Qd(),o=wc(),a=function(){return wc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof lr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),Ec(h.mutation,l,h.mutation.getFieldMask(),_t.now())):o.set(l.key,kn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Cv(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=wc(),i=new $t((o,a)=>o-a),s=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||kn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||vt()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=pS();h.forEach(g=>{if(!s.has(g)){let w=ES(n.get(g),r.get(g));w!==null&&p.set(g,w),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve($i()),a=-1,u=s;return o.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,vt())).next(h=>({batchId:a,changes:fS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Vd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Vd();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,g){return new Ao(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,To.newInvalidDocument(h)))});let a=Vd();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&Ec(h.mutation,l,kn.empty(),_t.now()),h_(n,l)&&(a=a.insert(u,l))}),a})}};var Av=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_o(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:N2(i.bundledQuery),readTime:_o(i.readTime)}}(n)),x.resolve()}};var Mv=class{constructor(){this.overlays=new $t(oe.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=$i();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=$i(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=$i(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=$i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yv(n,r));let s=this.hr.get(n);s===void 0&&(s=vt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Tc=class{constructor(){this.Pr=new Ct(He.Ir),this.Tr=new Ct(He.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new He(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new He(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new oe(new qe([])),r=new He(n,e),i=new He(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new oe(new qe([])),r=new He(n,e),i=new He(n,e+1),s=vt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new He(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},He=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||oe.comparator(e.key,n.key)}};var Rv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Ct(He.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new mv(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new He(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ct(Te);return n.forEach(i=>{let s=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;oe.isDocumentKey(s)||(s=s.child(""));let o=new He(new oe(s),0),a=new Ct(Te);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new He(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new He(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Nv=class{constructor(e){this.vr=e,this.docs=function(){return new $t(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():To.newInvalidDocument(n))}getEntries(e,n){let r=Qd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():To.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Qd(),o=n.path,a=new oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||qj(Hj(h),r)<=0||(i.has(h.key)||h_(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pv(this)}getSize(e){return x.resolve(this.size)}},Pv=class extends Tv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var xv=class{constructor(e){this.persistence=e,this.Mr=new Zr(n=>l_(n),d_),this.lastRemoteSnapshotVersion=Ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Tc,this.targetCount=0,this.Lr=bc.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new bc(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var Ov=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Wj(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xv(this),this.indexManager=new Dv,this.remoteDocumentCache=function(i){return new Nv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new Iv(n),this.$r=new Av(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Mv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Rv(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new kv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},kv=class extends Jy{constructor(e){super(),this.currentSequenceNumber=e}},Fv=class t{constructor(e){this.persistence=e,this.zr=new Tc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=oe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Lv=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=vt(),i=vt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Vv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Uv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return BT()?8:Gj(Ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Vv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(gc()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",yc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(gc()<=de.DEBUG&&q("QueryEngine","Query:",yc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(gc()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",yc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):x.resolve())}ji(e,n){if(j0(n))return x.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=hv(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=vt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,hv(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return j0(n)||i.isEqual(Ue.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(gc()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),yc(n)),this.es(e,o,n,$j(i,-1)).next(a=>a))})}Zi(e,n){let r=new Ct(s2(e));return n.forEach((i,s)=>{h_(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return gc()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",yc(n)),this.zi.getDocumentsMatchingQuery(e,n,Wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var jv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new $t(Te),this.rs=new Zr(s=>l_(s),d_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function P2(t,e,n,r){return new jv(t,e,n,r)}function TS(t,e){return D(this,null,function*(){let n=Re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=vt();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function x2(t,e){let n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),w=x.resolve();return g.forEach(C=>{w=w.next(()=>h.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);et(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=vt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function O2(t){let e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function k2(t,e){let n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Zd=class{constructor(){this.activeTargetIds=d2()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bv=class{constructor(){this.no=new Zd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var $v=class{io(e){}shutdown(){}};var Xd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ud=null;function jy(){return Ud===null?Ud=function(){return 268435456+Math.round(2147483648*Math.random())}():Ud++,"0x"+Ud.toString(16)}var F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Hv=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var yt="WebChannelConnection",qv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=jy(),u=this.vo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw $d("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=F2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=jy();return new Promise((o,a)=>{let u=new Oy;u.setWithCredentials(!0),u.listenOnce(Fy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case mc.NO_ERROR:let h=u.getResponseJson();q(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mc.TIMEOUT:q(yt,`RPC '${e}' ${s} timed out`),a(new K(N.DEADLINE_EXCEEDED,"Request time out"));break;case mc.HTTP_ERROR:let p=u.getStatus();if(q(yt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let w=g?.error;if(w&&w.status&&w.message){let C=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(w.status);a(new K(C,w.message))}else a(new K(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(N.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{q(yt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);q(yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=jy(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Uy(),a=Vy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new ky({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");q(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),g=!1,w=!1,C=new Hv({lo:R=>{w?q(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(q(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),q(yt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},ho:()=>p.close()}),M=(R,F,$)=>{R.listen(F,j=>{try{$(j)}catch(Q){setTimeout(()=>{throw Q},0)}})};return M(p,go.EventType.OPEN,()=>{w||(q(yt,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),M(p,go.EventType.CLOSE,()=>{w||(w=!0,q(yt,`RPC '${e}' stream ${i} transport closed`),C.po())}),M(p,go.EventType.ERROR,R=>{w||(w=!0,$d(yt,`RPC '${e}' stream ${i} transport errored:`,R),C.po(new K(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,go.EventType.MESSAGE,R=>{var F;if(!w){let $=R.data[0];et(!!$);let j=$,Q=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(Q){q(yt,`RPC '${e}' stream ${i} received error:`,Q);let Ne=Q.status,ne=function(v){let I=$e[v];if(I!==void 0)return _2(I)}(Ne),E=Q.message;ne===void 0&&(ne=N.INTERNAL,E="Unknown error status: "+Ne+" with message "+Q.message),w=!0,C.po(new K(ne,E)),p.close()}else q(yt,`RPC '${e}' stream ${i} received:`,$),C.yo($)}}),M(a,Ly.STAT_EVENT,R=>{R.stat===Fd.PROXY?q(yt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Fd.NOPROXY&&q(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function By(){return typeof document<"u"?document:null}function lh(t){return new vv(t,!0)}var eh=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var zv=class{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new eh(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return D(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return D(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return D(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new K(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>D(this,null,function*(){this.state=0,this.start()}))}c_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Gv=class extends zv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=S2(e.writeResults,e.commitTime),r=_o(e.commitTime);return this.listener.A_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=b2(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>C2(this.serializer,r))};this.i_(n)}};var Wv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,wv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(N.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,wv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(N.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Kv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Gi(n),this.y_=!1):q("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var Qv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>D(this,null,function*(){Ac(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=Re(u);l.M_.add(4),yield Sc(l),l.N_.set("Unknown"),l.M_.delete(4),yield dh(l)})}(this))}))}),this.N_=new Kv(r,i)}};function dh(t){return D(this,null,function*(){if(Ac(t))for(let e of t.x_)yield e(!0)})}function Sc(t){return D(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Ac(t){return Re(t).M_.size===0}function CS(t,e,n){return D(this,null,function*(){if(!uh(e))throw e;t.M_.add(1),yield Sc(t),t.N_.set("Offline"),n||(n=()=>O2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield dh(t)}))})}function SS(t,e){return e().catch(n=>CS(t,n,e))}function hh(t){return D(this,null,function*(){let e=Re(t),n=Xr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;L2(e);)try{let i=yield k2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,V2(e,i)}catch(i){yield CS(e,i)}AS(e)&&MS(e)})}function L2(t){return Ac(t)&&t.v_.length<10}function V2(t,e){t.v_.push(e);let n=Xr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function AS(t){return Ac(t)&&!Xr(t).Zo()&&t.v_.length>0}function MS(t){Xr(t).start()}function U2(t){return D(this,null,function*(){Xr(t).V_()})}function j2(t){return D(this,null,function*(){let e=Xr(t);for(let n of t.v_)e.d_(n.mutations)})}function B2(t,e,n){return D(this,null,function*(){let r=t.v_.shift(),i=gv.from(r,e,n);yield SS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield hh(t)})}function $2(t,e){return D(this,null,function*(){e&&Xr(t).E_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return v2(o)&&o!==N.ABORTED}(i.code)){let s=r.v_.shift();Xr(r).t_(),yield SS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield hh(r)}})}(t,e)),AS(t)&&MS(t)})}function G0(t,e){return D(this,null,function*(){let n=Re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Ac(n);n.M_.add(3),yield Sc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield dh(n)})}function H2(t,e){return D(this,null,function*(){let n=Re(t);e?(n.M_.delete(2),yield dh(n)):e||(n.M_.add(2),yield Sc(n),n.N_.set("Unknown"))})}function Xr(t){return t.k_||(t.k_=function(n,r,i){let s=Re(n);return s.f_(),new Gv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:U2.bind(null,t),Ao:$2.bind(null,t),R_:j2.bind(null,t),A_:B2.bind(null,t)}),t.x_.push(e=>D(this,null,function*(){e?(t.k_.t_(),yield hh(t)):(yield t.k_.stop(),t.v_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Yv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RS(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),uh(t))return new K(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Jv=class{constructor(){this.queries=new Zr(e=>dS(e),lS),this.onlineState="Unknown",this.z_=new Set}};function q2(t){t.z_.forEach(e=>{e.next()})}var W0,K0;(K0=W0||(W0={})).J_="default",K0.Cache="cache";var Zv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Zr(a=>dS(a),lS),this.Da=new Map,this.Ca=new Set,this.va=new $t(oe.comparator),this.Fa=new Map,this.Ma=new Tc,this.xa={},this.Oa=new Map,this.Na=bc.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function z2(t,e,n){return D(this,null,function*(){let r=Q2(t);try{let i=yield function(o,a){let u=Re(o),l=_t.now(),h=a.reduce((w,C)=>w.add(C.key),vt()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=Qd(),M=vt();return u.os.getEntries(w,h).next(R=>{C=R,C.forEach((F,$)=>{$.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,C)).next(R=>{p=R;let F=[];for(let $ of a){let j=y2($,p.get($.key).overlayedDocument);j!=null&&F.push(new lr($.key,j,iS(j.value.mapValue),qi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,F,a)}).next(R=>{g=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(w,R.batchId,F)})}).then(()=>({batchId:g.batchId,changes:fS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new $t(Te)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield fh(r,i.changes),yield hh(r.remoteStore)}catch(i){let s=RS(i,"Failed to persist write");n.reject(s)}})}function Q0(t,e,n){let r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Re(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.U_)g.j_(a)&&(l=!0)}),l&&q2(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function G2(t,e){return D(this,null,function*(){let n=Re(t),r=e.batch.batchId;try{let i=yield x2(n.localStore,e);PS(n,r,null),NS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield fh(n,i)}catch(i){yield eS(i)}})}function W2(t,e,n){return D(this,null,function*(){let r=Re(t);try{let i=yield function(o,a){let u=Re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(et(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);PS(r,e,n),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield fh(r,i)}catch(i){yield eS(i)}})}function NS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function PS(t,e,n){let r=Re(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function fh(t,e,n){return D(this,null,function*(){let r=Re(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let h=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(l){i.push(l);let h=Lv.Ki(u.targetId,l);s.push(h)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(u,l){return D(this,null,function*(){let h=Re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.qi,w=>h.persistence.referenceDelegate.addReference(p,g.targetId,w)).next(()=>x.forEach(g.Qi,w=>h.persistence.referenceDelegate.removeReference(p,g.targetId,w)))))}catch(p){if(!uh(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let w=h.ns.get(g),C=w.snapshotVersion,M=w.withLastLimboFreeSnapshotVersion(C);h.ns=h.ns.insert(g,M)}}})}(r.localStore,s))})}function K2(t,e){return D(this,null,function*(){let n=Re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield TS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new K(N.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield fh(n,r.us)}})}function Q2(t){let e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=G2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W2.bind(null,e),e}var th=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=lh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return P2(this.persistence,new Uv,e.initialUser,this.serializer)}createPersistence(e){return new Ov(Fv.Hr,this.serializer)}createSharedClientState(e){return new Bv}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Xv=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Q0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=K2.bind(null,this.syncEngine),yield H2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Jv}()}createDatastore(e){let n=lh(e.databaseInfo.databaseId),r=function(s){return new qv(s)}(e.databaseInfo);return function(s,o,a,u){return new Wv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Qv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Q0(this.syncEngine,n,0),function(){return Xd.D()?new Xd:new $v}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,h){let p=new Zv(i,s,o,a,u,l);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e;yield function(r){return D(this,null,function*(){let i=Re(r);q("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Sc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var e_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=qd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=RS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $y(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield TS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function Y0(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield J2(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>G0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>G0(e.remoteStore,i)),t._onlineComponents=e})}function Y2(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function J2(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $y(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Y2(n))throw n;$d("Error using user provided cache. Falling back to memory cache: "+n),yield $y(t,new th)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield $y(t,new th);return t._offlineComponents})}function Z2(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield Y0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield Y0(t,new Xv))),t._onlineComponents})}function X2(t){return Z2(t).then(e=>e.syncEngine)}function xS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var J0=new Map;function OS(t,e,n){if(!n)throw new K(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eB(t,e,n,r){if(e===!0&&r===!0)throw new K(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Z0(t){if(!oe.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X0(t){if(oe.isDocumentKey(t))throw new K(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function f_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function kS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=f_(t);throw new K(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var nh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},xo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hy;switch(r.type){case"firstParty":return new Wy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=J0.get(n);r&&(q("ComponentProvider","Removing Datastore"),J0.delete(n),r.terminate())}(this),Promise.resolve()}};function FS(t,e,n,r={}){var i;let s=(t=kS(t,xo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&$d("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ze.MOCK_USER;else{a=FT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new K(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(l)}t._authCredentials=new qy(new Hd(a,u))}}var t_=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ur=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends t_{constructor(e,n,r){super(e,n,n2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new oe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LS(t,e,...n){if(t=gt(t),OS("collection","path",e),t instanceof xo){let r=qe.fromString(e,...n);return X0(r),new Kr(t,null,r)}{if(!(t instanceof ur||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return X0(r),new Kr(t.firestore,null,r)}}function VS(t,e,...n){if(t=gt(t),arguments.length===1&&(e=qd.newId()),OS("doc","path",e),t instanceof xo){let r=qe.fromString(e,...n);return Z0(r),new ur(t,null,new oe(r))}{if(!(t instanceof ur||t instanceof Kr))throw new K(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return Z0(r),new ur(t.firestore,t instanceof Kr?t.converter:null,new oe(r))}}var n_=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new eh(this,"async_queue_retry"),this.hu=()=>{let n=By();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=By();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=By();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new cr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return D(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!uh(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Yv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&he()}verifyOperationInProgress(){}du(){return D(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var rh=class extends xo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new n_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jS(this),this._firestoreClient.terminate()}};function US(t,e){let n=typeof t=="object"?t:so(),r=typeof t=="string"?t:e||"(default)",i=Za(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=kT("firestore");s&&FS(i,...s)}return i}function tB(t){return t._firestoreClient||jS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function jS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new Xy(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xS(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new e_(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var ih=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qr.fromBase64String(e))}catch(n){throw new K(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var oh=class{constructor(e){this._methodName=e}};var ah=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var nB=/^__.*__$/,r_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yi(e,this.data,n,this.fieldTransforms)}};function BS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var i_=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return ch(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(BS(this.fu)&&nB.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},s_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lh(e)}Fu(e,n,r,i=!1){return new i_({fu:e,methodName:n,vu:r,path:Bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function rB(t){let e=t._freezeSettings(),n=lh(t._databaseId);return new s_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iB(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);zS("Data must be an object, but it was:",o,r);let a=HS(r,o),u,l;if(s.merge)u=new kn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let g=sB(e,p,n);if(!o.contains(g))throw new K(N.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);cB(h,g)||h.push(g)}u=new kn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new r_(new On(a),u,l)}function $S(t,e){if(qS(t=gt(t)))return zS("Unsupported field value:",e,t),HS(t,e);if(t instanceof oh)return function(r,i){if(!BS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=$S(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return h2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=_t.fromDate(r);return{timestampValue:_v(i.serializer,s)}}if(r instanceof _t){let s=new _t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_v(i.serializer,s)}}if(r instanceof ah)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ih)return{bytesValue:w2(i.serializer,r._byteString)};if(r instanceof ur){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:DS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${f_(r)}`)}(t,e)}function HS(t,e){let n={};return tS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cc(t,(r,i)=>{let s=$S(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof _t||t instanceof ah||t instanceof ih||t instanceof ur||t instanceof oh)}function zS(t,e,n){if(!qS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=f_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function sB(t,e,n){if((e=gt(e))instanceof sh)return e._internalPath;if(typeof e=="string")return aB(t,e);throw ch("Field path arguments must be of type string or ",t,!1,void 0,n)}var oB=new RegExp("[~\\*/\\[\\]]");function aB(t,e,n){if(e.search(oB)>=0)throw ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sh(...e.split("."))._internalPath}catch{throw ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ch(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new K(N.INVALID_ARGUMENT,a+t+u)}function cB(t,e){return t.some(n=>n.isEqual(e))}function uB(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function GS(t,e){let n=kS(t.firestore,rh),r=VS(t),i=uB(t.converter,e);return lB(n,[iB(rB(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function lB(t,e){return function(r,i){let s=new cr;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return z2(yield X2(r),i,s)})),s.promise}(tB(t),e)}(function(e,n=!0){(function(i){Oo=i})($r),Br(new en("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new rh(new zy(r.getProvider("auth-internal")),new Qy(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new K(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ev(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Qe(O0,"4.6.3",e),Qe(O0,"4.6.3","esm2017")})();var Ji=class{constructor(e){return e}},WS="firestore",p_=class{constructor(){return Xa(WS)}};var m_=new z("angularfire2.firestore-instances");function dB(t,e){let n=td(WS,t,e);return n&&new Ji(n)}function hB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ji(r)}}var fB={provide:p_,deps:[[new pt,m_]]},pB={provide:Ji,useFactory:dB,deps:[[new pt,m_],rr]};function KS(t,...e){return Qe("angularfire",ki.full,"fst"),En([pB,fB,{provide:m_,useFactory:hB(t),multi:!0,deps:[ve,Tt,co,Fi,[new pt,cc],[new pt,ao],...e]}])}var QS=tn(GS,!0);var YS=tn(LS,!0);var JS=tn(US,!0);function gB(t,e){if(t&1&&(W(0,"div",15)(1,"div",16),pe(2),Y()()),t&2){let n=dn();Fe(2),zs(" ",n.errorMessage," ")}}var ZS=(()=>{let e=class e{constructor(r,i,s){this.authService=r,this.router=i,this.firestore=s,this.user=new Od("",""),this.errorEmail=-1,this.errorMessage=""}registrarse(){let r=YS(this.firestore,"registros");this.authService.crearUsuario(this.user.email,this.user.password).then(i=>{i.user.email!==null&&(this.user.email=i.user.email,this.router.navigate(["/home"]),this.errorEmail=-1,QS(r,{date:new Date,usuario:this.user.email}),this.authService.guardarUsuario(this.user.email))}).catch(i=>{console.log(i),i.code===ho.EMAIL_EXISTS?this.errorMessage="This email is already registered. Please use a different email.":this.errorMessage="An error occurred during registration. Please try again.",this.errorEmail=1})}goToLogin(){this.router.navigate(["/login"])}};e.\u0275fac=function(i){return new(i||e)(ee(Wr),ee(st),ee(Ji))},e.\u0275cmp=Rt({type:e,selectors:[["app-register"]],standalone:!0,features:[Pt],decls:21,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","height","35px","font-size","15px","font-weight","bold"],[1,"card-body"],[3,"ngSubmit"],[1,"form-group"],["for","email",2,"color","white"],["type","text","id","email","name","email","placeholder","Enter email",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],["for","password",2,"color","white"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit",1,"btn","btn-primary",2,"background-color","rgb(172, 8, 194)","border-color","#e100ff"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["role","alert",1,"alert","alert-danger"]],template:function(i,s){i&1&&(W(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),pe(5,"WELCOME - Create your account"),Y(),W(6,"div",5)(7,"form",6),it("ngSubmit",function(){return s.registrarse()}),W(8,"div",7)(9,"label",8),pe(10,"Email"),Y(),W(11,"input",9),bi("ngModelChange",function(a){return Gs(s.user.email,a)||(s.user.email=a),a}),Y()(),W(12,"div",7)(13,"label",10),pe(14,"Password"),Y(),W(15,"input",11),bi("ngModelChange",function(a){return Gs(s.user.password,a)||(s.user.password=a),a}),Y()(),rt(16,"br"),W(17,"div",12)(18,"button",13),pe(19,"Register"),Y()()(),Dn(20,gB,3,1,"div",14),Y()()()()()),i&2&&(Fe(11),Di("ngModel",s.user.email),Fe(4),Di("ngModel",s.user.password),Fe(5),nt("ngIf",s.errorEmail===1))},dependencies:[xd,Pd,mo,Md,Rd,pc,fc,Pr]});let t=e;return t})();var XS=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:a0},{path:"about-me",component:NT},{path:"log-in",component:R0},{path:"register",component:ZS}];function eA(t){return new P(3e3,!1)}function yB(){return new P(3100,!1)}function vB(){return new P(3101,!1)}function _B(t){return new P(3001,!1)}function wB(t){return new P(3003,!1)}function EB(t){return new P(3004,!1)}function IB(t,e){return new P(3005,!1)}function DB(){return new P(3006,!1)}function bB(){return new P(3007,!1)}function TB(t,e){return new P(3008,!1)}function CB(t){return new P(3002,!1)}function SB(t,e,n,r,i){return new P(3010,!1)}function AB(){return new P(3011,!1)}function MB(){return new P(3012,!1)}function RB(){return new P(3200,!1)}function NB(){return new P(3202,!1)}function PB(){return new P(3013,!1)}function xB(t){return new P(3014,!1)}function OB(t){return new P(3015,!1)}function kB(t){return new P(3016,!1)}function FB(t,e){return new P(3404,!1)}function LB(t){return new P(3502,!1)}function VB(t){return new P(3503,!1)}function UB(){return new P(3300,!1)}function jB(t){return new P(3504,!1)}function BB(t){return new P(3301,!1)}function $B(t,e){return new P(3302,!1)}function HB(t){return new P(3303,!1)}function qB(t,e){return new P(3400,!1)}function zB(t){return new P(3401,!1)}function GB(t){return new P(3402,!1)}function WB(t,e){return new P(3505,!1)}function ei(t){switch(t.length){case 0:return new Vr;case 1:return t[0];default:return new Wa(t)}}function pA(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(u=>{let l=u.get("offset"),h=l==o,p=h&&a||new Map;u.forEach((g,w)=>{let C=w,M=g;if(w!=="offset")switch(C=t.normalizePropertyName(C,i),M){case Kl:M=n.get(w);break;case Sn:M=r.get(w);break;default:M=t.normalizeStyleValue(w,C,M,i);break}p.set(C,M)}),h||s.push(p),a=p,o=l}),i.length)throw LB(i);return s}function V_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&g_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&g_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&g_(n,"destroy",t)));break}}function g_(t,e,n){let r=n.totalTime,i=!!n.disabled,s=U_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function U_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function qt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function tA(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var KB=typeof document>"u"?null:document.documentElement;function j_(t){let e=t.parentNode||t.host||null;return e===KB?null:e}function QB(t){return t.substring(1,6)=="ebkit"}var Zi=null,nA=!1;function YB(t){Zi||(Zi=JB()||{},nA=Zi.style?"WebkitAppearance"in Zi.style:!1);let e=!0;return Zi.style&&!QB(t)&&(e=t in Zi.style,!e&&nA&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Zi.style)),e}function JB(){return typeof document<"u"?document.body:null}function mA(t,e){for(;e;){if(e===t)return!0;e=j_(e)}return!1}function gA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var B_=(()=>{let e=class e{validateStyleProperty(r){return YB(r)}matchesElement(r,i){return!1}containsElement(r,i){return mA(r,i)}getParentElement(r){return j_(r)}query(r,i,s){return gA(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,u=[],l){return new Vr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),z_=class z_{};z_.NOOP=new B_;var ts=z_,ns=class{};var ZB=1e3,yA="{{",XB="}}",vA="ng-enter",I_="ng-leave",ph="ng-trigger",_h=".ng-trigger",rA="ng-animating",D_=".ng-animating";function dr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:b_(parseFloat(e[1]),e[2])}function b_(t,e){switch(e){case"s":return t*ZB;default:return t}}function wh(t,e,n){return t.hasOwnProperty("duration")?t:e$(t,e,n)}function e$(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(eA(t)),{duration:0,delay:0,easing:""};i=b_(parseFloat(a[1]),a[2]);let u=a[3];u!=null&&(s=b_(parseFloat(u),a[4]));let l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(yB()),a=!0),s<0&&(e.push(vB()),a=!0),a&&e.splice(u,0,eA(t))}return{duration:i,delay:s,easing:o}}function t$(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Vn(t,e,n){e.forEach((r,i)=>{let s=$_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function es(t,e){e.forEach((n,r)=>{let i=$_(r);t.style[i]=""})}function Mc(t){return Array.isArray(t)?t.length==1?t[0]:RT(t):t}function n$(t,e,n){let r=e.params||{},i=_A(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(_B(s))})}var T_=new RegExp(`${yA}\\s*(.+?)\\s*${XB}`,"g");function _A(t){let e=[];if(typeof t=="string"){let n;for(;n=T_.exec(t);)e.push(n[1]);T_.lastIndex=0}return e}function Nc(t,e,n){let r=`${t}`,i=r.replace(T_,(s,o)=>{let a=e[o];return a==null&&(n.push(wB(o)),a=""),a.toString()});return i==r?t:i}var r$=/-+([a-z0-9])/g;function $_(t){return t.replace(r$,(...e)=>e[1].toUpperCase())}function i$(t,e){return t===0||e===0}function s$(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,H_(t,a)))}}return e}function Ht(t,e,n){switch(e.type){case ie.Trigger:return t.visitTrigger(e,n);case ie.State:return t.visitState(e,n);case ie.Transition:return t.visitTransition(e,n);case ie.Sequence:return t.visitSequence(e,n);case ie.Group:return t.visitGroup(e,n);case ie.Animate:return t.visitAnimate(e,n);case ie.Keyframes:return t.visitKeyframes(e,n);case ie.Style:return t.visitStyle(e,n);case ie.Reference:return t.visitReference(e,n);case ie.AnimateChild:return t.visitAnimateChild(e,n);case ie.AnimateRef:return t.visitAnimateRef(e,n);case ie.Query:return t.visitQuery(e,n);case ie.Stagger:return t.visitStagger(e,n);default:throw EB(e.type)}}function H_(t,e){return window.getComputedStyle(t)[e]}var o$=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Eh=class extends ns{normalizePropertyName(e,n){return $_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(o$.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(IB(e,r))}return o+s}};var Ih="*";function a$(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>c$(r,n,e)):n.push(t),n}function c$(t,e,n){if(t[0]==":"){let u=u$(t,n);if(typeof u=="function"){e.push(u);return}t=u}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(OB(t)),e;let i=r[1],s=r[2],o=r[3];e.push(iA(i,o));let a=i==Ih&&o==Ih;s[0]=="<"&&!a&&e.push(iA(o,i))}function u$(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(kB(t)),"* => *"}}var mh=new Set(["true","1"]),gh=new Set(["false","0"]);function iA(t,e){let n=mh.has(t)||gh.has(t),r=mh.has(e)||gh.has(e);return(i,s)=>{let o=t==Ih||t==i,a=e==Ih||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?mh.has(t):gh.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?mh.has(e):gh.has(e)),o&&a}}var wA=":self",l$=new RegExp(`s*${wA}s*,?`,"g");function EA(t,e,n,r){return new C_(t).build(e,n,r)}var sA="",C_=class{constructor(e){this._driver=e}build(e,n,r){let i=new S_(n);return this._resetContextStyleTimingState(i),Ht(this,Mc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=sA,e.collectedStyles=new Map,e.collectedStyles.set(sA,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(DB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ie.State){let u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(h=>{u.name=h,s.push(this.visitState(u,n))}),u.name=l}else if(a.type==ie.Transition){let u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(bB())}),{type:ie.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{_A(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&n.errors.push(TB(e.name,[...s.values()]))}return{type:ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Ht(this,Mc(e.animation),n),i=a$(e.expr,n.errors);return{type:ie.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xi(e.options)}}visitSequence(e,n){return{type:ie.Sequence,steps:e.steps.map(r=>Ht(this,r,n)),options:Xi(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Ht(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:ie.Group,steps:s,options:Xi(e.options)}}visitAnimate(e,n){let r=p$(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:ot({});if(s.type==ie.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=ot(l)}n.currentTime+=r.duration+r.delay;let u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:ie.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Sn?r.push(a):n.errors.push(CB(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let u of a.values())if(u.toString().indexOf(yA)>=0){s=!0;break}}}),{type:ie.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,u)=>{let l=n.collectedStyles.get(n.currentQuerySelector),h=l.get(u),p=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(n.errors.push(SB(u,h.startTime,h.endTime,s,i)),p=!1),s=h.startTime),p&&l.set(u,{startTime:s,endTime:i}),n.options&&n$(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:ie.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(AB()),r;let i=1,s=0,o=[],a=!1,u=!1,l=0,h=e.steps.map(F=>{let $=this._makeStyleAst(F,n),j=$.offset!=null?$.offset:f$($.styles),Q=0;return j!=null&&(s++,Q=$.offset=j),u=u||Q<0||Q>1,a=a||Q<l,l=Q,o.push(Q),$});u&&n.errors.push(MB()),a&&n.errors.push(RB());let p=e.steps.length,g=0;s>0&&s<p?n.errors.push(NB()):s==0&&(g=i/(p-1));let w=p-1,C=n.currentTime,M=n.currentAnimateTimings,R=M.duration;return h.forEach((F,$)=>{let j=g>0?$==w?1:g*$:o[$],Q=j*R;n.currentTime=C+M.delay+Q,M.duration=Q,this._validateStyleAst(F,n),F.offset=j,r.styles.push(F)}),r}visitReference(e,n){return{type:ie.Reference,animation:Ht(this,Mc(e.animation),n),options:Xi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ie.AnimateChild,options:Xi(e.options)}}visitAnimateRef(e,n){return{type:ie.AnimateRef,animation:this.visitReference(e.animation,n),options:Xi(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=d$(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,qt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Ht(this,Mc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:ie.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(PB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wh(e.timings,n.errors,!0);return{type:ie.Stagger,animation:Ht(this,Mc(e.animation),n),timings:r,options:null}}};function d$(t){let e=!!t.split(/\s*,\s*/).find(n=>n==wA);return e&&(t=t.replace(l$,"")),t=t.replace(/@\*/g,_h).replace(/@\w+/g,n=>_h+"-"+n.slice(1)).replace(/:animating/g,D_),[t,e]}function h$(t){return t?L({},t):null}var S_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function f$(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function p$(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=wh(t,e).duration;return y_(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=y_(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=wh(n,e);return y_(i.duration,i.delay,i.easing)}function Xi(t){return t?(t=L({},t),t.params&&(t.params=h$(t.params))):t={},t}function y_(t,e,n){return{duration:t,delay:e,easing:n}}function q_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Pc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},m$=1,g$=":enter",y$=new RegExp(g$,"g"),v$=":leave",_$=new RegExp(v$,"g");function IA(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return new A_().buildKeyframes(t,e,n,r,i,s,o,a,u,l)}var A_=class{buildKeyframes(e,n,r,i,s,o,a,u,l,h=[]){l=l||new Pc;let p=new M_(e,n,l,i,s,h,[]);p.options=u;let g=u.delay?dr(u.delay):0;p.currentTimeline.delayNextStep(g),p.currentTimeline.setStyles([o],null,p.errors,u),Ht(this,r,p);let w=p.timelines.filter(C=>C.containsAnimation());if(w.length&&a.size){let C;for(let M=w.length-1;M>=0;M--){let R=w[M];if(R.element===n){C=R;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,p.errors,u)}return w.length?w.map(C=>C.buildKeyframes()):[q_(n,[],[],[],0,g,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:dr(Nc(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?dr(r.duration):null,a=r.delay!=null?dr(r.delay):null;return o!==0&&e.forEach(u=>{let l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Ht(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Dh);let o=dr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ht(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?dr(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Ht(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Nc(r,n.params,n.errors):r;return wh(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==ie.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{let l=u.offset||0;a.forwardTime(l*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?dr(i.delay):0;s&&(n.previousNode.type===ie.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Dh);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,h)=>{n.currentQueryIndex=h;let p=n.createSubContext(e.options,l);s&&p.delayNextStep(s),l===n.element&&(u=p.currentTimeline),Ht(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let g=p.currentTimeline.currentTime;o=Math.max(o,g)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime;break}let h=n.currentTimeline;u&&h.delayNextStep(u);let p=h.currentTime;Ht(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},Dh={},M_=class t{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new bh(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=dr(r.duration)),r.delay!=null&&(i.delay=dr(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Nc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Dh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new R_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(y$,"."+this._enterClassName),e=e.replace(_$,"."+this._leaveClassName);let u=r!=1,l=this._driver.query(this.element,e,u);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(xB(n)),a}},bh=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=m$,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Sn),this._currentKeyframe.set(n,Sn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=w$(e,this._globalTimelineStyles);for(let[a,u]of o){let l=Nc(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Sn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,u)=>{let l=new Map([...this._backFill,...a]);l.forEach((h,p)=>{h===Kl?e.add(p):h===Sn&&n.add(p)}),r||l.set("offset",u/this.duration),i.push(l)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return q_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},R_=class extends bh{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,u=new Map(e[0]);u.set("offset",0),s.push(u);let l=new Map(e[0]);l.set("offset",oA(a)),s.push(l);let h=e.length-1;for(let p=1;p<=h;p++){let g=new Map(e[p]),w=g.get("offset"),C=n+w*r;g.set("offset",oA(C/o)),s.push(g)}r=o,n=0,i="",e=s}return q_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function oA(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function w$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Sn)}else for(let[s,o]of i)n.set(s,o)}),n}function aA(t,e,n,r,i,s,o,a,u,l,h,p,g){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:h,totalTime:p,errors:g}}var v_={},Th=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return E$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,h){let p=[],g=this.ast.options&&this.ast.options.params||v_,w=a&&a.params||v_,C=this.buildStyles(r,w,p),M=u&&u.params||v_,R=this.buildStyles(i,M,p),F=new Set,$=new Map,j=new Map,Q=i==="void",Ne={params:DA(M,g),delay:this.ast.options?.delay},ne=h?[]:IA(e,n,this.ast.animation,s,o,C,R,Ne,l,p),E=0;return ne.forEach(y=>{E=Math.max(y.duration+y.delay,E)}),p.length?aA(n,this._triggerName,r,i,Q,C,R,[],[],$,j,E,p):(ne.forEach(y=>{let v=y.element,I=qt($,v,new Set);y.preStyleProps.forEach(S=>I.add(S));let b=qt(j,v,new Set);y.postStyleProps.forEach(S=>b.add(S)),v!==n&&F.add(v)}),aA(n,this._triggerName,r,i,Q,C,R,ne,[...F.values()],$,j,E))}};function E$(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function DA(t,e){let n=L({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var N_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=DA(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Nc(o,i,n));let u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}};function I$(t,e,n){return new P_(t,e,n)}var P_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new N_(i.style,s,r))}),cA(this.states,"true","1"),cA(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Th(e,i,this.states))}),this.fallbackTransition=D$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function D$(t,e,n){let r=[(o,a)=>!0],i={type:ie.Sequence,steps:[],options:null},s={type:ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Th(t,s,e)}function cA(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var b$=new Pc,x_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=EA(this._driver,n,r,i);if(r.length)throw VB(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=pA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=IA(this._driver,n,s,vA,I_,new Map,new Map,r,b$,i),o.forEach(h=>{let p=qt(a,h.element,new Map);h.postStyleProps.forEach(g=>p.set(g,null))})):(i.push(UB()),o=[]),i.length)throw jB(i);a.forEach((h,p)=>{h.forEach((g,w)=>{h.set(w,this._driver.computeStyle(p,w,Sn))})});let u=o.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),l=ei(u);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw BB(e);return n}listen(e,n,r,i){let s=U_(n,"","","");return V_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},uA="ng-animate-queued",T$=".ng-animate-queued",__="ng-animate-disabled",C$=".ng-animate-disabled",S$="ng-star-inserted",A$=".ng-star-inserted",M$=[],bA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},R$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fn="__ng_removed",xc=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=P$(i),r){let s=e,{value:o}=s,a=Qw(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Rc="void",w_=new xc(Rc),O_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,nn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw $B(r,n);if(r==null||r.length==0)throw HB(n);if(!x$(r))throw qB(r,n);let s=qt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=qt(this._engine.statesByElement,e,new Map);return a.has(n)||(nn(e,ph),nn(e,ph+"-"+n),a.set(n,w_)),()=>{this._engine.afterFlush(()=>{let u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw zB(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Oc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(nn(e,ph),nn(e,ph+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n),l=new xc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=w_),!(l.value===Rc)&&u.value===l.value){if(!F$(u.params,l.params)){let M=[],R=s.matchStyles(u.value,u.params,M),F=s.matchStyles(l.value,l.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{es(e,R),Vn(e,F)})}return}let g=qt(this._engine.playersByElement,e,[]);g.forEach(M=>{M.namespaceId==this.id&&M.triggerName==n&&M.queued&&M.destroy()});let w=s.matchTransition(u.value,l.value,e,l.params),C=!1;if(!w){if(!i)return;w=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:w,fromState:u,toState:l,player:o,isFallbackTransition:C}),C||(nn(e,uA),o.onStart(()=>{ko(e,uA)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);let R=this._engine.playersByElement.get(e);if(R){let F=R.indexOf(o);F>=0&&R.splice(F,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,_h,!0);r.forEach(i=>{if(i[fn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){let h=this.trigger(e,l,Rc,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ei(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let u=this._triggers.get(o).fallbackTransition,l=r.get(o)||w_,h=new xc(Rc),p=new Oc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[fn];(!s||s===bA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){nn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let u=U_(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,V_(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},k_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new O_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let u=i.get(a);if(u){let l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(yh(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!yh(n))return;let s=n[fn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nn(e,__)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ko(e,__))}removeNode(e,n,r){if(yh(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[fn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return yh(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,_h,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,D_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ei(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[fn];if(n&&n.setForRemoval){if(e[fn]=bA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(__)&&this.markElementAsDisabled(e,!1),this.driver.query(e,C$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];nn(i,S$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ei(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw GB(e)}_flushAnimations(e,n){let r=new Pc,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(V=>{h.add(V);let U=this.driver.query(V,T$,!0);for(let H=0;H<U.length;H++)h.add(U[H])});let p=this.bodyNode,g=Array.from(this.statesByElement.keys()),w=hA(g,this.collectedEnterElements),C=new Map,M=0;w.forEach((V,U)=>{let H=vA+M++;C.set(U,H),V.forEach(ae=>nn(ae,H))});let R=[],F=new Set,$=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let U=this.collectedLeaveElements[V],H=U[fn];H&&H.setForRemoval&&(R.push(U),F.add(U),H.hasAnimation?this.driver.query(U,A$,!0).forEach(ae=>F.add(ae)):$.add(U))}let j=new Map,Q=hA(g,Array.from(F));Q.forEach((V,U)=>{let H=I_+M++;j.set(U,H),V.forEach(ae=>nn(ae,H))}),e.push(()=>{w.forEach((V,U)=>{let H=C.get(U);V.forEach(ae=>ko(ae,H))}),Q.forEach((V,U)=>{let H=j.get(U);V.forEach(ae=>ko(ae,H))}),R.forEach(V=>{this.processLeaveNode(V)})});let Ne=[],ne=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach(H=>{let ae=H.player,Le=H.element;if(Ne.push(ae),this.collectedEnterElements.length){let Oe=Le[fn];if(Oe&&Oe.setForMove){if(Oe.previousTriggersValues&&Oe.previousTriggersValues.has(H.triggerName)){let Un=Oe.previousTriggersValues.get(H.triggerName),St=this.statesByElement.get(H.element);if(St&&St.has(H.triggerName)){let jn=St.get(H.triggerName);jn.value=Un,St.set(H.triggerName,jn)}}ae.destroy();return}}let Gt=!p||!this.driver.containsElement(p,Le),xe=j.get(Le),Ce=C.get(Le),Se=this._buildInstruction(H,r,Ce,xe,Gt);if(Se.errors&&Se.errors.length){ne.push(Se);return}if(Gt){ae.onStart(()=>es(Le,Se.fromStyles)),ae.onDestroy(()=>Vn(Le,Se.toStyles)),i.push(ae);return}if(H.isFallbackTransition){ae.onStart(()=>es(Le,Se.fromStyles)),ae.onDestroy(()=>Vn(Le,Se.toStyles)),i.push(ae);return}let fr=[];Se.timelines.forEach(Oe=>{Oe.stretchStartingKeyframe=!0,this.disabledNodes.has(Oe.element)||fr.push(Oe)}),Se.timelines=fr,r.append(Le,Se.timelines);let Rh={instruction:Se,player:ae,element:Le};o.push(Rh),Se.queriedElements.forEach(Oe=>qt(a,Oe,[]).push(ae)),Se.preStyleProps.forEach((Oe,Un)=>{if(Oe.size){let St=u.get(Un);St||u.set(Un,St=new Set),Oe.forEach((jn,pr)=>St.add(pr))}}),Se.postStyleProps.forEach((Oe,Un)=>{let St=l.get(Un);St||l.set(Un,St=new Set),Oe.forEach((jn,pr)=>St.add(pr))})});if(ne.length){let V=[];ne.forEach(U=>{V.push(WB(U.triggerName,U.errors))}),Ne.forEach(U=>U.destroy()),this.reportError(V)}let E=new Map,y=new Map;o.forEach(V=>{let U=V.element;r.has(U)&&(y.set(U,U),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,E))}),i.forEach(V=>{let U=V.element;this._getPreviousPlayers(U,!1,V.namespaceId,V.triggerName,null).forEach(ae=>{qt(E,U,[]).push(ae),ae.destroy()})});let v=R.filter(V=>fA(V,u,l)),I=new Map;dA(I,this.driver,$,l,Sn).forEach(V=>{fA(V,u,l)&&v.push(V)});let S=new Map;w.forEach((V,U)=>{dA(S,this.driver,new Set(V),u,Kl)}),v.forEach(V=>{let U=I.get(V),H=S.get(V);I.set(V,new Map([...U?.entries()??[],...H?.entries()??[]]))});let _=[],zt=[],hr={};o.forEach(V=>{let{element:U,player:H,instruction:ae}=V;if(r.has(U)){if(h.has(U)){H.onDestroy(()=>Vn(U,ae.toStyles)),H.disabled=!0,H.overrideTotalTime(ae.totalTime),i.push(H);return}let Le=hr;if(y.size>1){let xe=U,Ce=[];for(;xe=xe.parentNode;){let Se=y.get(xe);if(Se){Le=Se;break}Ce.push(xe)}Ce.forEach(Se=>y.set(Se,Le))}let Gt=this._buildAnimation(H.namespaceId,ae,E,s,S,I);if(H.setRealPlayer(Gt),Le===hr)_.push(H);else{let xe=this.playersByElement.get(Le);xe&&xe.length&&(H.parentPlayer=ei(xe)),i.push(H)}}else es(U,ae.fromStyles),H.onDestroy(()=>Vn(U,ae.toStyles)),zt.push(H),h.has(U)&&i.push(H)}),zt.forEach(V=>{let U=s.get(V.element);if(U&&U.length){let H=ei(U);V.setRealPlayer(H)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<R.length;V++){let U=R[V],H=U[fn];if(ko(U,I_),H&&H.hasAnimation)continue;let ae=[];if(a.size){let Gt=a.get(U);Gt&&Gt.length&&ae.push(...Gt);let xe=this.driver.query(U,D_,!0);for(let Ce=0;Ce<xe.length;Ce++){let Se=a.get(xe[Ce]);Se&&Se.length&&ae.push(...Se)}}let Le=ae.filter(Gt=>!Gt.destroyed);Le.length?O$(this,U,Le):this.processLeaveNode(U)}return R.length=0,_.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let U=this.players.indexOf(V);this.players.splice(U,1)}),V.play()}),_}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let u=!s||s==Rc;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let u of n.timelines){let l=u.element,h=l!==s,p=qt(r,l,[]);this._getPreviousPlayers(l,h,o,a,n.toState).forEach(w=>{let C=w.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),w.destroy(),p.push(w)})}es(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,u=n.element,l=[],h=new Set,p=new Set,g=n.timelines.map(C=>{let M=C.element;h.add(M);let R=M[fn];if(R&&R.removedBeforeQueried)return new Vr(C.duration,C.delay);let F=M!==u,$=k$((r.get(M)||M$).map(E=>E.getRealPlayer())).filter(E=>{let y=E;return y.element?y.element===M:!1}),j=s.get(M),Q=o.get(M),Ne=pA(this._normalizer,C.keyframes,j,Q),ne=this._buildPlayer(C,Ne,$);if(C.subTimeline&&i&&p.add(M),F){let E=new Oc(e,a,M);E.setRealPlayer(ne),l.push(E)}return ne});l.forEach(C=>{qt(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>N$(this.playersByQueriedElement,C.element,C))}),h.forEach(C=>nn(C,rA));let w=ei(g);return w.onDestroy(()=>{h.forEach(C=>ko(C,rA)),Vn(u,n.toStyles)}),p.forEach(C=>{qt(i,C,[]).push(w)}),w}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Vr(e.duration,e.delay)}},Oc=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Vr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>V_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){qt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function N$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function P$(t){return t??null}function yh(t){return t&&t.nodeType===1}function x$(t){return t=="start"||t=="done"}function lA(t,e){let n=t.style.display;return t.style.display=e??"none",n}function dA(t,e,n,r,i){let s=[];n.forEach(u=>s.push(lA(u)));let o=[];r.forEach((u,l)=>{let h=new Map;u.forEach(p=>{let g=e.computeStyle(l,p,i);h.set(p,g),(!g||g.length==0)&&(l[fn]=R$,o.push(l))}),t.set(l,h)});let a=0;return n.forEach(u=>lA(u,s[a++])),o}function hA(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;let l=a.parentNode;return n.has(l)?u=l:i.has(l)?u=r:u=o(l),s.set(a,u),u}return e.forEach(a=>{let u=o(a);u!==r&&n.get(u).push(a)}),n}function nn(t,e){t.classList?.add(e)}function ko(t,e){t.classList?.remove(e)}function O$(t,e,n){ei(n).onDone(()=>t.processLeaveNode(e))}function k$(t){let e=[];return TA(t,e),e}function TA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof Wa?TA(r.players,e):e.push(r)}}function F$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function fA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Lo=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new k_(e.body,n,r,i),this._timelineEngine=new x_(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let u=[],l=[],h=EA(this._driver,s,u,l);if(u.length)throw FB(i,u);l.length&&void 0,a=I$(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=tA(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=tA(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function L$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=E_(e[0]),e.length>1&&(r=E_(e[e.length-1]))):e instanceof Map&&(n=E_(e)),n||r?new F_(t,n,r):null}var Fo=class Fo{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Fo.initialStylesByElement.get(e);i||Fo.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Vn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Vn(this._element,this._initialStyles),this._endStyles&&(Vn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Fo.initialStylesByElement.delete(this._element),this._startStyles&&(es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),Vn(this._element,this._initialStyles),this._state=3)}};Fo.initialStylesByElement=new WeakMap;var F_=Fo;function E_(t){let e=null;return t.forEach((n,r)=>{V$(r)&&(e=e||new Map,e.set(r,n))}),e}function V$(t){return t==="display"||t==="position"}var Ch=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:H_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Sh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return mA(e,n)}getParentElement(e){return j_(e)}query(e,n,r){return gA(e,n,r)}computeStyle(e,n,r){return H_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",u={duration:r,delay:i,fill:a};s&&(u.easing=s);let l=new Map,h=o.filter(w=>w instanceof Ch);i$(r,i)&&h.forEach(w=>{w.currentSnapshot.forEach((C,M)=>l.set(M,C))});let p=t$(n).map(w=>new Map(w));p=s$(e,p,l);let g=L$(e,p);return new Ch(e,p,u,g)}};var vh="@",CA="@.disabled",Ah=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==vh&&n==CA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},L_=class extends Ah{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==vh?n.charAt(1)=="."&&n==CA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==vh){let i=U$(e),s=n.slice(1),o="";return s.charAt(0)!=vh&&([s,o]=j$(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let u=a._data||-1;this.factory.scheduleListenerCallback(u,r,a)})}return this.delegate.listen(e,n,r)}};function U$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function j$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Mh=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,h=l.get(i);if(!h){let p=()=>l.delete(i);h=new Ah(r,i,this.engine,p),l.set(i,h)}return h}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new L_(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var $$=(()=>{let e=class e extends Lo{constructor(r,i,s){super(r,i,s,k(Os,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(G(mt),G(ts),G(ns))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function H$(){return new Eh}function q$(t,e,n){return new Mh(t,e,n)}var SA=[{provide:ns,useFactory:H$},{provide:Lo,useClass:$$},{provide:_i,useFactory:q$,deps:[Cl,Lo,ve]}],z$=[{provide:ts,useFactory:()=>new Sh},{provide:Jp,useValue:"BrowserAnimations"},...SA],oQ=[{provide:ts,useClass:B_},{provide:Jp,useValue:"NoopAnimations"},...SA];function AA(){return ya("NgEagerAnimations"),[...z$]}var MA={providers:[TT(XS),AA(),[sC(()=>oC(G$)),KS(()=>JS()),t0(()=>r0())]]},G$={apiKey:"AIzaSyD1FT0i72AQTaiNtV_8GFmNLD8WQCJaOBM",authDomain:"gamingroom-70020.firebaseapp.com",projectId:"gamingroom-70020",storageBucket:"gamingroom-70020.appspot.com",messagingSenderId:"583817949201",appId:"1:583817949201:web:3710db5ed9da1a5669c1b0"};function W$(t,e){t&1&&(W(0,"li",4)(1,"a",7),pe(2,"Log in"),Y()())}function K$(t,e){t&1&&(W(0,"li",4)(1,"a",8),pe(2,"Register"),Y()())}function Q$(t,e){t&1&&(W(0,"li",4)(1,"a",9),pe(2,"About me"),Y()())}function Y$(t,e){t&1&&(W(0,"li",4)(1,"a",9),pe(2,"About me"),Y()())}function J$(t,e){if(t&1){let n=_a();W(0,"li",4)(1,"a",10),it("click",function(){Us(n);let i=dn();return js(i.logout())}),pe(2,"Log out"),Y()()}}var RA=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.user=null}ngOnInit(){this.authService.currentUser.subscribe(r=>{this.user=r})}logout(){this.authService.signOut().then(()=>{this.router.navigate(["/log-in"])})}};e.\u0275fac=function(i){return new(i||e)(ee(Wr),ee(st))},e.\u0275cmp=Rt({type:e,selectors:[["app-header"]],standalone:!0,features:[Pt],decls:14,vars:5,consts:[[1,"navbar"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/log-in",1,"nav-link"],["routerLink","/register",1,"nav-link"],["routerLink","/about-me",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(i,s){i&1&&(W(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),pe(4,"GAMING ROOM"),Y(),W(5,"ul",3)(6,"li",4)(7,"a",5),pe(8,"Home"),Y()(),Dn(9,W$,3,0,"li",6)(10,K$,3,0,"li",6)(11,Q$,3,0,"li",6)(12,Y$,3,0,"li",6)(13,J$,3,0,"li",6),Y()()()()),i&2&&(Fe(9),nt("ngIf",!s.user),Fe(),nt("ngIf",!s.user),Fe(),nt("ngIf",!s.user),Fe(),nt("ngIf",s.user),Fe(),nt("ngIf",s.user))},dependencies:[Gl,DT,Ea,Pr],styles:[".navbar[_ngcontent-%COMP%]{background-color:#00000080;padding:15px 0}.navbar-brand[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700}.nav-link[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px;font-weight:700;color:#e6d8d8}.nav-link[_ngcontent-%COMP%]:hover{color:#555}"]});let t=e;return t})();var NA=(()=>{let e=class e{constructor(){this.title="GamingRoom"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Rt({type:e,selectors:[["app-root"]],standalone:!0,features:[Pt],decls:4,vars:0,consts:[["autoplay","","muted","","loop","","id","video-bg"],["src","assets/atardecer.mp4","type","video/mp4"]],template:function(i,s){i&1&&(rt(0,"app-header"),W(1,"video",0),rt(2,"source",1),Y(),rt(3,"router-outlet"))},dependencies:[lg,RA,Gl]});let t=e;return t})();Fb(NA,MA).catch(t=>console.error(t));
