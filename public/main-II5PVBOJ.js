var WA=Object.defineProperty,KA=Object.defineProperties;var QA=Object.getOwnPropertyDescriptors;var Kc=Object.getOwnPropertySymbols,YA=Object.getPrototypeOf,Vw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable,JA=Reflect.get;var Lw=(t,e,n)=>e in t?WA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})Vw.call(e,n)&&Lw(t,n,e[n]);if(Kc)for(var n of Kc(e))Uw.call(e,n)&&Lw(t,n,e[n]);return t},Ie=(t,e)=>KA(t,QA(e));var jw=(t,e)=>{var n={};for(var r in t)Vw.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Kc)for(var r of Kc(t))e.indexOf(r)<0&&Uw.call(t,r)&&(n[r]=t[r]);return n};var vr=(t,e,n)=>JA(YA(t),n,e);var D=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var Bw=null;var Zh=1,Xh=Symbol("SIGNAL");function we(t){let e=Bw;return Bw=t,e}var $w={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ZA(t){if(!(nf(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Zh)){if(!t.producerMustRecompute(t)&&!ef(t)){t.dirty=!1,t.lastCleanEpoch=Zh;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Zh}}function Hw(t){return t&&(t.nextProducerIndex=0),we(t)}function qw(t,e){if(we(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(nf(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)tf(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ef(t){Qc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(ZA(n),r!==n.version))return!0}return!1}function zw(t){if(Qc(t),nf(t))for(let e=0;e<t.producerNode.length;e++)tf(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function tf(t,e){if(XA(t),Qc(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)tf(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Qc(i),i.producerIndexOfThis[r]=e}}function nf(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Qc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function XA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function eM(){throw new Error}var tM=eM;function Gw(t){tM=t}function X(t){return typeof t=="function"}function as(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Yc=as(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function si(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(s){e=s instanceof Yc?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Ww(s)}catch(o){e=e??[],o instanceof Yc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Yc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ww(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&si(n,e)}remove(e){let{_finalizers:n}=this;n&&si(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var rf=Le.EMPTY;function Jc(t){return t instanceof Le||t&&"closed"in t&&X(t.remove)&&X(t.add)&&X(t.unsubscribe)}function Ww(t){X(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cs={setTimeout(t,e,...n){let{delegate:r}=cs;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cs;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Zc(t){cs.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function Ko(){}var Kw=sf("C",void 0,void 0);function Qw(t){return sf("E",void 0,t)}function Yw(t){return sf("N",t,void 0)}function sf(t,e,n){return{kind:t,value:e,error:n}}var oi=null;function us(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!oi;if(e&&(oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=oi;if(oi=null,n)throw r}}else t()}function Jw(t){sn.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}var ai=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jc(e)&&e.add(this)):this.destination=iM}static create(e,n,r){return new ls(e,n,r)}next(e){this.isStopped?af(Yw(e),this):this._next(e)}error(e){this.isStopped?af(Qw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?af(Kw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nM=Function.prototype.bind;function of(t,e){return nM.call(t,e)}var cf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Xc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Xc(r)}else Xc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Xc(n)}}},ls=class extends ai{constructor(e,n,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&sn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&of(e.next,s),error:e.error&&of(e.error,s),complete:e.complete&&of(e.complete,s)}):i=e}this.destination=new cf(i)}};function Xc(t){sn.useDeprecatedSynchronousErrorHandling?Jw(t):Zc(t)}function rM(t){throw t}function af(t,e){let{onStoppedNotification:n}=sn;n&&cs.setTimeout(()=>n(t,e))}var iM={closed:!0,next:Ko,error:rM,complete:Ko};var ds=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kt(t){return t}function uf(...t){return lf(t)}function lf(t){return t.length===0?kt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var pe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=oM(n)?n:new ls(n,r,i);return us(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Zw(r),new r((i,s)=>{let o=new ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ds](){return this}pipe(...n){return lf(n)(this)}toPromise(n){return n=Zw(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function Zw(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function sM(t){return t&&X(t.next)&&X(t.error)&&X(t.complete)}function oM(t){return t&&t instanceof ai||sM(t)&&Jc(t)}function df(t){return X(t?.lift)}function me(t){return e=>{if(df(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new hf(t,e,n,r,i)}var hf=class extends ai{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hs(){return me((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fs=class extends pe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,df(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return hs()(this)}};var Xw=as(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends pe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new eu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Xw}next(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){us(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?rf:(this.currentObservers=null,s.push(n),new Le(()=>{this.currentObservers=null,si(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new pe;return n.source=this,n}}return t.create=(e,n)=>new eu(e,n),t})(),eu=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:rf}};var qe=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ff={now(){return(ff.delegate||Date).now()},delegate:void 0};var tu=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var Qo={setInterval(t,e,...n){let{delegate:r}=Qo;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Qo;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ps=class extends tu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Qo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Qo.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,si(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ms.now=ff.now;var gs=class extends ms{constructor(e,n=ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var pf=new gs(ps);var nu=class extends ps{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ru=class extends gs{};var mf=new ru(nu);var Ft=new pe(t=>t.complete());function eE(t){return t&&X(t.schedule)}function tE(t){return t[t.length-1]}function iu(t){return X(tE(t))?t.pop():void 0}function _r(t){return eE(tE(t))?t.pop():void 0}function gf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rE(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(f){try{l(r.next(f))}catch(p){o(p)}}function u(f){try{l(r.throw(f))}catch(p){o(p)}}function l(f){f.done?s(f.value):i(f.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function nE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(t){return this instanceof ci?(this.v=t,this):new ci(t)}function iE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(y){r[y]&&(i[y]=function(E){return new Promise(function(C,M){s.push([y,E,C,M])>1||a(y,E)})})}function a(y,E){try{u(r[y](E))}catch(C){p(s[0][3],C)}}function u(y){y.value instanceof ci?Promise.resolve(y.value.v).then(l,f):p(s[0][2],y)}function l(y){a("next",y)}function f(y){a("throw",y)}function p(y,E){y(E),s.shift(),s.length&&a(s[0][0],s[0][1])}}function sE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof nE=="function"?nE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var su=t=>t&&typeof t.length=="number"&&typeof t!="function";function ou(t){return X(t?.then)}function au(t){return X(t[ds])}function cu(t){return Symbol.asyncIterator&&X(t?.[Symbol.asyncIterator])}function uu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var lu=aM();function du(t){return X(t?.[lu])}function hu(t){return iE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ci(n.read());if(i)return yield ci(void 0);yield yield ci(r)}}finally{n.releaseLock()}})}function fu(t){return X(t?.getReader)}function Ue(t){if(t instanceof pe)return t;if(t!=null){if(au(t))return cM(t);if(su(t))return uM(t);if(ou(t))return lM(t);if(cu(t))return oE(t);if(du(t))return dM(t);if(fu(t))return hM(t)}throw uu(t)}function cM(t){return new pe(e=>{let n=t[ds]();if(X(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function uM(t){return new pe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function lM(t){return new pe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Zc)})}function dM(t){return new pe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oE(t){return new pe(e=>{fM(t,e).catch(n=>e.error(n))})}function hM(t){return oE(hu(t))}function fM(t,e){var n,r,i,s;return rE(this,void 0,void 0,function*(){try{for(n=sE(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function St(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wr(t,e=0){return me((n,r)=>{n.subscribe(ue(r,i=>St(r,t,()=>r.next(i),e),()=>St(r,t,()=>r.complete(),e),i=>St(r,t,()=>r.error(i),e)))})}function Er(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function aE(t,e){return Ue(t).pipe(Er(e),wr(e))}function cE(t,e){return Ue(t).pipe(Er(e),wr(e))}function uE(t,e){return new pe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function lE(t,e){return new pe(n=>{let r;return St(n,e,()=>{r=t[lu](),St(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function pu(t,e){if(!t)throw new Error("Iterable cannot be null");return new pe(n=>{St(n,e,()=>{let r=t[Symbol.asyncIterator]();St(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dE(t,e){return pu(hu(t),e)}function hE(t,e){if(t!=null){if(au(t))return aE(t,e);if(su(t))return uE(t,e);if(ou(t))return cE(t,e);if(cu(t))return pu(t,e);if(du(t))return lE(t,e);if(fu(t))return dE(t,e)}throw uu(t)}function Pe(t,e){return e?hE(t,e):Ue(t)}function Y(...t){let e=_r(t);return Pe(t,e)}function ys(t,e){let n=X(t)?t:()=>t,r=i=>i.error(n());return new pe(e?i=>e.schedule(r,0,i):r)}function yf(t){return!!t&&(t instanceof pe||X(t.lift)&&X(t.subscribe))}var $n=as(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return me((n,r)=>{let i=0;n.subscribe(ue(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:pM}=Array;function mM(t,e){return pM(e)?t(...e):t(e)}function mu(t){return le(e=>mM(t,e))}var{isArray:gM}=Array,{getPrototypeOf:yM,prototype:vM,keys:_M}=Object;function gu(t){if(t.length===1){let e=t[0];if(gM(e))return{args:e,keys:null};if(wM(e)){let n=_M(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function wM(t){return t&&typeof t=="object"&&yM(t)===vM}function yu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Yo(...t){let e=_r(t),n=iu(t),{args:r,keys:i}=gu(t);if(r.length===0)return Pe([],e);let s=new pe(EM(r,e,i?o=>yu(i,o):kt));return n?s.pipe(mu(n)):s}function EM(t,e,n=kt){return r=>{fE(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)fE(e,()=>{let l=Pe(t[u],e),f=!1;l.subscribe(ue(r,p=>{s[u]=p,f||(f=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function fE(t,e,n){t?St(n,t,e):e()}function pE(t,e,n,r,i,s,o,a){let u=[],l=0,f=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},E=M=>l<r?C(M):u.push(M),C=M=>{s&&e.next(M),l++;let R=!1;Ue(n(M,f++)).subscribe(ue(e,F=>{i?.(F),s?E(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?St(e,o,()=>C(F)):C(F)}y()}catch(F){e.error(F)}}))};return t.subscribe(ue(e,E,()=>{p=!0,y()})),()=>{a?.()}}function je(t,e,n=1/0){return X(e)?je((r,i)=>le((s,o)=>e(r,s,i,o))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>pE(r,i,t,n)))}function vs(t=1/0){return je(kt,t)}function mE(){return vs(1)}function _s(...t){return mE()(Pe(t,_r(t)))}function vu(t){return new pe(e=>{Ue(t()).subscribe(e)})}function vf(...t){let e=iu(t),{args:n,keys:r}=gu(t),i=new pe(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let f=0;f<o;f++){let p=!1;Ue(n[f]).subscribe(ue(s,y=>{p||(p=!0,l--),a[f]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?yu(r,a):a),s.complete())}))}});return e?i.pipe(mu(e)):i}function Wt(t,e){return me((n,r)=>{let i=0;n.subscribe(ue(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Ir(t){return me((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ue(n,void 0,void 0,o=>{s=Ue(t(o,Ir(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function gE(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(ue(o,f=>{let p=l++;u=a?t(u,f,p):(a=!0,f),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ui(t,e){return X(e)?je(t,e,1):je(t,1)}function Dr(t){return me((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Hn(t){return t<=0?()=>Ft:me((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function _f(t){return le(()=>t)}function _u(t=IM){return me((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function IM(){return new $n}function Jo(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function fn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):kt,Hn(1),n?Dr(e):_u(()=>new $n))}function ws(t){return t<=0?()=>Ft:me((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function wf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Wt((i,s)=>t(i,s,r)):kt,ws(1),n?Dr(e):_u(()=>new $n))}function Ef(t,e){return me(gE(t,e,arguments.length>=2,!0))}function If(...t){let e=_r(t);return me((n,r)=>{(e?_s(t,n,e):_s(t,n)).subscribe(r)})}function Kt(t,e){return me((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,f=s++;Ue(t(u,f)).subscribe(i=ue(r,p=>r.next(e?e(u,p,f,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Df(t){return me((e,n)=>{Ue(t).subscribe(ue(n,()=>n.complete(),Ko)),!n.closed&&e.subscribe(n)})}function ze(t,e,n){let r=X(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):kt}var XE="https://g.co/ng/security#xss",P=class extends Error{constructor(e,n){super(Ip(e,n)),this.code=e}};function Ip(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ca(t){return{toString:t}.toString()}var wu="__parameters__";function DM(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function eI(t,e,n){return ca(()=>{let r=DM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,f){let p=u.hasOwnProperty(wu)?u[wu]:Object.defineProperty(u,wu,{value:[]})[wu];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var li=globalThis;function be(t){for(let e in t)if(t[e]===be)return e;throw Error("Could not find renamed property on target object.")}function bM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var TM=be({__forward_ref__:be});function Ls(t){return t.__forward_ref__=Ls,t.toString=function(){return wt(this())},t}function _t(t){return tI(t)?t():t}function tI(t){return typeof t=="function"&&t.hasOwnProperty(TM)&&t.__forward_ref__===Ls}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ku(t){return vE(t,rI)||vE(t,iI)}function nI(t){return Ku(t)!==null}function vE(t,e){return t.hasOwnProperty(e)?t[e]:null}function CM(t){let e=t&&(t[rI]||t[iI]);return e||null}function _E(t){return t&&(t.hasOwnProperty(wE)||t.hasOwnProperty(SM))?t[wE]:null}var rI=be({\u0275prov:be}),wE=be({\u0275inj:be}),iI=be({ngInjectableDef:be}),SM=be({ngInjectorDef:be}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sI(t){return t&&!!t.\u0275providers}var AM=be({\u0275cmp:be}),MM=be({\u0275dir:be}),RM=be({\u0275pipe:be}),NM=be({\u0275mod:be}),Mu=be({\u0275fac:be}),Zo=be({__NG_ELEMENT_ID__:be}),EE=be({__NG_ENV_ID__:be});function Qu(t){return typeof t=="string"?t:t==null?"":String(t)}function PM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Qu(t)}function xM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new P(-200,t)}function Dp(t,e){throw new P(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Uf;function oI(){return Uf}function Qt(t){let e=Uf;return Uf=t,e}function aI(t,e,n){let r=Ku(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Dp(t,"Injector")}var OM={},Xo=OM,jf="__NG_DI_FLAG__",Ru="ngTempTokenPath",kM="ngTokenPath",FM=/\n/gm,LM="\u0275",IE="__source",Ts;function VM(){return Ts}function br(t){let e=Ts;return Ts=t,e}function UM(t,e=se.Default){if(Ts===void 0)throw new P(-203,!1);return Ts===null?aI(t,void 0,e):Ts.get(t,e&se.Optional?null:void 0,e)}function G(t,e=se.Default){return(oI()||UM)(_t(t),e)}function k(t,e=se.Default){return G(t,Yu(e))}function Yu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Bf(t){let e=[];for(let n=0;n<t.length;n++){let r=_t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new P(900,!1);let i,s=se.Default;for(let o=0;o<r.length;o++){let a=r[o],u=jM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(G(i,s))}else e.push(G(r))}return e}function cI(t,e){return t[jf]=e,t.prototype[jf]=e,t}function jM(t){return t[jf]}function BM(t,e,n,r){let i=t[Ru];throw e[IE]&&i.unshift(e[IE]),t.message=$M(`
`+t.message,i,n,r),t[kM]=i,t[Ru]=null,t}function $M(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==LM?t.slice(2):t;let i=wt(e);if(Array.isArray(e))i=e.map(wt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):wt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(FM,`
  `)}`}var Et=cI(eI("Optional"),8);var uI=cI(eI("SkipSelf"),4);function Ss(t,e){let n=t.hasOwnProperty(Mu);return n?t[Mu]:null}function bp(t,e){t.forEach(n=>Array.isArray(n)?bp(n,e):e(n))}function lI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Nu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function HM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function qM(t,e,n){let r=ua(t,e);return r>=0?t[r|1]=n:(r=~r,HM(t,r,e,n)),r}function bf(t,e){let n=ua(t,e);if(n>=0)return t[n|1]}function ua(t,e){return zM(t,e,1)}function zM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var As={},Yt=[],Ms=new z(""),dI=new z("",-1),hI=new z(""),Pu=class{get(e,n=Xo){if(n===Xo){let r=new Error(`NullInjectorError: No provider for ${wt(e)}!`);throw r.name="NullInjectorError",r}return n}},fI=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fI||{}),gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(gn||{}),ut=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ut||{});function GM(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function $f(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];WM(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function pI(t){return t===3||t===4||t===6}function WM(t){return t.charCodeAt(0)===64}function ea(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?DE(t,n,i,null,e[++r]):DE(t,n,i,null,null))}}return t}function DE(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var mI="ng-template";function KM(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&GM(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Tp(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function Tp(t){return t.type===4&&t.value!==mI}function QM(t,e,n){let r=t.type===4&&!n?mI:t.value;return e===r}function YM(t,e,n){let r=4,i=t.attrs,s=i!==null?XM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!on(r)&&!on(u))return!1;if(o&&on(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!QM(t,u,n)||u===""&&e.length===1){if(on(r))return!1;o=!0}}else if(r&8){if(i===null||!KM(t,i,u,n)){if(on(r))return!1;o=!0}}else{let l=e[++a],f=JM(u,i,Tp(t),n);if(f===-1){if(on(r))return!1;o=!0;continue}if(l!==""){let p;if(f>s?p="":p=i[f+1].toLowerCase(),r&2&&l!==p){if(on(r))return!1;o=!0}}}}return on(r)||o}function on(t){return(t&1)===0}function JM(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return eR(e,t)}function ZM(t,e,n=!1){for(let r=0;r<e.length;r++)if(YM(t,e[r],n))return!0;return!1}function XM(t){for(let e=0;e<t.length;e++){let n=t[e];if(pI(n))return e}return t.length}function eR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function bE(t,e){return t?":not("+e.trim()+")":e}function tR(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!on(o)&&(e+=bE(s,i),i=""),r=o,s=s||!on(r);n++}return i!==""&&(e+=bE(s,i)),e}function nR(t){return t.map(tR).join(",")}function rR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!on(i))break;i=s}r++}return{attrs:e,classes:n}}function Mt(t){return ca(()=>{let e=wI(t),n=Ie(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fI.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||gn.Emulated,styles:t.styles||Yt,_:null,schemas:t.schemas||null,tView:null,id:""});EI(n);let r=t.dependencies;return n.directiveDefs=CE(r,!1),n.pipeDefs=CE(r,!0),n.id=oR(n),n})}function iR(t){return Cr(t)||gI(t)}function sR(t){return t!==null}function Kn(t){return ca(()=>({type:t.type,bootstrap:t.bootstrap||Yt,declarations:t.declarations||Yt,imports:t.imports||Yt,exports:t.exports||Yt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function TE(t,e){if(t==null)return As;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=ut.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==ut.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Rt(t){return ca(()=>{let e=wI(t);return EI(e),e})}function Cr(t){return t[AM]||null}function gI(t){return t[MM]||null}function yI(t){return t[RM]||null}function vI(t){let e=Cr(t)||gI(t)||yI(t);return e!==null?e.standalone:!1}function _I(t,e){let n=t[NM]||null;if(!n&&e===!0)throw new Error(`Type ${wt(t)} does not have '\u0275mod' property.`);return n}function wI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||As,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Yt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:TE(t.inputs,e),outputs:TE(t.outputs),debugInfo:null}}function EI(t){t.features?.forEach(e=>e(t))}function CE(t,e){if(!t)return null;let n=e?yI:iR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(sR)}function oR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function wn(t){return{\u0275providers:t}}function aR(...t){return{\u0275providers:II(!0,t),\u0275fromNgModule:!0}}function II(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return bp(e,o=>{let a=o;Hf(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&DI(i,s),n}function DI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Cp(i,s=>{e(s,r)})}}function Hf(t,e,n,r){if(t=_t(t),!t)return!1;let i=null,s=_E(t),o=!s&&Cr(t);if(!s&&!o){let u=t.ngModule;if(s=_E(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)Hf(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{bp(s.imports,f=>{Hf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&DI(l,e)}if(!a){let l=Ss(i)||(()=>new i);e({provide:i,useFactory:l,deps:Yt},i),e({provide:hI,useValue:i,multi:!0},i),e({provide:Ms,useValue:()=>G(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;Cp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Cp(t,e){for(let n of t)sI(n)&&(n=n.\u0275providers),Array.isArray(n)?Cp(n,e):e(n)}var cR=be({provide:String,useValue:be});function bI(t){return t!==null&&typeof t=="object"&&cR in t}function uR(t){return!!(t&&t.useExisting)}function lR(t){return!!(t&&t.useFactory)}function Rs(t){return typeof t=="function"}function dR(t){return!!t.useClass}var Ju=new z(""),bu={},hR={},Tf;function Sp(){return Tf===void 0&&(Tf=new Pu),Tf}var At=class{},ta=class extends At{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zf(e,o=>this.processProvider(o)),this.records.set(dI,Es(void 0,this)),i.has("environment")&&this.records.set(At,Es(void 0,this));let s=this.records.get(Ju);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(hI,Yt,se.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=br(this),r=Qt(void 0),i;try{return e()}finally{br(n),Qt(r)}}get(e,n=Xo,r=se.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(EE))return e[EE](this);r=Yu(r);let i,s=br(this),o=Qt(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=yR(e)&&Ku(e);l&&this.injectableDefInScope(l)?u=Es(qf(e),bu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Sp():this.parent;return n=r&se.Optional&&n===Xo?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ru]=a[Ru]||[]).unshift(wt(e)),s)throw a;return BM(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),br(s)}}resolveInjectorInitializers(){let e=we(null),n=br(this),r=Qt(void 0),i;try{let s=this.get(Ms,Yt,se.Self);for(let o of s)o()}finally{br(n),Qt(r),we(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(wt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(e){e=_t(e);let n=Rs(e)?e:_t(e&&e.provide),r=pR(e);if(!Rs(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Es(void 0,bu,!0),i.factory=()=>Bf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=we(null);try{return n.value===bu&&(n.value=hR,n.value=n.factory()),typeof n.value=="object"&&n.value&&gR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=_t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function qf(t){let e=Ku(t),n=e!==null?e.factory:Ss(t);if(n!==null)return n;if(t instanceof z)throw new P(204,!1);if(t instanceof Function)return fR(t);throw new P(204,!1)}function fR(t){if(t.length>0)throw new P(204,!1);let n=CM(t);return n!==null?()=>n.factory(t):()=>new t}function pR(t){if(bI(t))return Es(void 0,t.useValue);{let e=TI(t);return Es(e,bu)}}function TI(t,e,n){let r;if(Rs(t)){let i=_t(t);return Ss(i)||qf(i)}else if(bI(t))r=()=>_t(t.useValue);else if(lR(t))r=()=>t.useFactory(...Bf(t.deps||[]));else if(uR(t))r=()=>G(_t(t.useExisting));else{let i=_t(t&&(t.useClass||t.provide));if(mR(t))r=()=>new i(...Bf(t.deps));else return Ss(i)||qf(i)}return r}function Es(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function mR(t){return!!t.deps}function gR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function yR(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function zf(t,e){for(let n of t)Array.isArray(n)?zf(n,e):n&&sI(n)?zf(n.\u0275providers,e):e(n)}function Qn(t,e){t instanceof ta&&t.assertNotDestroyed();let n,r=br(t),i=Qt(void 0);try{return e()}finally{br(r),Qt(i)}}function CI(){return oI()!==void 0||VM()!=null}function vR(t){if(!CI())throw new P(-203,!1)}function _R(t){return typeof t=="function"}var Yn=0,fe=1,J=2,lt=3,an=4,ln=5,xu=6,na=7,cn=8,Ns=9,un=10,Ge=11,ra=12,SE=13,Vs=14,yn=15,Zu=16,Is=17,Ps=18,Xu=19,SI=20,Tr=21,Cf=22,fi=23,qn=25,AI=1;var pi=7,Ou=8,ku=9,Jt=10,Ap=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ap||{});function di(t){return Array.isArray(t)&&typeof t[AI]=="object"}function Jn(t){return Array.isArray(t)&&t[AI]===!0}function MI(t){return(t.flags&4)!==0}function el(t){return t.componentOffset>-1}function Mp(t){return(t.flags&1)===1}function Sr(t){return!!t.template}function wR(t){return(t[J]&512)!==0}var Gf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function RI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ei(){return NI}function NI(t){return t.type.prototype.ngOnChanges&&(t.setInput=IR),ER}Ei.ngInherit=!0;function ER(){let t=xI(this),e=t?.current;if(e){let n=t.previous;if(n===As)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function IR(t,e,n,r,i){let s=this.declaredInputs[r],o=xI(t)||DR(t,{previous:As,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new Gf(l&&l.currentValue,n,u===As),RI(t,e,i,n)}var PI="__ngSimpleChanges__";function xI(t){return t[PI]||null}function DR(t,e){return t[PI]=e}var AE=null;var pn=function(t,e,n){AE?.(t,e,n)},bR="svg",TR="math",CR=!1;function SR(){return CR}function vn(t){for(;Array.isArray(t);)t=t[Yn];return t}function OI(t,e){return vn(e[t])}function Zt(t,e){return vn(e[t.index])}function kI(t,e){return t.data[e]}function AR(t,e){return t[e]}function Mr(t,e){let n=e[t];return di(n)?n:n[Yn]}function Rp(t){return(t[J]&128)===128}function MR(t){return Jn(t[lt])}function Fu(t,e){return e==null?null:t[e]}function FI(t){t[Is]=0}function RR(t){t[J]&1024||(t[J]|=1024,Rp(t)&&ia(t))}function NR(t,e){for(;t>0;)e=e[Vs],t--;return e}function Np(t){return!!(t[J]&9216||t[fi]?.dirty)}function Wf(t){t[un].changeDetectionScheduler?.notify(1),Np(t)?ia(t):t[J]&64&&(SR()?(t[J]|=1024,ia(t)):t[un].changeDetectionScheduler?.notify())}function ia(t){t[un].changeDetectionScheduler?.notify();let e=sa(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!Rp(e)));)e=sa(e)}function LI(t,e){if((t[J]&256)===256)throw new P(911,!1);t[Tr]===null&&(t[Tr]=[]),t[Tr].push(e)}function PR(t,e){if(t[Tr]===null)return;let n=t[Tr].indexOf(e);n!==-1&&t[Tr].splice(n,1)}function sa(t){let e=t[lt];return Jn(e)?e[lt]:e}var ce={lFrame:qI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function xR(){return ce.lFrame.elementDepthCount}function OR(){ce.lFrame.elementDepthCount++}function kR(){ce.lFrame.elementDepthCount--}function VI(){return ce.bindingsEnabled}function FR(){return ce.skipHydrationRootTNode!==null}function LR(t){return ce.skipHydrationRootTNode===t}function VR(){ce.skipHydrationRootTNode=null}function Me(){return ce.lFrame.lView}function Lt(){return ce.lFrame.tView}function la(t){return ce.lFrame.contextLView=t,t[cn]}function da(t){return ce.lFrame.contextLView=null,t}function Nt(){let t=UI();for(;t!==null&&t.type===64;)t=t.parent;return t}function UI(){return ce.lFrame.currentTNode}function UR(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function ha(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function jI(){return ce.lFrame.isParent}function jR(){ce.lFrame.isParent=!1}function BR(){return ce.lFrame.contextLView}function $R(t){return ce.lFrame.bindingIndex=t}function tl(){return ce.lFrame.bindingIndex++}function HR(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function qR(){return ce.lFrame.inI18n}function zR(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Kf(e)}function GR(){return ce.lFrame.currentDirectiveIndex}function Kf(t){ce.lFrame.currentDirectiveIndex=t}function WR(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function BI(t){ce.lFrame.currentQueryIndex=t}function KR(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[ln]:null}function $I(t,e,n){if(n&se.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=KR(s),i===null||(s=s[Vs],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=ce.lFrame=HI();return r.currentTNode=e,r.lView=t,!0}function Pp(t){let e=HI(),n=t[fe];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function HI(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?qI(t):e}function qI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zI(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var GI=zI;function xp(){let t=zI();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function QR(t){return(ce.lFrame.contextLView=NR(t,ce.lFrame.contextLView))[cn]}function Us(){return ce.lFrame.selectedIndex}function mi(t){ce.lFrame.selectedIndex=t}function Op(){let t=ce.lFrame;return kI(t.tView,t.selectedIndex)}function YR(){return ce.lFrame.currentNamespace}var WI=!0;function kp(){return WI}function Fp(t){WI=t}function JR(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=NI(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Lp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function Tu(t,e,n){KI(t,e,3,n)}function Cu(t,e,n,r){(t[J]&3)===n&&KI(t,e,n,r)}function Sf(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function KI(t,e,n,r){let i=r!==void 0?t[Is]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Is]+=65536),(a<s||s==-1)&&(ZR(t,n,e,u),t[Is]=(t[Is]&4294901760)+u+2),u++}function ME(t,e){pn(4,t,e);let n=we(null);try{e.call(t)}finally{we(n),pn(5,t,e)}}function ZR(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[J]>>14<t[Is]>>16&&(t[J]&3)===e&&(t[J]+=16384,ME(a,s)):ME(a,s)}var Cs=-1,gi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function XR(t){return t instanceof gi}function eN(t){return(t.flags&8)!==0}function tN(t){return(t.flags&16)!==0}function QI(t){return t!==Cs}function Lu(t){return t&32767}function nN(t){return t>>16}function Vu(t,e){let n=nN(t),r=e;for(;n>0;)r=r[Vs],n--;return r}var Qf=!0;function RE(t){let e=Qf;return Qf=t,e}var rN=256,YI=rN-1,JI=5,iN=0,mn={};function sN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Zo)&&(r=n[Zo]),r==null&&(r=n[Zo]=iN++);let i=r&YI,s=1<<i;e.data[t+(i>>JI)]|=s}function Uu(t,e){let n=ZI(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,Af(r.data,t),Af(e,null),Af(r.blueprint,null));let i=Vp(t,e),s=t.injectorIndex;if(QI(i)){let o=Lu(i),a=Vu(i,e),u=a[fe].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Af(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ZI(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Vp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=rD(i),r===null)return Cs;if(n++,i=i[Vs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Cs}function Yf(t,e,n){sN(t,e,n)}function oN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(pI(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function XI(t,e,n){if(n&se.Optional||t!==void 0)return t;Dp(e,"NodeInjector")}function eD(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),!(n&(se.Self|se.Host))){let i=t[Ns],s=Qt(void 0);try{return i?i.get(e,r,n&se.Optional):aI(e,r,n&se.Optional)}finally{Qt(s)}}return XI(r,e,n)}function tD(t,e,n,r=se.Default,i){if(t!==null){if(e[J]&2048&&!(r&se.Self)){let o=dN(t,e,n,r,mn);if(o!==mn)return o}let s=nD(t,e,n,r,mn);if(s!==mn)return s}return eD(e,n,r,i)}function nD(t,e,n,r,i){let s=uN(n);if(typeof s=="function"){if(!$I(e,t,r))return r&se.Host?XI(i,n,r):eD(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&se.Optional))Dp(n);else return o}finally{GI()}}else if(typeof s=="number"){let o=null,a=ZI(t,e),u=Cs,l=r&se.Host?e[yn][ln]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?Vp(t,e):e[a+8],u===Cs||!PE(r,!1)?a=-1:(o=e[fe],a=Lu(u),e=Vu(u,e)));a!==-1;){let f=e[fe];if(NE(s,a,f.data)){let p=aN(a,e,n,o,r,l);if(p!==mn)return p}u=e[a+8],u!==Cs&&PE(r,e[fe].data[a+8]===l)&&NE(s,a,e)?(o=f,a=Lu(u),e=Vu(u,e)):a=-1}}return i}function aN(t,e,n,r,i,s){let o=e[fe],a=o.data[t+8],u=r==null?el(a)&&Qf:r!=o&&(a.type&3)!==0,l=i&se.Host&&s===a,f=cN(a,o,n,u,l);return f!==null?xs(e,o,f,a):mn}function cN(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,f=s>>20,p=r?a:a+f,y=i?a+f:l;for(let E=p;E<y;E++){let C=o[E];if(E<u&&n===C||E>=u&&C.type===n)return E}if(i){let E=o[u];if(E&&Sr(E)&&E.type===n)return u}return null}function xs(t,e,n,r){let i=t[n],s=e.data;if(XR(i)){let o=i;o.resolving&&xM(PM(s[n]));let a=RE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Qt(o.injectImpl):null,f=$I(t,r,se.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&JR(n,s[n],e)}finally{l!==null&&Qt(l),RE(a),o.resolving=!1,GI()}}return i}function uN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Zo)?t[Zo]:void 0;return typeof e=="number"?e>=0?e&YI:lN:e}function NE(t,e,n){let r=1<<t;return!!(n[e+(t>>JI)]&r)}function PE(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var hi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return tD(this._tNode,this._lView,e,Yu(r),n)}};function lN(){return new hi(Nt(),Me())}function fa(t){return ca(()=>{let e=t.prototype.constructor,n=e[Mu]||Jf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Mu]||Jf(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Jf(t){return tI(t)?()=>{let e=Jf(_t(t));return e&&e()}:Ss(t)}function dN(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[J]&2048&&!(o[J]&512);){let a=nD(s,o,n,r|se.Self,mn);if(a!==mn)return a;let u=s.parent;if(!u){let l=o[SI];if(l){let f=l.get(n,mn,r);if(f!==mn)return f}u=rD(o),o=o[Vs]}s=u}return i}function rD(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[ln]:null}function Up(t){return oN(Nt(),t)}function xE(t,e=null,n=null,r){let i=iD(t,e,n,r);return i.resolveInjectorInitializers(),i}function iD(t,e=null,n=null,r,i=new Set){let s=[n||Yt,aR(t)];return r=r||(typeof t=="object"?void 0:wt(t)),new ta(s,e||Sp(),r||null,i)}var It=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return xE({name:""},i,r,"");{let s=r.name??"";return xE({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Xo,e.NULL=new Pu,e.\u0275prov=H({token:e,providedIn:"any",factory:()=>G(dI)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var hN="ngOriginalError";function Mf(t){return t[hN]}var _n=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Mf(e);for(;n&&Mf(n);)n=Mf(n);return n||null}},sD=new z("",{providedIn:"root",factory:()=>k(_n).handleError.bind(void 0)}),jp=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=fN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Zf=class extends jp{constructor(e){super(),this._lView=e}onDestroy(e){return LI(this._lView,e),()=>PR(this._lView,e)}};function fN(){return new Zf(Me())}function pN(){return nl(Nt(),Me())}function nl(t,e){return new Rr(Zt(t,e))}var Rr=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=pN;let t=e;return t})();var Xf=class extends at{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,CI()&&(this.destroyRef=k(jp,{optional:!0})??void 0)}emit(e){let n=we(null);try{super.next(e)}finally{we(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Rf(s),i&&(i=Rf(i)),o&&(o=Rf(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Le&&e.add(a),a}};function Rf(t){return e=>{setTimeout(t,void 0,e)}}var ct=Xf;function oD(t){return(t.flags&128)===128}var aD=new Map,mN=0;function gN(){return mN++}function yN(t){aD.set(t[Xu],t)}function vN(t){aD.delete(t[Xu])}var OE="__ngContext__";function yi(t,e){di(e)?(t[OE]=e[Xu],yN(e)):t[OE]=e}function cD(t){return lD(t[ra])}function uD(t){return lD(t[an])}function lD(t){for(;t!==null&&!Jn(t);)t=t[an];return t}var ep;function dD(t){ep=t}function _N(){if(ep!==void 0)return ep;if(typeof document<"u")return document;throw new P(210,!1)}var Bp=new z("",{providedIn:"root",factory:()=>wN}),wN="ng",$p=new z(""),En=new z("",{providedIn:"platform",factory:()=>"unknown"});var Hp=new z(""),qp=new z("",{providedIn:"root",factory:()=>_N().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var EN="h",IN="b";var DN=()=>null;function zp(t,e,n=!1){return DN(t,e,n)}var hD=!1,bN=new z("",{providedIn:"root",factory:()=>hD});var Eu;function TN(){if(Eu===void 0&&(Eu=null,li.trustedTypes))try{Eu=li.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Eu}function kE(t){return TN()?.createScriptURL(t)||t}var ju=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XE})`}};function pa(t){return t instanceof ju?t.changingThisBreaksApplicationSecurity:t}function Gp(t,e){let n=CN(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${XE})`)}return n===e}function CN(t){return t instanceof ju&&t.getTypeName()||null}var SN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fD(t){return t=String(t),t.match(SN)?t:"unsafe:"+t}var rl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(rl||{});function AN(t){let e=mD();return e?e.sanitize(rl.URL,t)||"":Gp(t,"URL")?pa(t):fD(Qu(t))}function MN(t){let e=mD();if(e)return kE(e.sanitize(rl.RESOURCE_URL,t)||"");if(Gp(t,"ResourceURL"))return kE(pa(t));throw new P(904,!1)}function RN(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?MN:AN}function pD(t,e,n){return RN(e,n)(t)}function mD(){let t=Me();return t&&t[un].sanitizer}function gD(t){return t instanceof Function?t():t}function NN(t){return(t??k(It)).get(En)==="browser"}var zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(zn||{}),PN;function Wp(t,e){return PN(t,e)}function Ds(t,e,n,r,i){if(r!=null){let s,o=!1;Jn(r)?s=r:di(r)&&(o=!0,r=r[Yn]);let a=vn(r);t===0&&n!==null?i==null?ED(e,n,a):Bu(e,n,a,i||null,!0):t===1&&n!==null?Bu(e,n,a,i||null,!0):t===2?QN(e,a,o):t===3&&e.destroyNode(a),s!=null&&JN(e,t,s,n,i)}}function xN(t,e){return t.createText(e)}function ON(t,e,n){t.setValue(e,n)}function yD(t,e,n){return t.createElement(e,n)}function kN(t,e){vD(t,e),e[Yn]=null,e[ln]=null}function FN(t,e,n,r,i,s){r[Yn]=i,r[ln]=e,il(t,r,n,1,i,s)}function vD(t,e){e[un].changeDetectionScheduler?.notify(1),il(t,e,e[Ge],2,null,null)}function LN(t){let e=t[ra];if(!e)return Nf(t[fe],t);for(;e;){let n=null;if(di(e))n=e[ra];else{let r=e[Jt];r&&(n=r)}if(!n){for(;e&&!e[an]&&e!==t;)di(e)&&Nf(e[fe],e),e=e[lt];e===null&&(e=t),di(e)&&Nf(e[fe],e),n=e&&e[an]}e=n}}function VN(t,e,n,r){let i=Jt+r,s=n.length;r>0&&(n[i-1][an]=e),r<s-Jt?(e[an]=n[i],lI(n,Jt+r,e)):(n.push(e),e[an]=null),e[lt]=n;let o=e[Zu];o!==null&&n!==o&&UN(o,e);let a=e[Ps];a!==null&&a.insertView(t),Wf(e),e[J]|=128}function UN(t,e){let n=t[ku],i=e[lt][lt][yn];e[yn]!==i&&(t[J]|=Ap.HasTransplantedViews),n===null?t[ku]=[e]:n.push(e)}function _D(t,e){let n=t[ku],r=n.indexOf(e);n.splice(r,1)}function tp(t,e){if(t.length<=Jt)return;let n=Jt+e,r=t[n];if(r){let i=r[Zu];i!==null&&i!==t&&_D(i,r),e>0&&(t[n-1][an]=r[an]);let s=Nu(t,Jt+e);kN(r[fe],r);let o=s[Ps];o!==null&&o.detachView(s[fe]),r[lt]=null,r[an]=null,r[J]&=-129}return r}function wD(t,e){if(!(e[J]&256)){let n=e[Ge];n.destroyNode&&il(t,e,n,3,null,null),LN(e)}}function Nf(t,e){if(e[J]&256)return;let n=we(null);try{e[J]&=-129,e[J]|=256,e[fi]&&zw(e[fi]),BN(t,e),jN(t,e),e[fe].type===1&&e[Ge].destroy();let r=e[Zu];if(r!==null&&Jn(e[lt])){r!==e[lt]&&_D(r,e);let i=e[Ps];i!==null&&i.detachView(t)}vN(e)}finally{we(n)}}function jN(t,e){let n=t.cleanup,r=e[na];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[na]=null);let i=e[Tr];if(i!==null){e[Tr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function BN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof gi)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];pn(4,a,u);try{u.call(a)}finally{pn(5,a,u)}}else{pn(4,i,s);try{s.call(i)}finally{pn(5,i,s)}}}}}function $N(t,e,n){return HN(t,e.parent,n)}function HN(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Yn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===gn.None||s===gn.Emulated)return null}return Zt(r,n)}}function Bu(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ED(t,e,n){t.appendChild(e,n)}function FE(t,e,n,r,i){r!==null?Bu(t,e,n,r,i):ED(t,e,n)}function qN(t,e,n,r){t.removeChild(e,n,r)}function Kp(t,e){return t.parentNode(e)}function zN(t,e){return t.nextSibling(e)}function GN(t,e,n){return KN(t,e,n)}function WN(t,e,n){return t.type&40?Zt(t,n):null}var KN=WN,LE;function Qp(t,e,n,r){let i=$N(t,r,e),s=e[Ge],o=r.parent||e[ln],a=GN(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)FE(s,i,n[u],a,!1);else FE(s,i,n,a,!1);LE!==void 0&&LE(s,r,e,n,i)}function Su(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return np(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Su(t,r);{let i=t[e.index];return Jn(i)?np(-1,i):vn(i)}}else{if(n&32)return Wp(e,t)()||vn(t[e.index]);{let r=ID(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=sa(t[yn]);return Su(i,r)}else return Su(t,e.next)}}}return null}function ID(t,e){if(e!==null){let r=t[yn][ln],i=e.projection;return r.projection[i]}return null}function np(t,e){let n=Jt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return Su(r,i)}return e[pi]}function QN(t,e,n){let r=Kp(t,e);r&&qN(t,r,e,n)}function Yp(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],u=n.type;if(o&&e===0&&(a&&yi(vn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Yp(t,e,n.child,r,i,s,!1),Ds(e,t,i,a,s);else if(u&32){let l=Wp(n,r),f;for(;f=l();)Ds(e,t,i,f,s);Ds(e,t,i,a,s)}else u&16?YN(t,e,r,n,i,s):Ds(e,t,i,a,s);n=o?n.projectionNext:n.next}}function il(t,e,n,r,i,s){Yp(n,r,t.firstChild,e,i,s,!1)}function YN(t,e,n,r,i,s){let o=n[yn],u=o[ln].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];Ds(e,t,i,f,s)}else{let l=u,f=o[lt];oD(r)&&(l.flags|=128),Yp(t,e,l,f,i,s,!0)}}function JN(t,e,n,r,i){let s=n[pi],o=vn(n);s!==o&&Ds(e,t,r,s,i);for(let a=Jt;a<n.length;a++){let u=n[a];il(u[fe],u,t,e,r,s)}}function ZN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:zn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=zn.Important),t.setStyle(n,r,i,s))}}function XN(t,e,n){t.setAttribute(e,"style",n)}function DD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function bD(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&$f(t,e,r),i!==null&&DD(t,e,i),s!==null&&XN(t,e,s)}var js={};function Ye(t=1){TD(Lt(),Me(),Us()+t,!1)}function TD(t,e,n,r){if(!r)if((e[J]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Tu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Cu(e,s,0,n)}mi(n)}function te(t,e=se.Default){let n=Me();if(n===null)return G(t,e);let r=Nt();return tD(r,n,_t(t),e)}function CD(){let t="invalid";throw new Error(t)}function SD(t,e,n,r,i,s){let o=we(null);try{let a=null;i&ut.SignalBased&&(a=e[r][Xh]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&ut.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):RI(e,a,r,s)}finally{we(o)}}function eP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)mi(~i);else{let s=i,o=n[++r],a=n[++r];zR(o,s);let u=e[s];a(2,u)}}}finally{mi(-1)}}function sl(t,e,n,r,i,s,o,a,u,l,f){let p=e.blueprint.slice();return p[Yn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),FI(p),p[lt]=p[Vs]=t,p[cn]=n,p[un]=o||t&&t[un],p[Ge]=a||t&&t[Ge],p[Ns]=u||t&&t[Ns]||null,p[ln]=s,p[Xu]=gN(),p[xu]=f,p[SI]=l,p[yn]=e.type==2?t[yn]:p,p}function ol(t,e,n,r,i){let s=t.data[e];if(s===null)s=tP(t,e,n,r,i),qR()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=UR();s.injectorIndex=o===null?-1:o.injectorIndex}return ha(s,!0),s}function tP(t,e,n,r,i){let s=UI(),o=jI(),a=o?s:s&&s.parent,u=t.data[e]=oP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function AD(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function MD(t,e,n,r,i){let s=Us(),o=r&2;try{mi(-1),o&&e.length>qn&&TD(t,e,qn,!1),pn(o?2:0,i),n(r,i)}finally{mi(s),pn(o?3:1,i)}}function RD(t,e,n){if(MI(e)){let r=we(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{we(r)}}}function ND(t,e,n){VI()&&(hP(t,e,n,Zt(n,e)),(n.flags&64)===64&&LD(t,e,n))}function PD(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function xD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jp(t,e,n,r,i,s,o,a,u,l,f){let p=qn+r,y=p+i,E=nP(p,y),C=typeof l=="function"?l():l;return E[fe]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:f}}function nP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:js);return n}function rP(t,e,n,r){let s=r.get(bN,hD)||n===gn.ShadowDom,o=t.selectRootElement(e,s);return iP(o),o}function iP(t){sP(t)}var sP=()=>null;function oP(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return FR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function VE(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=ut.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?UE(r,n,l,a,u):UE(r,n,l,a)}return r}function UE(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function aP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let f=r;f<i;f++){let p=s[f],y=n?n.get(p):null,E=y?y.inputs:null,C=y?y.outputs:null;u=VE(0,p.inputs,f,u,E),l=VE(1,p.outputs,f,l,C);let M=u!==null&&o!==null&&!Tp(e)?DP(u,f,o):null;a.push(M)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function cP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function OD(t,e,n,r,i,s,o,a){let u=Zt(e,n),l=e.inputs,f;!a&&l!=null&&(f=l[r])?(Zp(t,n,f,r,i),el(e)&&uP(n,e.index)):e.type&3?(r=cP(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function uP(t,e){let n=Mr(e,t);n[J]&16||(n[J]|=64)}function kD(t,e,n,r){if(VI()){let i=r===null?null:{"":-1},s=pP(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&FD(t,e,n,o,i,a),i&&mP(n,r,i)}n.mergedAttrs=ea(n.mergedAttrs,n.attrs)}function FD(t,e,n,r,i,s){for(let l=0;l<r.length;l++)Yf(Uu(n,e),t,r[l].type);yP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=AD(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=ea(n.mergedAttrs,f.hostAttrs),vP(t,n,e,u,f),gP(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}aP(t,n,s)}function lP(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;dP(o)!=a&&o.push(a),o.push(n,r,s)}}function dP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function hP(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;el(n)&&_P(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Uu(n,e),yi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=xs(e,t,a,n);if(yi(l,e),o!==null&&IP(e,a-i,l,u,n,o),Sr(u)){let f=Mr(n.index,e);f[cn]=xs(e,t,a,n)}}}function LD(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=GR();try{mi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Kf(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&fP(u,l)}}finally{mi(-1),Kf(o)}}function fP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function pP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(ZM(e,o.selectors,!1))if(r||(r=[]),Sr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;rp(t,e,u)}else r.unshift(o),rp(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function rp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function mP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new P(-301,!1);r.push(e[i],s)}}}function gP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Sr(e)&&(n[""]=t)}}function yP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vP(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Ss(i.type,!0)),o=new gi(s,Sr(i),te);t.blueprint[r]=o,n[r]=o,lP(t,e,r,AD(t,n,i.hostVars,js),i)}function _P(t,e,n){let r=Zt(e,t),i=xD(n),s=t[un].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=al(t,sl(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function wP(t,e,n,r,i,s){let o=Zt(t,e);EP(e[Ge],o,s,t.value,n,r,i)}function EP(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Qu(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function IP(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],f=o[a++],p=o[a++];SD(r,n,u,l,f,p)}}function DP(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function VD(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function UD(t,e){let n=t.contentQueries;if(n!==null){let r=we(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];BI(s),a.contentQueries(2,e[o],o)}}}finally{we(r)}}}function al(t,e){return t[ra]?t[SE][an]=e:t[ra]=e,t[SE]=e,e}function ip(t,e,n){BI(0);let r=we(null);try{e(t,n)}finally{we(r)}}function bP(t){return t[na]||(t[na]=[])}function TP(t){return t.cleanup||(t.cleanup=[])}function jD(t,e){let n=t[Ns],r=n?n.get(_n,null):null;r&&r.handleError(e)}function Zp(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],f=t.data[o];SD(f,l,r,a,u,i)}}function CP(t,e,n){let r=OI(e,t);ON(t[Ge],r,n)}function SP(t,e){let n=Mr(e,t),r=n[fe];AP(r,n);let i=n[Yn];i!==null&&n[xu]===null&&(n[xu]=zp(i,n[Ns])),Xp(r,n,n[cn])}function AP(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Xp(t,e,n){Pp(e);try{let r=t.viewQuery;r!==null&&ip(1,r,n);let i=t.template;i!==null&&MD(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ps]?.finishViewCreation(t),t.staticContentQueries&&UD(t,e),t.staticViewQueries&&ip(2,t.viewQuery,n);let s=t.components;s!==null&&MP(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,xp()}}function MP(t,e){for(let n=0;n<e.length;n++)SP(t,e[n])}function RP(t,e,n,r){let i=we(null);try{let s=e.tView,a=t[J]&4096?4096:16,u=sl(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Zu]=l;let f=t[Ps];return f!==null&&(u[Ps]=f.createEmbeddedView(s)),Xp(s,u,n),u}finally{we(i)}}function jE(t,e){return!e||e.firstChild===null||oD(t)}function NP(t,e,n,r=!0){let i=e[fe];if(VN(i,e,t,n),r){let o=np(n,t),a=e[Ge],u=Kp(a,t[pi]);u!==null&&FN(i,t[ln],a,e,u,o)}let s=e[xu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function $u(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(vn(s)),Jn(s)&&PP(s,r);let o=n.type;if(o&8)$u(t,e,n.child,r);else if(o&32){let a=Wp(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=ID(e,n);if(Array.isArray(a))r.push(...a);else{let u=sa(e[yn]);$u(u[fe],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function PP(t,e){for(let n=Jt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&$u(r[fe],r,i,e)}t[pi]!==t[Yn]&&e.push(t[pi])}var BD=[];function xP(t){return t[fi]??OP(t)}function OP(t){let e=BD.pop()??Object.create(FP);return e.lView=t,e}function kP(t){t.lView[fi]!==t&&(t.lView=null,BD.push(t))}var FP=Ie(L({},$w),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ia(t.lView)},consumerOnSignalRead(){this.lView[fi]=this}}),$D=100;function HD(t,e=!0,n=0){let r=t[un],i=r.rendererFactory,s=!1;s||i.begin?.();try{LP(t,n)}catch(o){throw e&&jD(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function LP(t,e){sp(t,e);let n=0;for(;Np(t);){if(n===$D)throw new P(103,!1);n++,sp(t,1)}}function VP(t,e,n,r){let i=e[J];if((i&256)===256)return;let s=!1;!s&&e[un].inlineEffectRunner?.flush(),Pp(e);let o=null,a=null;!s&&UP(t)&&(a=xP(e),o=Hw(a));try{FI(e),$R(t.bindingStartIndex),n!==null&&MD(t,e,n,2,r);let u=(i&3)===3;if(!s)if(u){let p=t.preOrderCheckHooks;p!==null&&Tu(e,p,null)}else{let p=t.preOrderHooks;p!==null&&Cu(e,p,0,null),Sf(e,0)}if(jP(e),qD(e,0),t.contentQueries!==null&&UD(t,e),!s)if(u){let p=t.contentCheckHooks;p!==null&&Tu(e,p)}else{let p=t.contentHooks;p!==null&&Cu(e,p,1),Sf(e,1)}eP(t,e);let l=t.components;l!==null&&GD(e,l,0);let f=t.viewQuery;if(f!==null&&ip(2,f,r),!s)if(u){let p=t.viewCheckHooks;p!==null&&Tu(e,p)}else{let p=t.viewHooks;p!==null&&Cu(e,p,2),Sf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cf]){for(let p of e[Cf])p();e[Cf]=null}s||(e[J]&=-73)}catch(u){throw ia(e),u}finally{a!==null&&(qw(a,o),kP(a)),xp()}}function UP(t){return t.type!==2}function qD(t,e){for(let n=cD(t);n!==null;n=uD(n))for(let r=Jt;r<n.length;r++){let i=n[r];zD(i,e)}}function jP(t){for(let e=cD(t);e!==null;e=uD(e)){if(!(e[J]&Ap.HasTransplantedViews))continue;let n=e[ku];for(let r=0;r<n.length;r++){let i=n[r],s=i[lt];RR(i)}}}function BP(t,e,n){let r=Mr(e,t);zD(r,n)}function zD(t,e){Rp(t)&&sp(t,e)}function sp(t,e){let r=t[fe],i=t[J],s=t[fi],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&ef(s)),s&&(s.dirty=!1),t[J]&=-9217,o)VP(r,t,r.template,t[cn]);else if(i&8192){qD(t,1);let a=r.components;a!==null&&GD(t,a,1)}}function GD(t,e,n){for(let r=0;r<e.length;r++)BP(t,e[r],n)}function em(t){for(t[un].changeDetectionScheduler?.notify();t;){t[J]|=64;let e=sa(t);if(wR(t)&&!e)return t;t=e}return null}var vi=class{get rootNodes(){let e=this._lView,n=e[fe];return $u(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[cn]}set context(e){this._lView[cn]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(Jn(e)){let n=e[Ou],r=n?n.indexOf(this):-1;r>-1&&(tp(e,r),Nu(n,r))}this._attachedToViewContainer=!1}wD(this._lView[fe],this._lView)}onDestroy(e){LI(this._lView,e)}markForCheck(){em(this._cdRefInjectingView||this._lView)}detach(){this._lView[J]&=-129}reattach(){Wf(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,HD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,vD(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e,Wf(this._lView)}},tm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=qP;let t=e;return t})(),$P=tm,HP=class extends $P{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=RP(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new vi(i)}};function qP(){return WD(Nt(),Me())}function WD(t,e){return t.type&4?new HP(e,t,nl(t,e)):null}var aW=new RegExp(`^(\\d+)*(${IN}|${EN})*(.*)`);var zP=()=>null;function BE(t,e){return zP(t,e)}var Os=class{},op=class{},Hu=class{};function GP(t){let e=Error(`No component factory found for ${wt(t)}.`);return e[WP]=t,e}var WP="ngComponent";var ap=class{resolveComponentFactory(e){throw GP(e)}},cl=(()=>{let e=class e{};e.NULL=new ap;let t=e;return t})(),_i=class{},Ii=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>KP();let t=e;return t})();function KP(){let t=Me(),e=Nt(),n=Mr(e.index,t);return(di(n)?n:t)[Ge]}var QP=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Pf={};var $E=new Set;function ma(t){$E.has(t)||($E.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function HE(...t){}function YP(){let t=typeof li.requestAnimationFrame=="function",e=li[t?"requestAnimationFrame":"setTimeout"],n=li[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ye=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ct(!1),this.onMicrotaskEmpty=new ct(!1),this.onStable=new ct(!1),this.onError=new ct(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=YP().nativeRequestAnimationFrame,XP(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new P(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,JP,HE,HE);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},JP={};function nm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ZP(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(li,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cp(t),t.isCheckStableRunning=!0,nm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cp(t))}function XP(t){let e=()=>{ZP(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(ex(a))return n.invokeTask(i,s,o,a);try{return qE(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),zE(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return qE(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),zE(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,cp(t),nm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function cp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function qE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zE(t){t._nesting--,nm(t)}function ex(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var bs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(bs||{}),tx={destroy(){}};function ul(t,e){!e&&vR(ul);let n=e?.injector??k(It);if(!NN(n))return tx;ma("NgAfterNextRender");let r=n.get(rm),i=r.handler??=new lp,s=e?.phase??bs.MixedReadWrite,o=()=>{i.unregister(u),a()},a=n.get(jp).onDestroy(o),u=Qn(n,()=>new up(s,()=>{o(),t()}));return i.register(u),{destroy:o}}var up=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=k(ye),this.errorHandler=k(_n,{optional:!0}),k(Os,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},lp=class{constructor(){this.executingCallbacks=!1,this.buckets={[bs.EarlyRead]:new Set,[bs.Write]:new Set,[bs.MixedReadWrite]:new Set,[bs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},rm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function dp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=yE(i,a);else if(s==2){let u=a,l=e[++o];r=yE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var qu=class extends cl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Cr(e);return new ks(n,this.ngModule)}};function GE(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function nx(t){let e=t.toLowerCase();return e==="svg"?bR:e==="math"?TR:null}var hp=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Yu(r);let i=this.injector.get(e,Pf,r);return i!==Pf||n===Pf?i:this.parentInjector.get(e,n,r)}},ks=class extends Hu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=GE(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return GE(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=nR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=we(null);try{i=i||this.ngModule;let o=i instanceof At?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new hp(e,o):e,u=a.get(_i,null);if(u===null)throw new P(407,!1);let l=a.get(QP,null),f=a.get(rm,null),p=a.get(Os,null),y={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:f,changeDetectionScheduler:p},E=u.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",M=r?rP(E,r,this.componentDef.encapsulation,a):yD(E,C,nx(C)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let F=null;M!==null&&(F=zp(M,a,!0));let B=Jp(0,null,null,1,0,null,null,null,null,null,null),j=sl(null,B,null,R,null,null,y,E,a,null,F);Pp(j);let K,Ne;try{let ne=this.componentDef,w,g=null;ne.findHostDirectiveDefs?(w=[],g=new Map,ne.findHostDirectiveDefs(ne,w,g),w.push(ne)):w=[ne];let v=rx(j,M),I=ix(v,M,ne,w,j,y,E);Ne=kI(B,qn),M&&ax(E,ne,M,r),n!==void 0&&cx(Ne,this.ngContentSelectors,n),K=ox(I,ne,w,g,j,[ux]),Xp(B,j,null)}finally{xp()}return new fp(this.componentType,K,nl(Ne,j),j,Ne)}finally{we(s)}}},fp=class extends op{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new vi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Zp(s[fe],s,i,e,n),this.previousInputValues.set(e,n);let o=Mr(this._tNode.index,s);em(o)}}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rx(t,e){let n=t[fe],r=qn;return t[r]=e,ol(n,r,2,"#host",null)}function ix(t,e,n,r,i,s,o){let a=i[fe];sx(r,t,e,o);let u=null;e!==null&&(u=zp(e,i[Ns]));let l=s.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let p=sl(i,xD(n),null,f,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&rp(a,t,r.length-1),al(i,p),i[t.index]=p}function sx(t,e,n,r){for(let i of t)e.mergedAttrs=ea(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(dp(e,e.mergedAttrs,!0),n!==null&&bD(r,n,e))}function ox(t,e,n,r,i,s){let o=Nt(),a=i[fe],u=Zt(o,i);FD(a,i,o,n,null,r);for(let f=0;f<n.length;f++){let p=o.directiveStart+f,y=xs(i,a,p,o);yi(y,i)}LD(a,i,o),u&&yi(u,i);let l=xs(i,a,o.directiveStart+o.componentOffset,o);if(t[cn]=i[cn]=l,s!==null)for(let f of s)f(l,e);return RD(a,o,i),l}function ax(t,e,n,r){if(r)$f(t,n,["ng-version","17.3.10"]);else{let{attrs:i,classes:s}=rR(e.selectors[0]);i&&$f(t,n,i),s&&s.length>0&&DD(t,n,s.join(" "))}}function cx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function ux(){let t=Nt();Lp(Me()[fe],t)}var ga=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=lx;let t=e;return t})();function lx(){let t=Nt();return hx(t,Me())}var dx=ga,KD=class extends dx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return nl(this._hostTNode,this._hostLView)}get injector(){return new hi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Vp(this._hostTNode,this._hostLView);if(QI(e)){let n=Vu(e,this._hostLView),r=Lu(e),i=n[fe].data[r+8];return new hi(i,n)}else return new hi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=WE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=BE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,jE(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!_R(e),a;if(o)a=n;else{let C=n||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}let u=o?e:new ks(Cr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let M=(o?l:this.parentInjector).get(At,null);M&&(s=M)}let f=Cr(u.componentType??{}),p=BE(this._lContainer,f?.id??null),y=p?.firstChild??null,E=u.create(l,i,y,s);return this.insertImpl(E.hostView,a,jE(this._hostTNode,p)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(MR(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new KD(u,u[ln],u[lt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return NP(o,i,s,r),e.attachToViewContainerRef(),lI(xf(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=WE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);r&&(Nu(xf(this._lContainer),n),wD(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=tp(this._lContainer,n);return r&&Nu(xf(this._lContainer),n)!=null?new vi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function WE(t){return t[Ou]}function xf(t){return t[Ou]||(t[Ou]=[])}function hx(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=VD(r,e,null,t),e[t.index]=n,al(e,n)),px(n,e,t,r),new KD(n,t,e)}function fx(t,e){let n=t[Ge],r=n.createComment(""),i=Zt(e,t),s=Kp(n,i);return Bu(n,s,r,zN(n,i),!1),r}var px=yx,mx=()=>!1;function gx(t,e,n){return mx(t,e,n)}function yx(t,e,n,r){if(t[pi])return;let i;n.type&8?i=vn(r):i=fx(e,n),t[pi]=i}function vx(t){return typeof t=="function"&&t[Xh]!==void 0}function QD(t){return vx(t)&&typeof t.set=="function"}function _x(t){return Object.getPrototypeOf(t.prototype).constructor}function Nr(t){let e=_x(t.type),n=!0,r=[t];for(;e;){let i;if(Sr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new P(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Iu(t.inputs),o.inputTransforms=Iu(t.inputTransforms),o.declaredInputs=Iu(t.declaredInputs),o.outputs=Iu(t.outputs);let a=i.hostBindings;a&&bx(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Ix(t,u),l&&Dx(t,l),wx(t,i),bM(t.outputs,i.outputs),Sr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Nr&&(n=!1)}}e=Object.getPrototypeOf(e)}Ex(r)}function wx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Ex(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ea(i.hostAttrs,n=ea(n,i.hostAttrs))}}function Iu(t){return t===As?{}:t===Yt?[]:t}function Ix(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Dx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function bx(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function im(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ar=class{},oa=class{};var pp=class extends Ar{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qu(this);let i=_I(e);this._bootstrapComponents=gD(i.bootstrap),this._r3Injector=iD(e,n,[{provide:Ar,useValue:this},{provide:cl,useValue:this.componentFactoryResolver},...r],wt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},mp=class extends oa{constructor(e){super(),this.moduleType=e}create(e){return new pp(this.moduleType,e,[])}};var zu=class extends Ar{constructor(e){super(),this.componentFactoryResolver=new qu(this),this.instance=null;let n=new ta([...e.providers,{provide:Ar,useValue:this},{provide:cl,useValue:this.componentFactoryResolver}],e.parent||Sp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ll(t,e,n=null){return new zu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var dl=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ya(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Tx(t){return(t.flags&32)===32}function Cx(t,e,n,r,i,s,o,a,u){let l=e.consts,f=ol(e,t,4,o||null,Fu(l,a));kD(e,n,f,Fu(l,u)),Lp(e,f);let p=f.tView=Jp(2,f,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function Zn(t,e,n,r,i,s,o,a){let u=Me(),l=Lt(),f=t+qn,p=l.firstCreatePass?Cx(f,l,u,e,n,r,i,s,o):l.data[f];ha(p,!1);let y=Sx(l,u,p,t);kp()&&Qp(l,u,y,p),yi(y,u);let E=VD(y,u,y,p);return u[f]=E,al(u,E),gx(E,p,u),Mp(p)&&ND(l,u,p),o!=null&&PD(u,p,a),Zn}var Sx=Ax;function Ax(t,e,n,r){return Fp(!0),e[Ge].createComment("")}function hl(t,e,n,r){let i=Me(),s=tl();if(ya(i,s,e)){let o=Lt(),a=Op();wP(a,i,t,e,n,r)}return hl}function Mx(t,e,n,r){return ya(t,tl(),n)?e+Qu(n)+r:js}function Du(t,e){return t<<17|e<<2}function wi(t){return t>>17&32767}function Rx(t){return(t&2)==2}function Nx(t,e){return t&131071|e<<17}function gp(t){return t|2}function Fs(t){return(t&131068)>>2}function Of(t,e){return t&-131069|e<<2}function Px(t){return(t&1)===1}function yp(t){return t|1}function xx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=wi(o),u=Fs(o);t[r]=n;let l=!1,f;if(Array.isArray(n)){let p=n;f=p[1],(f===null||ua(p,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let y=wi(t[a+1]);t[r+1]=Du(y,a),y!==0&&(t[y+1]=Of(t[y+1],r)),t[a+1]=Nx(t[a+1],r)}else t[r+1]=Du(a,0),a!==0&&(t[a+1]=Of(t[a+1],r)),a=r;else t[r+1]=Du(u,0),a===0?a=r:t[u+1]=Of(t[u+1],r),u=r;l&&(t[r+1]=gp(t[r+1])),KE(t,f,r,!0),KE(t,f,r,!1),Ox(e,f,t,r,s),o=Du(a,u),s?e.classBindings=o:e.styleBindings=o}function Ox(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&ua(s,e)>=0&&(n[r+1]=yp(n[r+1]))}function KE(t,e,n,r){let i=t[n+1],s=e===null,o=r?wi(i):Fs(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];kx(u,e)&&(a=!0,t[o+1]=r?yp(l):gp(l)),o=r?wi(l):Fs(l)}a&&(t[n+1]=r?gp(i):yp(i))}function kx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?ua(t,e)>=0:!1}function Dt(t,e,n){let r=Me(),i=tl();if(ya(r,i,e)){let s=Lt(),o=Op();OD(s,o,r,t,e,r[Ge],n,!1)}return Dt}function QE(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Zp(t,n,s[o],o,r)}function fl(t,e){return Fx(t,e,null,!0),fl}function Fx(t,e,n,r){let i=Me(),s=Lt(),o=HR(2);if(s.firstUpdatePass&&Vx(s,t,o,r),e!==js&&ya(i,o,e)){let a=s.data[Us()];Hx(s,a,i,i[Ge],t,i[o+1]=qx(e,n),r,o)}}function Lx(t,e){return e>=t.expandoStartIndex}function Vx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Us()],o=Lx(t,n);zx(s,r)&&e===null&&!o&&(e=!1),e=Ux(i,s,e,r),xx(i,s,e,n,o,r)}}function Ux(t,e,n,r){let i=WR(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=kf(null,t,e,n,r),n=aa(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=kf(i,t,e,n,r),s===null){let u=jx(t,e,r);u!==void 0&&Array.isArray(u)&&(u=kf(null,t,e,u[1],r),u=aa(u,e.attrs,r),Bx(t,e,r,u))}else s=$x(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function jx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fs(r)!==0)return t[wi(r)]}function Bx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[wi(i)]=r}function $x(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=aa(r,o,n)}return aa(r,e.attrs,n)}function kf(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=aa(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function aa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),qM(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Hx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],f=Px(l)?YE(u,e,n,i,Fs(l),o):void 0;if(!Gu(f)){Gu(s)||Rx(l)&&(s=YE(u,null,n,i,a,o));let p=OI(Us(),n);ZN(r,o,p,i,s)}}function YE(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,p=f===null,y=n[i+1];y===js&&(y=p?Yt:void 0);let E=p?bf(y,r):f===r?y:void 0;if(l&&!Gu(E)&&(E=bf(u,r)),Gu(E)&&(a=E,o))return a;let C=t[i+1];i=o?wi(C):Fs(C)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=bf(u,r))}return a}function Gu(t){return t!==void 0}function qx(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=wt(pa(t)))),t}function zx(t,e){return(t.flags&(e?8:16))!==0}function Gx(t,e,n,r,i,s){let o=e.consts,a=Fu(o,i),u=ol(e,t,2,r,a);return kD(e,n,u,Fu(o,s)),u.attrs!==null&&dp(u,u.attrs,!1),u.mergedAttrs!==null&&dp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function Z(t,e,n,r){let i=Me(),s=Lt(),o=qn+t,a=i[Ge],u=s.firstCreatePass?Gx(o,s,i,e,n,r):s.data[o],l=Wx(s,i,u,a,e,t);i[o]=l;let f=Mp(u);return ha(u,!0),bD(a,l,u),!Tx(u)&&kp()&&Qp(s,i,l,u),xR()===0&&yi(l,i),OR(),f&&(ND(s,i,u),RD(s,u,i)),r!==null&&PD(i,u),Z}function ee(){let t=Nt();jI()?jR():(t=t.parent,ha(t,!1));let e=t;LR(e)&&VR(),kR();let n=Lt();return n.firstCreatePass&&(Lp(n,t),MI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eN(e)&&QE(n,e,Me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tN(e)&&QE(n,e,Me(),e.stylesWithoutHost,!1),ee}function bt(t,e,n,r){return Z(t,e,n,r),ee(),bt}var Wx=(t,e,n,r,i,s)=>(Fp(!0),yD(r,i,YR()));function pl(){return Me()}var Wu="en-US";var Kx=Wu;function Qx(t){typeof t=="string"&&(Kx=t.toLowerCase().replace(/_/g,"-"))}function dt(t,e,n,r){let i=Me(),s=Lt(),o=Nt();return YD(s,i,i[Ge],o,t,e,r),dt}function Yx(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[na],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function YD(t,e,n,r,i,s,o){let a=Mp(r),l=t.firstCreatePass&&TP(t),f=e[cn],p=bP(e),y=!0;if(r.type&3||o){let M=Zt(r,e),R=o?o(M):M,F=p.length,B=o?K=>o(vn(K[r.index])):r.index,j=null;if(!o&&a&&(j=Yx(t,e,i,r.index)),j!==null){let K=j.__ngLastListenerFn__||j;K.__ngNextListenerFn__=s,j.__ngLastListenerFn__=s,y=!1}else{s=ZE(r,e,f,s,!1);let K=n.listen(R,i,s);p.push(s,K),l&&l.push(i,B,F,F+1)}}else s=ZE(r,e,f,s,!1);let E=r.outputs,C;if(y&&E!==null&&(C=E[i])){let M=C.length;if(M)for(let R=0;R<M;R+=2){let F=C[R],B=C[R+1],Ne=e[F][B].subscribe(s),ne=p.length;p.push(s,Ne),l&&l.push(i,r.index,ne,-(ne+1))}}}function JE(t,e,n,r){let i=we(null);try{return pn(6,e,n),n(r)!==!1}catch(s){return jD(t,s),!1}finally{pn(7,e,n),we(i)}}function ZE(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?Mr(t.index,e):e;em(a);let u=JE(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)u=JE(e,n,l,o)&&u,l=l.__ngNextListenerFn__;return i&&u===!1&&o.preventDefault(),u}}function In(t=1){return QR(t)}function JD(t){let e=BR();return AR(e,qn+t)}function _e(t,e=""){let n=Me(),r=Lt(),i=t+qn,s=r.firstCreatePass?ol(r,i,1,e,null):r.data[i],o=Jx(r,n,s,e,t);n[i]=o,kp()&&Qp(r,n,o,s),ha(s,!1)}var Jx=(t,e,n,r,i)=>(Fp(!0),xN(e[Ge],r));function sm(t){return Bs("",t,""),sm}function Bs(t,e,n){let r=Me(),i=Mx(r,t,e,n);return i!==js&&CP(r,Us(),i),Bs}function Di(t,e,n){QD(e)&&(e=e());let r=Me(),i=tl();if(ya(r,i,e)){let s=Lt(),o=Op();OD(s,o,r,t,e,r[Ge],n,!1)}return Di}function $s(t,e){let n=QD(t);return n&&t.set(e),n}function bi(t,e){let n=Me(),r=Lt(),i=Nt();return YD(r,n,n[Ge],i,t,e),bi}function Zx(t,e,n){let r=Lt();if(r.firstCreatePass){let i=Sr(t);vp(n,r.data,r.blueprint,i,!0),vp(e,r.data,r.blueprint,i,!1)}}function vp(t,e,n,r,i){if(t=_t(t),Array.isArray(t))for(let s=0;s<t.length;s++)vp(t[s],e,n,r,i);else{let s=Lt(),o=Me(),a=Nt(),u=Rs(t)?t:_t(t.provide),l=TI(t),f=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Rs(t)||!t.multi){let E=new gi(l,i,te),C=Lf(u,e,i?f:f+y,p);C===-1?(Yf(Uu(a,o),s,u),Ff(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)):(n[C]=E,o[C]=E)}else{let E=Lf(u,e,f+y,p),C=Lf(u,e,f,f+y),M=E>=0&&n[E],R=C>=0&&n[C];if(i&&!R||!i&&!M){Yf(Uu(a,o),s,u);let F=tO(i?eO:Xx,n.length,i,r,l);!i&&R&&(n[C].providerFactory=F),Ff(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(F),o.push(F)}else{let F=ZD(n[i?C:E],l,!i&&r);Ff(s,t,E>-1?E:C,F)}!i&&r&&R&&n[C].componentProviders++}}}function Ff(t,e,n,r){let i=Rs(e),s=dR(e);if(i||s){let u=(s?_t(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function ZD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Xx(t,e,n,r){return _p(this.multi,[])}function eO(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=xs(n,n[fe],this.providerFactory.index,r);s=a.slice(0,o),_p(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],_p(i,s);return s}function _p(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function tO(t,e,n,r,i){let s=new gi(t,n,te);return s.multi=[],s.index=e,s.componentProviders=0,ZD(s,i,r&&!n),s}function ml(t,e=[]){return n=>{n.providersResolver=(r,i)=>Zx(r,i?i(t):t,e)}}var nO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=II(!1,r.type),s=i.length>0?ll([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=H({token:e,providedIn:"environment",factory:()=>new e(G(At))});let t=e;return t})();function Pt(t){ma("NgStandalone"),t.getStandaloneInjector=e=>e.get(nO).getOrCreateStandaloneInjector(t)}function XD(t,e){return WD(t,e)}var Gn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eb=new Gn("17.3.10"),gl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var tb=new z("");function Ti(t){return!!t&&typeof t.then=="function"}function nb(t){return!!t&&typeof t.subscribe=="function"}var yl=new z(""),rb=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=k(yl,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Ti(o))r.push(o);else if(nb(o)){let a=new Promise((u,l)=>{o.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vl=new z("");function rO(){Gw(()=>{throw new P(600,!1)})}function iO(t){return t.isBoundToModule}function sO(t,e,n){try{let r=n();return Ti(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var va=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=k(sD),this.afterRenderEffectManager=k(rm),this.externalTestViews=new Set,this.beforeRender=new at,this.afterTick=new at,this.componentTypes=[],this.components=[],this.isStable=k(dl).hasPendingTasks.pipe(le(r=>!r)),this._injector=k(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof Hu;if(!this._injector.get(rb).done){let E=!s&&vI(r),C=!1;throw new P(405,C)}let a;s?a=r:a=this._injector.get(cl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=iO(a)?void 0:this._injector.get(Ar),l=i||a.selector,f=a.create(It.NULL,[],l,u),p=f.location.nativeElement,y=f.injector.get(tb,null);return y?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Vf(this.components,f),y?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new P(101,!1);let i=we(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(s){this.internalErrorHandler(s)}finally{this.afterTick.next(),this._runningTick=!1,we(i)}}detectChangesInAttachedViews(r){let i=0,s=this.afterRenderEffectManager;for(;;){if(i===$D)throw new P(103,!1);if(r){let o=i===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:u}of this._views)oO(a,o,u)}if(i++,s.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wp(o))&&(s.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>wp(o))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Vf(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(vl,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Vf(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new P(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vf(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oO(t,e,n){!e&&!wp(t)||aO(t,n,e)}function wp(t){return Np(t)}function aO(t,e,n){let r;n?(r=0,t[J]|=1024):t[J]&64?r=0:r=1,HD(t,e,r)}var Ep=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_l=(()=>{let e=class e{compileModuleSync(r){return new mp(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=_I(r),o=gD(s.declarations).reduce((a,u)=>{let l=Cr(u);return l&&a.push(new ks(l)),a},[]);return new Ep(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cO=(()=>{let e=class e{constructor(){this.zone=k(ye),this.applicationRef=k(va)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uO(t){return[{provide:ye,useFactory:t},{provide:Ms,multi:!0,useFactory:()=>{let e=k(cO,{optional:!0});return()=>e.initialize()}},{provide:Ms,multi:!0,useFactory:()=>{let e=k(fO);return()=>{e.initialize()}}},{provide:sD,useFactory:lO}]}function lO(){let t=k(ye),e=k(_n);return n=>t.runOutsideAngular(()=>e.handleError(n))}function dO(t){let e=uO(()=>new ye(hO(t)));return wn([[],e])}function hO(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var fO=(()=>{let e=class e{constructor(){this.subscription=new Le,this.initialized=!1,this.zone=k(ye),this.pendingTasks=k(dl)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pO(){return typeof $localize<"u"&&$localize.locale||Wu}var om=new z("",{providedIn:"root",factory:()=>k(om,se.Optional|se.SkipSelf)||pO()});var ib=new z("");var Au=null;function mO(t=[],e){return It.create({name:e,providers:[{provide:Ju,useValue:"platform"},{provide:ib,useValue:new Set([()=>Au=null])},...t]})}function gO(t=[]){if(Au)return Au;let e=mO(t);return Au=e,rO(),yO(e),e}function yO(t){t.get($p,null)?.forEach(n=>n())}var Ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vO;let t=e;return t})();function vO(t){return _O(Nt(),Me(),(t&16)===16)}function _O(t,e,n){if(el(t)&&!n){let r=Mr(t.index,e);return new vi(r,r)}else if(t.type&47){let r=e[yn];return new vi(r,e)}return null}function sb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=gO(r),s=[dO(),...n||[]],a=new zu({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,u=a.get(ye);return u.run(()=>{a.resolveInjectorInitializers();let l=a.get(_n,null),f;u.runOutsideAngular(()=>{f=u.onError.subscribe({next:E=>{l.handleError(E)}})});let p=()=>a.destroy(),y=i.get(ib);return y.add(p),a.onDestroy(()=>{f.unsubscribe(),y.delete(p)}),sO(l,u,()=>{let E=a.get(rb);return E.runInitializers(),E.donePromise.then(()=>{let C=a.get(om,Wu);Qx(C||Wu);let M=a.get(va);return e!==void 0&&M.bootstrap(e),M})})})}catch(e){return Promise.reject(e)}}function Si(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ob(t){let e=Cr(t);if(!e)return null;let n=new ks(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var lb=null;function er(){return lb}function db(t){lb??=t}var wl=class{};var ht=new z(""),lm=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(wO),providedIn:"platform"});let t=e;return t})(),hb=new z(""),wO=(()=>{let e=class e extends lm{constructor(){super(),this._doc=k(ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return er().getBaseHref(this._doc)}onPopState(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=er().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function dm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ab(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xn(t){return t&&t[0]!=="?"?"?"+t:t}var tr=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(hm),providedIn:"root"});let t=e;return t})(),fb=new z(""),hm=(()=>{let e=class e extends tr{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??k(ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return dm(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xn(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(lm),G(fb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pb=(()=>{let e=class e extends tr{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=dm(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Xn(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(G(lm),G(fb,8))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Hs=(()=>{let e=class e{constructor(r){this._subject=new ct,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=DO(ab(cb(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xn(i))}normalize(r){return e.stripTrailingSlash(IO(this._basePath,cb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xn(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xn(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Xn,e.joinWithSlash=dm,e.stripTrailingSlash=ab,e.\u0275fac=function(i){return new(i||e)(G(tr))},e.\u0275prov=H({token:e,factory:()=>EO(),providedIn:"root"});let t=e;return t})();function EO(){return new Hs(G(tr))}function IO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function cb(t){return t.replace(/\/index.html$/,"")}function DO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function mb(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Pr=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new am,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ub("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ub("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(te(ga),te(tm))},e.\u0275dir=Rt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),am=class{constructor(){this.$implicit=null,this.ngIf=null}};function ub(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${wt(e)}'.`)}var _a=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})(),fm="browser",bO="server";function TO(t){return t===fm}function pm(t){return t===bO}var gb=(()=>{let e=class e{};e.\u0275prov=H({token:e,providedIn:"root",factory:()=>TO(k(En))?new cm(k(ht),window):new um});let t=e;return t})(),cm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=CO(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function CO(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var um=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},El=class{};var vm=class extends wl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},_m=class t extends vm{static makeCurrent(){db(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=SO();return n==null?null:AO(n)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return mb(document.cookie,e)}},wa=null;function SO(){return wa=wa||document.querySelector("base"),wa?wa.getAttribute("href"):null}function AO(t){return new URL(t,document.baseURI).pathname}var MO=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),wm=new z(""),_b=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(G(wm),G(ye))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Il=class{constructor(e){this._doc=e}},gm="ng-app-id",wb=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pm(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${gm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(gm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(gm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(G(ht),G(Bp),G(qp,8),G(En))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Im=/%COMP%/g,Eb="%COMP%",RO=`_nghost-${Eb}`,NO=`_ngcontent-${Eb}`,PO=!0,xO=new z("",{providedIn:"root",factory:()=>PO});function OO(t){return NO.replace(Im,t)}function kO(t){return RO.replace(Im,t)}function Ib(t,e){return e.map(n=>n.replace(Im,t))}var Dl=(()=>{let e=class e{constructor(r,i,s,o,a,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=pm(u),this.defaultRenderer=new Ea(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===gn.ShadowDom&&(i=Ie(L({},i),{encapsulation:gn.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof bl?s.applyToHost(r):s instanceof Ia&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(i.encapsulation){case gn.Emulated:o=new bl(l,f,i,this.appId,p,a,u,y);break;case gn.ShadowDom:return new Em(l,f,r,i,a,u,this.nonce,y);default:o=new Ia(l,f,i,p,a,u,y);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(G(_b),G(wb),G(Bp),G(xO),G(ht),G(En),G(ye),G(qp))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),Ea=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ym[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(yb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(yb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=ym[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=ym[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(zn.DashCase|zn.Important)?e.style.setProperty(n,r,i&zn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&zn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=er().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function yb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Em=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Ib(i.id,i.styles);for(let f of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ia=class extends Ea{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Ib(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bl=class extends Ia{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=OO(l),this.hostAttr=kO(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},FO=(()=>{let e=class e extends Il{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(G(ht))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),vb=["alt","control","meta","shift"],LO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},UO=(()=>{let e=class e extends Il{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>er().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),vb.forEach(f=>{let p=i.indexOf(f);p>-1&&(i.splice(p,1),a+=f+".")}),a+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=LO[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),vb.forEach(a=>{if(a!==s){let u=VO[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(G(ht))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function Db(t,e){return sb(L({rootComponent:t},jO(e)))}function jO(t){return{appProviders:[...zO,...t?.providers??[]],platformProviders:qO}}function BO(){_m.makeCurrent()}function $O(){return new _n}function HO(){return dD(document),document}var qO=[{provide:En,useValue:fm},{provide:$p,useValue:BO,multi:!0},{provide:ht,useFactory:HO,deps:[]}];var zO=[{provide:Ju,useValue:"root"},{provide:_n,useFactory:$O,deps:[]},{provide:wm,useClass:FO,multi:!0,deps:[ht,ye,En]},{provide:wm,useClass:UO,multi:!0,deps:[ht]},Dl,wb,_b,{provide:_i,useExisting:Dl},{provide:El,useClass:MO,deps:[]},[]];var bb=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(G(ht))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Va=Symbol("RouteTitle"),Sm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ks(t){return new Sm(t)}function WO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function KO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dn(t[n],e[n]))return!1;return!0}function Dn(t,e){let n=t?Am(t):void 0,r=e?Am(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!xb(t[i],e[i]))return!1;return!0}function Am(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function xb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Ob(t){return t.length>0?t[t.length-1]:null}function Lr(t){return yf(t)?t:Ti(t)?Pe(Promise.resolve(t)):Y(t)}var QO={exact:Fb,subset:Lb},kb={exact:YO,subset:JO,ignored:()=>!0};function Tb(t,e,n){return QO[n.paths](t.root,e.root,n.matrixParams)&&kb[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YO(t,e){return Dn(t,e)}function Fb(t,e,n){if(!Mi(t.segments,e.segments)||!Sl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Fb(t.children[r],e.children[r],n))return!1;return!0}function JO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>xb(t[n],e[n]))}function Lb(t,e,n){return Vb(t,e,e.segments,n)}function Vb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Mi(i,n)||e.hasChildren()||!Sl(i,n,r))}else if(t.segments.length===n.length){if(!Mi(t.segments,n)||!Sl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Lb(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Mi(t.segments,i)||!Sl(t.segments,i,r)||!t.children[re]?!1:Vb(t.children[re],e,s,r)}}function Sl(t,e,n){return e.every((r,i)=>kb[n](t[i].parameters,r.parameters))}var xr=class{constructor(e=new Ee([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){return ek.serialize(this)}},Ee=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Al(this)}},Ai=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ks(this.parameters),this._parameterMap}toString(){return jb(this)}};function ZO(t,e){return Mi(t,e)&&t.every((n,r)=>Dn(n.parameters,e[r].parameters))}function Mi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function XO(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var Ua=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>new Ma,providedIn:"root"});let t=e;return t})(),Ma=class{parse(e){let n=new Rm(e);return new xr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Da(e.root,!0)}`,r=rk(e.queryParams),i=typeof e.fragment=="string"?`#${tk(e.fragment)}`:"";return`${n}${r}${i}`}},ek=new Ma;function Al(t){return t.segments.map(e=>jb(e)).join("/")}function Da(t,e){if(!t.hasChildren())return Al(t);if(e){let n=t.children[re]?Da(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Da(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=XO(t,(r,i)=>i===re?[Da(t.children[re],!1)]:[`${i}:${Da(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Al(t)}/${n[0]}`:`${Al(t)}/(${n.join("//")})`}}function Ub(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(t){return Ub(t).replace(/%3B/gi,";")}function tk(t){return encodeURI(t)}function Mm(t){return Ub(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ml(t){return decodeURIComponent(t)}function Cb(t){return Ml(t.replace(/\+/g,"%20"))}function jb(t){return`${Mm(t.path)}${nk(t.parameters)}`}function nk(t){return Object.entries(t).map(([e,n])=>`;${Mm(e)}=${Mm(n)}`).join("")}function rk(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Tl(n)}=${Tl(i)}`).join("&"):`${Tl(n)}=${Tl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ik=/^[^\/()?;#]+/;function Dm(t){let e=t.match(ik);return e?e[0]:""}var sk=/^[^\/()?;=#]+/;function ok(t){let e=t.match(sk);return e?e[0]:""}var ak=/^[^=?&#]+/;function ck(t){let e=t.match(ak);return e?e[0]:""}var uk=/^[^&#]+/;function lk(t){let e=t.match(uk);return e?e[0]:""}var Rm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ee([],{}):new Ee([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ee(e,n)),r}parseSegment(){let e=Dm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new Ai(Ml(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=ok(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Dm(this.remaining);i&&(r=i,this.capture(r))}e[Ml(n)]=Ml(r)}parseQueryParam(e){let n=ck(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=lk(this.remaining);o&&(r=o,this.capture(r))}let i=Cb(n),s=Cb(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Dm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[re]:new Ee([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function Bb(t){return t.segments.length>0?new Ee([],{[re]:t}):t}function $b(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=$b(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Ee(t.segments,e);return dk(n)}function dk(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ee(t.segments.concat(e.segments),e.children)}return t}function Qs(t){return t instanceof xr}function hk(t,e,n=null,r=null){let i=Hb(t);return qb(i,e,n,r)}function Hb(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new Ee(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=Bb(r);return e??i}function qb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return bm(i,i,i,n,r);let s=fk(e);if(s.toRoot())return bm(i,i,new Ee([],{}),n,r);let o=pk(s,i,t),a=o.processChildren?Ca(o.segmentGroup,o.index,s.commands):Gb(o.segmentGroup,o.index,s.commands);return bm(i,o.segmentGroup,a,n,r)}function Rl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ra(t){return typeof t=="object"&&t!=null&&t.outlets}function bm(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let o;t===e?o=n:o=zb(t,e,n);let a=Bb($b(o));return new xr(a,s,i)}function zb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=zb(s,e,n)}),new Ee(t.segments,r)}var Nl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Rl(r[0]))throw new P(4003,!1);let i=r.find(Ra);if(i&&i!==Ob(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fk(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nl(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Nl(n,e,r)}var Gs=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function pk(t,e,n){if(t.isAbsolute)return new Gs(e,!0,0);if(!n)return new Gs(e,!1,NaN);if(n.parent===null)return new Gs(n,!0,0);let r=Rl(t.commands[0])?0:1,i=n.segments.length-1+r;return mk(n,i,t.numberOfDoubleDots)}function mk(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new Gs(r,!1,i-s)}function gk(t){return Ra(t[0])?t[0].outlets:{[re]:t}}function Gb(t,e,n){if(t??=new Ee([],{}),t.segments.length===0&&t.hasChildren())return Ca(t,e,n);let r=yk(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Ee(t.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ee(t.segments.slice(r.pathIndex),t.children),Ca(s,0,i)}else return r.match&&i.length===0?new Ee(t.segments,{}):r.match&&!t.hasChildren()?Nm(t,e,n):r.match?Ca(t,0,i):Nm(t,e,n)}function Ca(t,e,n){if(n.length===0)return new Ee(t.segments,{});{let r=gk(n),i={};if(Object.keys(r).some(s=>s!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let s=Ca(t.children[re],e,n);return new Ee(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Gb(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ee(t.segments,i)}}function yk(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ra(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ab(u,l,o))return s;r+=2}else{if(!Ab(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Nm(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ra(s)){let u=vk(s.outlets);return new Ee(r,u)}if(i===0&&Rl(n[0])){let u=t.segments[e];r.push(new Ai(u.path,Sb(n[0]))),i++;continue}let o=Ra(s)?s.outlets[re]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Rl(a)?(r.push(new Ai(o,Sb(a))),i+=2):(r.push(new Ai(o,{})),i++)}return new Ee(r,{})}function vk(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Nm(new Ee([],{}),0,r))}),e}function Sb(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ab(t,e,n){return t==n.path&&Dn(e,n.parameters)}var Sa="imperative",Je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Je||{}),Xt=class{constructor(e,n){this.id=e,this.url=n}},Ys=class extends Xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bn=class extends Xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ut||{}),Pl=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Pl||{}),Or=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Je.NavigationSkipped}},Na=class extends Xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},xl=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pm=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xm=class extends Xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Om=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},km=class extends Xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Lm=class{constructor(e){this.route=e,this.type=Je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Vm=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Um=class{constructor(e){this.snapshot=e,this.type=Je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},jm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Bm=class{constructor(e){this.snapshot=e,this.type=Je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ol=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=Je.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Pa=class{},xa=class{constructor(e){this.url=e}};var $m=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ja,this.attachRef=null}},ja=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new $m,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Hm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Hm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=qm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return qm(e,this._root).map(n=>n.value)}};function Hm(t,e){if(t===e.value)return e;for(let n of e.children){let r=Hm(t,n);if(r)return r}return null}function qm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=qm(t,n);if(r.length)return r.unshift(e),r}return[]}var Vt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function zs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Fl=class extends kl{constructor(e,n){super(e),this.snapshot=n,eg(this,e)}toString(){return this.snapshot.toString()}};function Wb(t){let e=_k(t),n=new qe([new Ai("",{})]),r=new qe({}),i=new qe({}),s=new qe({}),o=new qe(""),a=new Fr(n,r,s,o,i,re,t,e.root);return a.snapshot=e.root,new Fl(new Vt(a,[]),e)}function _k(t){let e={},n={},r={},i="",s=new Oa([],e,r,i,n,re,t,null,{});return new Ll("",new Vt(s,[]))}var Fr=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(l=>l[Va]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Ks(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Ks(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xm(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&Qb(i)&&(r.resolve[Va]=i.title),r}var Oa=class{get title(){return this.data?.[Va]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ks(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ks(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Ll=class extends kl{constructor(e,n){super(n),this.url=e,eg(this,n)}toString(){return Kb(this._root)}};function eg(t,e){e.value._routerState=t,e.children.forEach(n=>eg(t,n))}function Kb(t){let e=t.children.length>0?` { ${t.children.map(Kb).join(", ")} } `:"";return`${t.value}${e}`}function Tm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dn(e.params,n.params)||t.paramsSubject.next(n.params),KO(e.url,n.url)||t.urlSubject.next(n.url),Dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function zm(t,e){let n=Dn(t.params,e.params)&&ZO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||zm(t.parent,e.parent))}function Qb(t){return typeof t.title=="string"||t.title===null}var tg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new ct,this.deactivateEvents=new ct,this.attachEvents=new ct,this.detachEvents=new ct,this.parentContexts=k(ja),this.location=k(ga),this.changeDetector=k(Ci),this.environmentInjector=k(At),this.inputBinder=k(Bl,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Gm(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ei]});let t=e;return t})(),Gm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Fr?this.route:e===ja?this.childContexts:this.parent.get(e,n)}},Bl=new z(""),Mb=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,s=Yo([i.queryParams,i.params,i.data]).pipe(Kt(([o,a,u],l)=>(u=L(L(L({},o),a),u),l===0?Y(u):Promise.resolve(u)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=ob(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,o[u])});this.outletDataSubscriptions.set(r,s)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function wk(t,e,n){let r=ka(t,e._root,n?n._root:void 0);return new Fl(r,e)}function ka(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ek(t,e,n);return new Vt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>ka(t,a)),o}}let r=Ik(e.value),i=e.children.map(s=>ka(t,s));return new Vt(r,i)}}function Ek(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ka(t,r,i);return ka(t,r)})}function Ik(t){return new Fr(new qe(t.url),new qe(t.params),new qe(t.queryParams),new qe(t.fragment),new qe(t.data),t.outlet,t.component,t)}var Yb="ngNavigationCancelingError";function Jb(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Zb(!1,Ut.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Zb(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Yb]=!0,n.cancellationCode=e,n}function Dk(t){return Xb(t)&&Qs(t.url)}function Xb(t){return!!t&&t[Yb]}var bk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Pt],decls:1,vars:0,template:function(i,s){i&1&&bt(0,"router-outlet")},dependencies:[tg],encapsulation:2});let t=e;return t})();function Tk(t,e){return t.providers&&!t._injector&&(t._injector=ll(t.providers,e,`Route: ${t.path}`)),t._injector??e}function ng(t){let e=t.children&&t.children.map(ng),n=e?Ie(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=bk),n}function Tn(t){return t.outlet||re}function Ck(t,e){let n=t.filter(r=>Tn(r)===e);return n.push(...t.filter(r=>Tn(r)!==e)),n}function Ba(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Sk=(t,e,n,r)=>le(i=>(new Wm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Wm=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=zs(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=zs(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=zs(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Bm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Um(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Tm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Tm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ba(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Vl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ws=class{constructor(e,n){this.component=e,this.route=n}};function Ak(t,e,n){let r=t._root,i=e?e._root:null;return ba(r,i,n,[r.value])}function Mk(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Zs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!nI(t)?t:e.get(t):r}function ba(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=zs(e);return t.children.forEach(o=>{Rk(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Aa(a,n.getContext(o),i)),i}function Rk(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Nk(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Vl(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ba(t,e,a?a.children:null,r,i):ba(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ws(a.outlet.component,o))}else o&&Aa(e,a,i),i.canActivateChecks.push(new Vl(r)),s.component?ba(t,null,a?a.children:null,r,i):ba(t,null,n,r,i);return i}function Nk(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Mi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Mi(t.url,e.url)||!Dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zm(t,e)||!Dn(t.queryParams,e.queryParams);case"paramsChange":default:return!zm(t,e)}}function Aa(t,e,n){let r=zs(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Aa(o,e.children.getContext(s),n):Aa(o,null,n):Aa(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ws(e.outlet.component,i)):n.canDeactivateChecks.push(new Ws(null,i)):n.canDeactivateChecks.push(new Ws(null,i))}function $a(t){return typeof t=="function"}function Pk(t){return typeof t=="boolean"}function xk(t){return t&&$a(t.canLoad)}function Ok(t){return t&&$a(t.canActivate)}function kk(t){return t&&$a(t.canActivateChild)}function Fk(t){return t&&$a(t.canDeactivate)}function Lk(t){return t&&$a(t.canMatch)}function eT(t){return t instanceof $n||t?.name==="EmptyError"}var Cl=Symbol("INITIAL_VALUE");function Js(){return Kt(t=>Yo(t.map(e=>e.pipe(Hn(1),If(Cl)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Cl)return Cl;if(n===!1||n instanceof xr)return n}return!0}),Wt(e=>e!==Cl),Hn(1)))}function Vk(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?Y(Ie(L({},n),{guardsResult:!0})):Uk(o,r,i,t).pipe(je(a=>a&&Pk(a)?jk(r,s,t,e):Y(a)),le(a=>Ie(L({},n),{guardsResult:a})))})}function Uk(t,e,n,r){return Pe(t).pipe(je(i=>zk(i.component,i.route,n,e,r)),fn(i=>i!==!0,!0))}function jk(t,e,n,r){return Pe(e).pipe(ui(i=>_s($k(i.route.parent,r),Bk(i.route,r),qk(t,i.path,n),Hk(t,i.route,n))),fn(i=>i!==!0,!0))}function Bk(t,e){return t!==null&&e&&e(new jm(t)),Y(!0)}function $k(t,e){return t!==null&&e&&e(new Vm(t)),Y(!0)}function Hk(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(s=>vu(()=>{let o=Ba(e)??n,a=Zs(s,o),u=Ok(a)?a.canActivate(e,t):Qn(o,()=>a(e,t));return Lr(u).pipe(fn())}));return Y(i).pipe(Js())}function qk(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Mk(o)).filter(o=>o!==null).map(o=>vu(()=>{let a=o.guards.map(u=>{let l=Ba(o.node)??n,f=Zs(u,l),p=kk(f)?f.canActivateChild(r,t):Qn(l,()=>f(r,t));return Lr(p).pipe(fn())});return Y(a).pipe(Js())}));return Y(s).pipe(Js())}function zk(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Y(!0);let o=s.map(a=>{let u=Ba(e)??i,l=Zs(a,u),f=Fk(l)?l.canDeactivate(t,e,n,r):Qn(u,()=>l(t,e,n,r));return Lr(f).pipe(fn())});return Y(o).pipe(Js())}function Gk(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let s=i.map(o=>{let a=Zs(o,t),u=xk(a)?a.canLoad(e,n):Qn(t,()=>a(e,n));return Lr(u)});return Y(s).pipe(Js(),tT(r))}function tT(t){return uf(ze(e=>{if(Qs(e))throw Jb(t,e)}),le(e=>e===!0))}function Wk(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let s=i.map(o=>{let a=Zs(o,t),u=Lk(a)?a.canMatch(e,n):Qn(t,()=>a(e,n));return Lr(u)});return Y(s).pipe(Js(),tT(r))}var Fa=class{constructor(e){this.segmentGroup=e||null}},Ul=class extends Error{constructor(e){super(),this.urlTree=e}};function qs(t){return ys(new Fa(t))}function Kk(t){return ys(new P(4e3,!1))}function Qk(t){return ys(Zb(!1,Ut.GuardRejected))}var Km=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[re])return Kk(e.redirectTo);i=i.children[re]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Ul(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new xr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ee(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yk(t,e,n,r,i){let s=rg(t,e,n);return s.matched?(r=Tk(e,r),Wk(r,e,n,i).pipe(le(o=>o===!0?s:L({},Qm)))):Y(s)}function rg(t,e,n){if(e.path==="**")return Jk(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Qm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WO)(n,t,e);if(!i)return L({},Qm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?L(L({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Jk(t){return{matched:!0,parameters:t.length>0?Ob(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Rb(t,e,n,r){return n.length>0&&e1(t,n,r)?{segmentGroup:new Ee(e,Xk(r,new Ee(n,t.children))),slicedSegments:[]}:n.length===0&&t1(t,n,r)?{segmentGroup:new Ee(t.segments,Zk(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ee(t.segments,t.children),slicedSegments:n}}function Zk(t,e,n,r){let i={};for(let s of n)if($l(t,e,s)&&!r[Tn(s)]){let o=new Ee([],{});i[Tn(s)]=o}return L(L({},r),i)}function Xk(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Tn(r)!==re){let i=new Ee([],{});n[Tn(r)]=i}return n}function e1(t,e,n){return n.some(r=>$l(t,e,r)&&Tn(r)!==re)}function t1(t,e,n){return n.some(r=>$l(t,e,r))}function $l(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function n1(t,e,n,r){return Tn(t)!==r&&(r===re||!$l(e,n,t))?!1:rg(e,t,n).matched}function r1(t,e,n){return e.length===0&&!t.children[n]}var Ym=class{};function i1(t,e,n,r,i,s,o="emptyOnly"){return new Jm(t,e,n,r,i,o,s).recognize()}var s1=31,Jm=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Km(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=Rb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(n=>{let r=new Oa([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),i=new Vt(r,n),s=new Ll("",i),o=hk(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Ir(r=>{if(r instanceof Ul)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Fa?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Xm(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(le(s=>s instanceof Vt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Pe(i).pipe(ui(s=>{let o=r.children[s],a=Ck(n,s);return this.processSegmentGroup(e,a,o,s)}),Ef((s,o)=>(s.push(...o),s)),Dr(null),wf(),je(s=>{if(s===null)return qs(r);let o=nT(s);return o1(o),Y(o)}))}processSegment(e,n,r,i,s,o){return Pe(n).pipe(ui(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(Ir(u=>{if(u instanceof Fa)return Y(null);throw u}))),fn(a=>!!a),Ir(a=>{if(eT(a))return r1(r,i,s)?Y(new Ym):qs(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return n1(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):qs(i):qs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:f}=rg(n,i,s);if(!a)return qs(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>s1&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,p).pipe(je(y=>this.processSegment(e,r,n,y.concat(f),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Yk(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Kt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kt(({routes:u})=>{let l=r._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=a,E=new Oa(f,y,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,c1(r),Tn(r),r.component??r._loadedComponent??null,r,u1(r)),{segmentGroup:C,slicedSegments:M}=Rb(n,f,p,u);if(M.length===0&&C.hasChildren())return this.processChildren(l,u,C).pipe(le(F=>F===null?null:new Vt(E,F)));if(u.length===0&&M.length===0)return Y(new Vt(E,[]));let R=Tn(r)===s;return this.processSegment(l,u,C,M,R?re:s,!0).pipe(le(F=>new Vt(E,F instanceof Vt?[F]:[])))}))):qs(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):Gk(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(ze(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Qk(n))):Y({routes:[],injector:e})}};function o1(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function a1(t){let e=t.value.routeConfig;return e&&e.path===""}function nT(t){let e=[],n=new Set;for(let r of t){if(!a1(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=nT(r.children);e.push(new Vt(r.value,i))}return e.filter(r=>!n.has(r))}function c1(t){return t.data||{}}function u1(t){return t.resolve||{}}function l1(t,e,n,r,i,s){return je(o=>i1(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:u})=>Ie(L({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function d1(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of rT(u))o.add(l);let a=0;return Pe(o).pipe(ui(u=>s.has(u)?h1(u,r,t,e):(u.data=Xm(u,u.parent,t).resolve,Y(void 0))),ze(()=>a++),ws(1),je(u=>a===o.size?Y(n):Ft))})}function rT(t){let e=t.children.map(n=>rT(n)).flat();return[t,...e]}function h1(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Qb(i)&&(s[Va]=i.title),f1(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=Xm(t,t.parent,n).resolve,null)))}function f1(t,e,n,r){let i=Am(t);if(i.length===0)return Y({});let s={};return Pe(i).pipe(je(o=>p1(t[o],e,n,r).pipe(fn(),ze(a=>{s[o]=a}))),ws(1),_f(s),Ir(o=>eT(o)?Ft:ys(o)))}function p1(t,e,n,r){let i=Ba(e)??r,s=Zs(t,i),o=s.resolve?s.resolve(e,n):Qn(i,()=>s(e,n));return Lr(o)}function Cm(t){return Kt(e=>{let n=t(e);return n?Pe(n).pipe(le(()=>e)):Y(e)})}var iT=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[Va]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(m1),providedIn:"root"});let t=e;return t})(),m1=(()=>{let e=class e extends iT{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(G(bb))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ha=new z("",{providedIn:"root",factory:()=>({})}),La=new z(""),ig=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(_l)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Lr(r.loadComponent()).pipe(le(sT),ze(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Jo(()=>{this.componentLoaders.delete(r)})),s=new fs(i,()=>new at).pipe(hs());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=g1(i,this.compiler,r,this.onLoadEndListener).pipe(Jo(()=>{this.childrenLoaders.delete(i)})),a=new fs(o,()=>new at).pipe(hs());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function g1(t,e,n,r){return Lr(t.loadChildren()).pipe(le(sT),je(i=>i instanceof oa||Array.isArray(i)?Y(i):Pe(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(La,[],{optional:!0,self:!0}).flat()),{routes:o.map(ng),injector:s}}))}function y1(t){return t&&typeof t=="object"&&"default"in t}function sT(t){return y1(t)?t.default:t}var sg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(v1),providedIn:"root"});let t=e;return t})(),v1=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oT=new z(""),aT=new z("");function _1(t,e,n){let r=t.get(aT),i=t.get(ht);return t.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),w1(t))),{onViewTransitionCreated:u}=r;return u&&Qn(t,()=>u({transition:a,from:e,to:n})),o})}function w1(t){return new Promise(e=>{ul(e,{injector:t})})}var og=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new at,this.transitionAbortSubject=new at,this.configLoader=k(ig),this.environmentInjector=k(At),this.urlSerializer=k(Ua),this.rootContexts=k(ja),this.location=k(Hs),this.inputBindingEnabled=k(Bl,{optional:!0})!==null,this.titleStrategy=k(iT),this.options=k(Ha,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(sg),this.createViewTransition=k(oT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Fm(s)),i=s=>this.events.next(new Lm(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(Ie(L(L({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new qe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Wt(o=>o.id!==0),le(o=>Ie(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Kt(o=>{let a=!1,u=!1;return Y(o).pipe(Kt(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),Ft;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.rawUrl),y,Pl.IgnoredSameUrlNavigation)),l.resolve(null),Ft}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Kt(y=>{let E=this.transitions?.getValue();return this.events.next(new Ys(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),E!==this.transitions?.getValue()?Ft:Promise.resolve(y)}),l1(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ze(y=>{o.targetSnapshot=y.targetSnapshot,o.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ie(L({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let E=new xl(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(E)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:y,extractedUrl:E,source:C,restoredState:M,extras:R}=l,F=new Ys(y,this.urlSerializer.serialize(E),C,M);this.events.next(F);let B=Wb(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(L({},l),{targetSnapshot:B,urlAfterRedirects:E,extras:Ie(L({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=E,Y(o)}else{let y="";return this.events.next(new kr(l.id,this.urlSerializer.serialize(l.extractedUrl),y,Pl.IgnoredByUrlHandlingStrategy)),l.resolve(null),Ft}}),ze(l=>{let f=new Pm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),le(l=>(this.currentTransition=o=Ie(L({},l),{guards:Ak(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),Vk(this.environmentInjector,l=>this.events.next(l)),ze(l=>{if(o.guardsResult=l.guardsResult,Qs(l.guardsResult))throw Jb(this.urlSerializer,l.guardsResult);let f=new xm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Wt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),Cm(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(ze(f=>{let p=new Om(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Kt(f=>{let p=!1;return Y(f).pipe(d1(this.paramsInheritanceStrategy,this.environmentInjector),ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",Ut.NoDataFromResolver)}}))}),ze(f=>{let p=new km(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Cm(l=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(ze(E=>{p.component=E}),le(()=>{})));for(let E of p.children)y.push(...f(E));return y};return Yo(f(l.targetSnapshot.root)).pipe(Dr(null),Hn(1))}),Cm(()=>this.afterPreactivation()),Kt(()=>{let{currentSnapshot:l,targetSnapshot:f}=o,p=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return p?Pe(p).pipe(le(()=>o)):Y(o)}),le(l=>{let f=wk(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ie(L({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),ze(()=>{this.events.next(new Pa)}),Sk(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Hn(1),ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Df(this.transitionAbortSubject.pipe(ze(l=>{throw l}))),Jo(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ir(l=>{if(u=!0,Xb(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),Dk(l)?this.events.next(new xa(l.url)):o.resolve(!1);else{this.events.next(new Na(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(f){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(f)}}return Ft}))}))}cancelNavigationTransition(r,i,s){let o=new Or(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function E1(t){return t!==Sa}var I1=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(D1),providedIn:"root"});let t=e;return t})(),Zm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},D1=(()=>{let e=class e extends Zm{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fa(e)))(s||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),cT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:()=>k(b1),providedIn:"root"});let t=e;return t})(),b1=(()=>{let e=class e extends cT{constructor(){super(...arguments),this.location=k(Hs),this.urlSerializer=k(Ua),this.options=k(Ha,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(sg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Wb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ys)this.stateMemento=this.createStateMemento();else if(r instanceof kr)this.rawUrlTree=i.initialUrl;else if(r instanceof xl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Pa?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Or&&(r.code===Ut.GuardRejected||r.code===Ut.NoDataFromResolver)?this.restoreHistory(i):r instanceof Na?this.restoreHistory(i,!0):r instanceof bn&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=L(L({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=L(L({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fa(e)))(s||e)}})(),e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ta=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ta||{});function uT(t,e){t.events.pipe(Wt(n=>n instanceof bn||n instanceof Or||n instanceof Na||n instanceof kr),le(n=>n instanceof bn||n instanceof kr?Ta.COMPLETE:(n instanceof Or?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?Ta.REDIRECTING:Ta.FAILED),Wt(n=>n!==Ta.REDIRECTING),Hn(1)).subscribe(()=>{e()})}function T1(t){throw t}var C1={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S1={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},nt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=k(gl),this.stateManager=k(cT),this.options=k(Ha,{optional:!0})||{},this.pendingTasks=k(dl),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(og),this.urlSerializer=k(Ua),this.location=k(Hs),this.urlHandlingStrategy=k(sg),this._events=new at,this.errorHandler=this.options.errorHandler||T1,this.navigated=!1,this.routeReuseStrategy=k(I1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(La,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Bl,{optional:!0}),this.eventsSubscription=new Le,this.isNgZoneEnabled=k(ye)instanceof ye&&ye.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Or&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof bn)this.navigated=!0;else if(i instanceof xa){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||E1(s.source)};this.scheduleNavigation(a,Sa,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}M1(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let l=L({},s);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(ng),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:a,p=null;switch(u){case"merge":p=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let E=s?s.snapshot:this.routerState.snapshot.root;y=Hb(E)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),y=this.currentUrlTree.root}return qb(y,r,p,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Qs(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Sa,null,i)}navigate(r,i={skipLocationChange:!1}){return A1(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=L({},C1):i===!1?s=L({},S1):s=i,Qs(r))return Tb(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Tb(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,l,f;a?(u=a.resolve,l=a.reject,f=a.promise):f=new Promise((y,E)=>{u=y,l=E});let p=this.pendingTasks.add();return uT(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A1(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new P(4008,!1)}function M1(t){return!(t instanceof Pa)&&!(t instanceof xa)}var lT=(()=>{let e=class e{constructor(r,i,s,o,a,u){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=u,this.href=null,this.commands=null,this.onChanges=new at,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof bn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:pD(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(te(nt),te(Fr),Up("tabindex"),te(Ii),te(Rr),te(tr))},e.\u0275dir=Rt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&dt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&hl("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[ut.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Si],skipLocationChange:[ut.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Si],replaceUrl:[ut.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Si],routerLink:"routerLink"},standalone:!0,features:[im,Ei]});let t=e;return t})();var jl=class{};var R1=(()=>{let e=class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Wt(r=>r instanceof bn),ui(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=ll(o.providers,r,`Route: ${o.path}`));let a=o._injector??r,u=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(u,o.children??o._loadedRoutes))}return Pe(s).pipe(vs())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(r,i):s=Y(null);let o=s.pipe(je(a=>a===null?Y(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Pe([o,a]).pipe(vs())}else return o})}};e.\u0275fac=function(i){return new(i||e)(G(nt),G(_l),G(At),G(jl),G(ig))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dT=new z(""),N1=(()=>{let e=class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=k(At),a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ys?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof bn?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof kr&&r.code===Pl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Ol&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>D(this,null,function*(){yield new Promise(s=>{setTimeout(()=>{s()}),ul(()=>{s()},{injector:this.environmentInjector})}),this.zone.run(()=>{this.transitions.events.next(new Ol(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){CD()},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function hT(t,...e){return wn([{provide:La,multi:!0,useValue:t},[],{provide:Fr,useFactory:fT,deps:[nt]},{provide:vl,multi:!0,useFactory:pT},e.map(n=>n.\u0275providers)])}function fT(t){return t.routerState.root}function qa(t,e){return{\u0275kind:t,\u0275providers:e}}function pT(){let t=k(It);return e=>{let n=t.get(va);if(e!==n.components[0])return;let r=t.get(nt),i=t.get(mT);t.get(ag)===1&&r.initialNavigation(),t.get(gT,null,se.Optional)?.setUpPreloading(),t.get(dT,null,se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mT=new z("",{factory:()=>new at}),ag=new z("",{providedIn:"root",factory:()=>1});function P1(){return qa(2,[{provide:ag,useValue:0},{provide:yl,multi:!0,deps:[It],useFactory:e=>{let n=e.get(hb,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(nt),s=e.get(mT);uT(i,()=>{r(!0)}),e.get(og).afterPreactivation=()=>(r(!0),s.closed?Y(void 0):s),i.initialNavigation()}))}}])}function x1(){return qa(3,[{provide:yl,multi:!0,useFactory:()=>{let e=k(nt);return()=>{e.setUpLocationChangeListener()}}},{provide:ag,useValue:2}])}var gT=new z("");function O1(t){return qa(0,[{provide:gT,useExisting:R1},{provide:jl,useExisting:t}])}function k1(){return qa(8,[Mb,{provide:Bl,useExisting:Mb}])}function F1(t){let e=[{provide:oT,useValue:_1},{provide:aT,useValue:L({skipNextTransition:!!t?.skipInitialTransition},t)}];return qa(9,e)}var Nb=new z("ROUTER_FORROOT_GUARD"),L1=[Hs,{provide:Ua,useClass:Ma},nt,ja,{provide:Fr,useFactory:fT,deps:[nt]},ig,[]],Hl=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[L1,[],{provide:La,multi:!0,useValue:r},{provide:Nb,useFactory:B1,deps:[[nt,new Et,new uI]]},{provide:Ha,useValue:i||{}},i?.useHash?U1():j1(),V1(),i?.preloadingStrategy?O1(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?$1(i):[],i?.bindToComponentInputs?k1().\u0275providers:[],i?.enableViewTransitions?F1().\u0275providers:[],H1()]}}static forChild(r){return{ngModule:e,providers:[{provide:La,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(G(Nb,8))},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();function V1(){return{provide:dT,useFactory:()=>{let t=k(gb),e=k(ye),n=k(Ha),r=k(og),i=k(Ua);return n.scrollOffset&&t.setOffset(n.scrollOffset),new N1(i,r,t,e,n)}}}function U1(){return{provide:tr,useClass:pb}}function j1(){return{provide:tr,useClass:hm}}function B1(t){return"guarded"}function $1(t){return[t.initialNavigation==="disabled"?x1().\u0275providers:[],t.initialNavigation==="enabledBlocking"?P1().\u0275providers:[]]}var Pb=new z("");function H1(){return[{provide:Pb,useFactory:pT},{provide:vl,multi:!0,useExisting:Pb}]}var ie=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(ie||{}),Cn="*";function Ri(t,e){return{type:ie.Trigger,name:t,definitions:e,options:{}}}function Sn(t,e=null){return{type:ie.Animate,styles:e,timings:t}}function yT(t,e=null){return{type:ie.Sequence,steps:t,options:e}}function rt(t){return{type:ie.Style,styles:t,offset:null}}function An(t,e,n=null){return{type:ie.Transition,expr:t,animation:e,options:n}}var Vr=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},za=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},zl="!";var vT=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["app-about-me"]],standalone:!0,features:[Pt],decls:17,vars:1,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","font-size","1.3rem"],[1,"card-body"],[1,"text-center"],["src","assets/1.jpg","alt","Profile Picture",1,"img-fluid","rounded-circle","mb-3",2,"max-width","250px","height","auto"],[1,"card-title",2,"color","white","font-size","2rem"],[1,"card-subtitle",2,"color","white","font-size","1.2rem"],[1,"card-title",2,"color","white","font-size","1.3rem"],[1,"card-text",2,"color","white","font-size","1.1rem"]],template:function(i,s){i&1&&(Z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_e(5,"About me"),ee(),Z(6,"div",5)(7,"div",6),bt(8,"img",7),Z(9,"h3",8),_e(10,"Serena Dematei"),ee(),Z(11,"p",9),_e(12,"Programming Student - Universidad Tecnol\xF3gica Nacional"),ee(),Z(13,"h4",10),_e(14," GAME NAME "),ee(),Z(15,"p",11),_e(16," Loremm ipsum dolor sit amet consectetur adipisicing elit. Ratione non qui voluptas ipsam, perferendis illo soluta omnis eveniet cumque impedit aperiam, perspiciatis labore modi! Placeat hic impedit ipsum cumque tempora?"),ee()()()()()()()),i&2&&Dt("@fadeInOut",void 0)},data:{animation:[Ri("fadeInOut",[An(":enter",[rt({opacity:0}),Sn("800ms",rt({opacity:1}))]),An(":leave",[Sn("800ms",rt({opacity:0}))])]),Ri("slideInFromTop",[An(":enter",[rt({transform:"translateY(-50px)",opacity:0}),Sn("500ms ease-out",rt({transform:"translateY(0)",opacity:1}))])])]}});let t=e;return t})();var wT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},q1=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ET={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=s>>2,p=(s&3)<<4|a>>4,y=(a&15)<<2|l>>6,E=l&63;u||(E=64,o||(y=64)),r.push(n[f],n[p],n[y],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):q1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new ug;let y=s<<2|a>>4;if(r.push(y),l!==64){let E=a<<4&240|l>>2;if(r.push(E),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},z1=function(t){let e=wT(t);return ET.encodeByteArray(e,!0)},Ga=function(t){return z1(t).replace(/\./g,"")},dg=function(t){try{return ET.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var W1=()=>G1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dg(t[1]);return e&&JSON.parse(e)},Wl=()=>{try{return W1()||K1()||Q1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hg=t=>{var e,n;return(n=(e=Wl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IT=t=>{let e=hg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fg=()=>{var t;return(t=Wl())===null||t===void 0?void 0:t.config},pg=t=>{var e;return(e=Wl())===null||e===void 0?void 0:e[`_${t}`]};var Gl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function DT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ga(JSON.stringify(n)),Ga(JSON.stringify(o)),""].join(".")}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Y1(){var t;let e=(t=Wl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ST(){let t=We();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function AT(){return!Y1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mg(){try{return typeof indexedDB=="object"}catch{return!1}}function MT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var J1="FirebaseError",jt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J1,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nr.prototype.create)}},nr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Z1(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new jt(i,a,r)}};function Z1(t,e){return t.replace(X1,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var X1=/\{\$([^}]+)}/g;function RT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(_T(s)&&_T(o)){if(!Ni(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function _T(t){return t!==null&&typeof t=="object"}function Wa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xs(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function eo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NT(t,e){let n=new lg(t,e);return n.subscribe.bind(n)}var lg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cg),i.error===void 0&&(i.error=cg),i.complete===void 0&&(i.complete=cg);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function eF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cg(){}var M9=4*60*60*1e3;function ft(t){return t&&t._delegate?t._delegate:t}var en=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Pi="[DEFAULT]";var gg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Gl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nF(e))try{this.getOrInitializeService({instanceIdentifier:Pi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Pi){return this.instances.has(e)}getOptions(e=Pi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pi){return this.component?this.component.multipleInstances?e:Pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tF(t){return t===Pi?void 0:t}function nF(t){return t.instantiationMode==="EAGER"}var Kl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var rF=[],de=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(de||{}),iF={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},sF=de.INFO,oF={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},aF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=oF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ur=class{constructor(e){this.name=e,this._logLevel=sF,this._logHandler=aF,this._userLogHandler=null,rF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var cF=(t,e)=>e.some(n=>t instanceof n),PT,xT;function uF(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lF(){return xT||(xT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var OT=new WeakMap,vg=new WeakMap,kT=new WeakMap,yg=new WeakMap,wg=new WeakMap;function dF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Mn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OT.set(n,t)}).catch(()=>{}),wg.set(e,t),e}function hF(t){if(vg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vg.set(t,e)}var _g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function FT(t){_g=t(_g)}function fF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ql(this),e,...n);return kT.set(r,e.sort?e.sort():[e]),Mn(r)}:lF().includes(t)?function(...e){return t.apply(Ql(this),e),Mn(OT.get(this))}:function(...e){return Mn(t.apply(Ql(this),e))}}function pF(t){return typeof t=="function"?fF(t):(t instanceof IDBTransaction&&hF(t),cF(t,uF())?new Proxy(t,_g):t)}function Mn(t){if(t instanceof IDBRequest)return dF(t);if(yg.has(t))return yg.get(t);let e=pF(t);return e!==t&&(yg.set(t,e),wg.set(e,t)),e}var Ql=t=>wg.get(t);function VT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Mn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Mn(o.result),u.oldVersion,u.newVersion,Mn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var mF=["get","getKey","getAll","getAllKeys","count"],gF=["put","add","delete","clear"],Eg=new Map;function LT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Eg.get(e))return Eg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=gF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mF.includes(n)))return;let s=function(o,...a){return D(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Eg.set(e,s),s}FT(t=>Ie(L({},t),{get:(e,n,r)=>LT(e,n)||t.get(e,n,r),has:(e,n)=>!!LT(e,n)||t.has(e,n)}));var Dg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yF(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function yF(t){let e=t.getComponent();return e?.type==="VERSION"}var bg="@firebase/app",UT="0.10.5";var xi=new Ur("@firebase/app"),vF="@firebase/app-compat",_F="@firebase/analytics-compat",wF="@firebase/analytics",EF="@firebase/app-check-compat",IF="@firebase/app-check",DF="@firebase/auth",bF="@firebase/auth-compat",TF="@firebase/database",CF="@firebase/database-compat",SF="@firebase/functions",AF="@firebase/functions-compat",MF="@firebase/installations",RF="@firebase/installations-compat",NF="@firebase/messaging",PF="@firebase/messaging-compat",xF="@firebase/performance",OF="@firebase/performance-compat",kF="@firebase/remote-config",FF="@firebase/remote-config-compat",LF="@firebase/storage",VF="@firebase/storage-compat",UF="@firebase/firestore",jF="@firebase/vertexai-preview",BF="@firebase/firestore-compat",$F="firebase",HF="10.12.2";var Tg="[DEFAULT]",qF={[bg]:"fire-core",[vF]:"fire-core-compat",[wF]:"fire-analytics",[_F]:"fire-analytics-compat",[IF]:"fire-app-check",[EF]:"fire-app-check-compat",[DF]:"fire-auth",[bF]:"fire-auth-compat",[TF]:"fire-rtdb",[CF]:"fire-rtdb-compat",[SF]:"fire-fn",[AF]:"fire-fn-compat",[MF]:"fire-iid",[RF]:"fire-iid-compat",[NF]:"fire-fcm",[PF]:"fire-fcm-compat",[xF]:"fire-perf",[OF]:"fire-perf-compat",[kF]:"fire-rc",[FF]:"fire-rc-compat",[LF]:"fire-gcs",[VF]:"fire-gcs-compat",[UF]:"fire-fst",[BF]:"fire-fst-compat",[jF]:"fire-vertex","fire-js":"fire-js",[$F]:"fire-js-all"};var Ka=new Map,zF=new Map,Cg=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(n){xi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Br(t){let e=t.name;if(Cg.has(e))return xi.debug(`There were multiple attempts to register component ${e}.`),!1;Cg.set(e,t);for(let n of Ka.values())jT(n,t);for(let n of zF.values())jT(n,t);return!0}function Ya(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function dn(t){return t.settings!==void 0}var GF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new nr("app","Firebase",GF);var Sg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new en("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var $r=HF;function Rg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Tg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=fg()),!n)throw jr.create("no-options");let s=Ka.get(i);if(s){if(Ni(n,s.options)&&Ni(r,s.config))return s;throw jr.create("duplicate-app",{appName:i})}let o=new Kl(i);for(let u of Cg.values())o.addComponent(u);let a=new Sg(n,r,o);return Ka.set(i,a),a}function to(t=Tg){let e=Ka.get(t);if(!e&&t===Tg&&fg())return Rg();if(!e)throw jr.create("no-app",{appName:t});return e}function Yl(){return Array.from(Ka.values())}function Ke(t,e,n){var r;let i=(r=qF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xi.warn(a.join(" "));return}Br(new en(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WF="firebase-heartbeat-database",KF=1,Qa="firebase-heartbeat-store",Ig=null;function qT(){return Ig||(Ig=VT(WF,KF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qa)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),Ig}function QF(t){return D(this,null,function*(){try{let n=(yield qT()).transaction(Qa),r=yield n.objectStore(Qa).get(zT(t));return yield n.done,r}catch(e){if(e instanceof jt)xi.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e?.message});xi.warn(n.message)}}})}function BT(t,e){return D(this,null,function*(){try{let r=(yield qT()).transaction(Qa,"readwrite");yield r.objectStore(Qa).put(e,zT(t)),yield r.done}catch(n){if(n instanceof jt)xi.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n?.message});xi.warn(r.message)}}})}function zT(t){return`${t.name}!${t.options.appId}`}var YF=1024,JF=30*24*60*60*1e3,Ag=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Mg(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=$T();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=JF}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return D(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=$T(),{heartbeatsToSend:r,unsentEntries:i}=ZF(this._heartbeatsCache.heartbeats),s=Ga(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function $T(){return new Date().toISOString().substring(0,10)}function ZF(t,e=YF){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),HT(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),HT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Mg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return mg()?MT().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield QF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return BT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function HT(t){return Ga(JSON.stringify({version:2,heartbeats:t})).length}function XF(t){Br(new en("platform-logger",e=>new Dg(e),"PRIVATE")),Br(new en("heartbeat",e=>new Ag(e),"PRIVATE")),Ke(bg,UT,t),Ke(bg,UT,"esm2017"),Ke("fire-js","")}XF("");var eL="firebase",tL="10.12.2";Ke(eL,tL,"app");var ki=new Gn("ANGULARFIRE2_VERSION");function Zl(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ja=(t,e)=>{let n=e?[e]:Yl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ro=class{constructor(){return Ja(nL)}},nL="app-check";function no(){}var Jl=class{zone;delegate;constructor(e,n=mf){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ng=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no)),n.pipe(ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},io=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Jl(Zone.current)),this.insideAngular=n.run(()=>new Jl(Zone.current,pf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(G(ye))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Xl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rL(t){return Xl().ngZone.runOutsideAngular(()=>t())}function Oi(t){return Xl().ngZone.run(()=>t())}function iL(t){return sL(Xl())(t)}function sL(t){return function(n){return n=n.lift(new Ng(t.ngZone)),n.pipe(Er(t.outsideAngular),wr(t.insideAngular))}}var oL=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Oi(()=>t.apply(void 0,r))},tn=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Oi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",no,{},no,no))),r[s]=oL(r[s],n));let i=rL(()=>t.apply(this,r));if(!e)if(i instanceof pe){let s=Xl();return i.pipe(Er(s.outsideAngular),wr(s.insideAngular))}else return Oi(()=>i);return i instanceof pe?i.pipe(iL):i instanceof Promise?Oi(()=>new Promise((s,o)=>i.then(a=>Oi(()=>s(a)),a=>Oi(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Oi(()=>i)};var rr=class{constructor(e){return e}},Fi=class{constructor(){return Yl()}};function aL(t){return t&&t.length===1?t[0]:new rr(to())}var Pg=new z("angularfire2._apps"),cL={provide:rr,useFactory:aL,deps:[[new Et,Pg]]},uL={provide:Fi,deps:[[new Et,Pg]]};function lL(t){return(e,n)=>{let r=n.get(En);Ke("angularfire",ki.full,"core"),Ke("angularfire",ki.full,"app"),Ke("angular",eb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new rr(i)}}function GT(t,...e){return wn([cL,uL,{provide:Pg,useFactory:lL(t),multi:!0,deps:[ye,It,io,...e]}])}var WT=tn(Rg,!0);function lC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var dC=lC,hC=new nr("auth","Firebase",lC()),ao={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"};var sd=new Ur("@firebase/auth");function dL(t,...e){sd.logLevel<=de.WARN&&sd.warn(`Auth (${$r}): ${t}`,...e)}function td(t,...e){sd.logLevel<=de.ERROR&&sd.error(`Auth (${$r}): ${t}`,...e)}function Nn(t,...e){throw ty(t,...e)}function Li(t,...e){return ty(t,...e)}function fC(t,e,n){let r=Object.assign(Object.assign({},dC()),{[e]:n});return new nr("auth","Firebase",r).create(e,{appName:t.name})}function or(t){return fC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ty(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return hC.create(t,...e)}function Q(t,e,...n){if(!t)throw ty(e,...n)}function ir(t){let e="INTERNAL ASSERTION FAILED: "+t;throw td(e),new Error(e)}function qr(t,e){t||ir(e)}function Fg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function hL(){return KT()==="http:"||KT()==="https:"}function KT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function fL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hL()||TT()||"connection"in navigator)?navigator.onLine:!0}function pL(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Vi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=bT()||CT()}get(){return fL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ny(t,e){qr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var od=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gL=new Vi(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gr(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){return pC(t,i,()=>D(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let p=Wa(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),od.fetch()(mC(t,t.config.apiHost,n,p),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},l))}))})}function pC(t,e,n){return D(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mL),e);try{let i=new Lg(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ed(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ed(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw ed(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw ed(t,"user-disabled",o);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw fC(t,f,l);Nn(t,f)}}catch(i){if(i instanceof jt)throw i;Nn(t,"network-request-failed",{message:String(i)})}})}function sc(s,o,a,u){return D(this,arguments,function*(t,e,n,r,i={}){let l=yield Gr(t,e,n,r,i);return"mfaPendingCredential"in l&&Nn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function mC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ny(t.config,i):`${t.config.apiScheme}://${i}`}function yL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Lg=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Li(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ed(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Li(t,e,r);return i.customData._tokenResponse=n,i}function QT(t){return t!==void 0&&t.enterprise!==void 0}var Vg=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function vL(t,e){return D(this,null,function*(){return Gr(t,"GET","/v2/recaptchaConfig",zr(t,e))})}function _L(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:delete",e)})}function gC(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:lookup",e)})}function Za(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ry(t,e=!1){return D(this,null,function*(){let n=ft(t),r=yield n.getIdToken(e),i=iy(r);Q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Za(xg(i.auth_time)),issuedAtTime:Za(xg(i.iat)),expirationTime:Za(xg(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function xg(t){return Number(t)*1e3}function iy(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return td("JWT malformed, contained fewer than 3 sections"),null;try{let i=dg(n);return i?JSON.parse(i):(td("Failed to decode base64 JWT payload"),null)}catch(i){return td("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YT(t){let e=iy(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ec(t,e,n=!1){return D(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof jt&&wL(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function wL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ug=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),n)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var tc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function ad(t){return D(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ec(t,gC(n,{idToken:r}));Q(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yC(s.providerUserInfo):[],a=EL(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,f=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tc(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function sy(t){return D(this,null,function*(){let e=ft(t);yield ad(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function EL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yC(t){return t.map(e=>{var{providerId:n}=e,r=gf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function IL(t,e){return D(this,null,function*(){let n=yield pC(t,{},()=>D(this,null,function*(){let r=Wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=mC(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",od.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function DL(t,e){return D(this,null,function*(){return Gr(t,"POST","/v2/accounts:revokeToken",zr(t,e))})}var Xa=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=YT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return D(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield IL(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Hr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var so=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=gf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ug(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new tc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let n=yield ec(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ry(this,e)}reload(){return sy(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield ad(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(dn(this.auth.app))return Promise.reject(or(this.auth));let e=yield this.getIdToken();return yield ec(this,_L(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,f;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=n.createdAt)!==null&&l!==void 0?l:void 0,B=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:j,emailVerified:K,isAnonymous:Ne,providerData:ne,stsTokenManager:w}=n;Q(j&&w,e,"internal-error");let g=Xa.fromJSON(this.name,w);Q(typeof j=="string",e,"internal-error"),Hr(p,e.name),Hr(y,e.name),Q(typeof K=="boolean",e,"internal-error"),Q(typeof Ne=="boolean",e,"internal-error"),Hr(E,e.name),Hr(C,e.name),Hr(M,e.name),Hr(R,e.name),Hr(F,e.name),Hr(B,e.name);let v=new t({uid:j,auth:e,email:y,emailVerified:K,displayName:p,isAnonymous:Ne,photoURL:C,phoneNumber:E,tenantId:M,stsTokenManager:g,createdAt:F,lastLoginAt:B});return ne&&Array.isArray(ne)&&(v.providerData=ne.map(I=>Object.assign({},I))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,r=!1){return D(this,null,function*(){let i=new Xa;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ad(s),s})}static _fromGetAccountInfoResponse(e,n,r){return D(this,null,function*(){let i=n.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?yC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Xa;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new tc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var JT=new Map;function sr(t){qr(t instanceof Function,"Expected a class definition");let e=JT.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JT.set(t,e),e)}var bL=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(n,r){return D(this,null,function*(){this.storage[n]=r})}_get(n){return D(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return D(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jg=bL;function nd(t,e,n){return`firebase:${t}:${e}:${n}`}var cd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=nd(this.userKey,i.apiKey,s),this.fullPersistenceKey=nd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?so._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return D(this,null,function*(){if(!n.length)return new t(sr(jg),e,r);let i=(yield Promise.all(n.map(l=>D(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||sr(jg),o=nd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let f=yield l._get(o);if(f){let p=so._fromJSON(e,f);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>D(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function ZT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IC(e))return"Blackberry";if(DC(e))return"Webos";if(oy(e))return"Safari";if((e.includes("chrome/")||_C(e))&&!e.includes("edge/"))return"Chrome";if(EC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function vC(t=We()){return/firefox\//i.test(t)}function oy(t=We()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _C(t=We()){return/crios\//i.test(t)}function wC(t=We()){return/iemobile/i.test(t)}function EC(t=We()){return/android/i.test(t)}function IC(t=We()){return/blackberry/i.test(t)}function DC(t=We()){return/webos/i.test(t)}function gd(t=We()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TL(t=We()){var e;return gd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CL(){return ST()&&document.documentMode===10}function bC(t=We()){return gd(t)||EC(t)||DC(t)||IC(t)||/windows phone/i.test(t)||wC(t)}function SL(){try{return!!(window&&window!==window.top)}catch{return!1}}function TC(t,e=[]){let n;switch(t){case"Browser":n=ZT(We());break;case"Worker":n=`${ZT(We())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$r}/${r}`}var Bg=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AL(n){return D(this,arguments,function*(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",zr(t,e))})}var ML=6,$g=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:ML,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hg=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ud(this),this.idTokenSubscription=new ud(this),this.beforeStateQueue=new Bg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield cd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let n=yield gC(this,{idToken:e}),r=yield so._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var n;if(dn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield ad(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pL()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(dn(this.app))return Promise.reject(or(this));let n=e?ft(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return D(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return dn(this.app)?Promise.reject(or(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dn(this.app)?Promise.reject(or(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield AL(this),n=new $g(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new nr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield DL(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield cd.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=TC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return D(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&dL(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function ji(t){return ft(t)}var ud=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NT(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yd={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){yd=t}function CC(t){return yd.loadJS(t)}function NL(){return yd.recaptchaEnterpriseScript}function PL(){return yd.gapiScript}function SC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var xL="recaptcha-enterprise",OL="NO_RECAPTCHA",qg=class{constructor(e){this.type=xL,this.auth=ji(e)}verify(e="verify",n=!1){return D(this,null,function*(){function r(s){return D(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>D(this,null,function*(){vL(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vg(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;QT(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(OL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&QT(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NL();u.length!==0&&(u+=a),CC(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function XT(t,e,n,r=!1){return D(this,null,function*(){let i=new qg(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function zg(t,e,n,r){return D(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield XT(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>D(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield XT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function ay(t,e){let n=Ya(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Ni(s,e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}function kL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function cy(t,e,n){let r=ji(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=AC(e),{host:o,port:a}=FL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||LL()}function AC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FL(t){let e=AC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:eC(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:eC(o)}}}function eC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function LL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var nc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};function VL(t,e){return D(this,null,function*(){return Gr(t,"POST","/v1/accounts:signUp",e)})}function UL(t,e){return D(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))})}function jL(t,e){return D(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}function BL(t,e){return D(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}var rc=class t extends nc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return D(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,n,"signInWithPassword",UL);case"emailLink":return jL(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,n){return D(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zg(e,r,"signUpPassword",VL);case"emailLink":return BL(e,{idToken:n,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Og(t,e){return D(this,null,function*(){return sc(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))})}function $L(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HL(t){let e=Xs(eo(t)).link,n=e?Xs(eo(e)).deep_link_id:null,r=Xs(eo(t)).deep_link_id;return(r?Xs(eo(r)).link:null)||r||n||e||t}var ld=class t{constructor(e){var n,r,i,s,o,a;let u=Xs(eo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,p=$L((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=HL(e);try{return new t(n)}catch{return null}}};var MC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return rc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ld.parseLink(r);return Q(i,"argument-error"),rc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),dd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Gg=class extends dd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function qL(t,e){return D(this,null,function*(){return sc(t,"POST","/v1/accounts:signUp",zr(t,e))})}var oo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return D(this,null,function*(){let s=yield so._fromIdTokenResponse(e,r,i),o=tC(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=tC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function tC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Wg=class t extends jt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function RC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wg._fromErrorAndOperation(t,s,e,r):s})}function zL(t,e,n=!1){return D(this,null,function*(){let r=yield ec(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return oo._forOperation(t,"link",r)})}function GL(t,e,n=!1){return D(this,null,function*(){let{auth:r}=t;if(dn(r.app))return Promise.reject(or(r));let i="reauthenticate";try{let s=yield ec(t,RC(r,i,e,t),n);Q(s.idToken,r,"internal-error");let o=iy(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),oo._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),s}})}function NC(t,e,n=!1){return D(this,null,function*(){if(dn(t.app))return Promise.reject(or(t));let r="signIn",i=yield RC(t,r,e),s=yield oo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function uy(t,e){return D(this,null,function*(){return NC(ji(t),e)})}function PC(t){return D(this,null,function*(){let e=ji(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function ly(t,e,n){return D(this,null,function*(){if(dn(t.app))return Promise.reject(or(t));let r=ji(t),o=yield zg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&PC(t),u}),a=yield oo._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function dy(t,e,n){return dn(t.app)?Promise.reject(or(t)):uy(ft(t),MC.credential(e,n)).catch(r=>D(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&PC(t),r}))}function hy(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function fy(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function py(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function my(t){return ft(t).signOut()}var hd="__sak";var fd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hd,"1"),this.storage.removeItem(hd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function WL(){let t=We();return oy(t)||gd(t)}var KL=1e3,QL=10,YL=(()=>{class t extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=WL()&&SL(),this.fallbackToPolling=bC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);CL()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,QL):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},KL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return D(this,null,function*(){yield vr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return D(this,null,function*(){let r=yield vr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return D(this,null,function*(){yield vr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),xC=YL;var JL=(()=>{class t extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),gy=JL;function ZL(t){return Promise.all(t.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var XL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return D(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(f=>D(this,null,function*(){return f(r.origin,o)})),l=yield ZL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function OC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Kg=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=OC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let y=p;if(y.data.eventId===l)switch(y.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(y.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Rn(){return window}function eV(t){Rn().location.href=t}function kC(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function tV(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function nV(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function rV(){return kC()?self:null}var FC="firebaseLocalStorageDb",iV=1,pd="firebaseLocalStorage",LC="fbase_key",Ui=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function vd(t,e){return t.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function sV(){let t=indexedDB.deleteDatabase(FC);return new Ui(t).toPromise()}function Qg(){let t=indexedDB.open(FC,iV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(pd,{keyPath:LC})}catch(i){n(i)}}),t.addEventListener("success",()=>D(this,null,function*(){let r=t.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),yield sV(),e(yield Qg()))}))})}function nC(t,e,n){return D(this,null,function*(){let r=vd(t,!0).put({[LC]:e,value:n});return new Ui(r).toPromise()})}function oV(t,e){return D(this,null,function*(){let n=vd(t,!1).get(e),r=yield new Ui(n).toPromise();return r===void 0?null:r.value})}function rC(t,e){let n=vd(t,!0).delete(e);return new Ui(n).toPromise()}var aV=800,cV=3,uV=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield Qg(),this.db)})}_withRetries(n){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>cV)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return kC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=XL._getInstance(rV()),this.receiver._subscribe("keyChanged",(n,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var n,r;if(this.activeServiceWorker=yield tV(),!this.activeServiceWorker)return;this.sender=new Kg(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||nV()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Qg();return yield nC(n,hd,"1"),yield rC(n,hd),!0}catch{}return!1})}_withPendingWrite(n){return D(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>nC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return D(this,null,function*(){let r=yield this._withRetries(i=>oV(i,n));return this.localCache[n]=r,r})}_remove(n){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>rC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return D(this,null,function*(){let n=yield this._withRetries(s=>{let o=vd(s,!1).getAll();return new Ui(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),aV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),VC=uV;var E5=SC("rcb"),I5=new Vi(3e4,6e4);function lV(t,e){return e?sr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ic=class extends nc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Og(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Og(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Og(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function dV(t){return NC(t.auth,new ic(t),t.bypassAuthState)}function hV(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),GL(n,new ic(t),t.bypassAuthState)}function fV(t){return D(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),zL(n,new ic(t),t.bypassAuthState)})}var Yg=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dV;case"linkViaPopup":case"linkViaRedirect":return fV;case"reauthViaPopup":case"reauthViaRedirect":return hV;default:Nn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var D5=new Vi(2e3,1e4);var pV="pendingRedirect",rd=new Map,Jg=class t extends Yg{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=rd.get(this.auth._key());if(!e){try{let r=(yield mV(this.resolver,this.auth))?yield vr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}rd.set(this.auth._key(),e)}return this.bypassAuthState||rd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return vr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,vr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function mV(t,e){return D(this,null,function*(){let n=vV(e),r=yV(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function gV(t,e){rd.set(t._key(),e)}function yV(t){return sr(t._redirectPersistence)}function vV(t){return nd(pV,t.config.apiKey,t.name)}function _V(t,e,n=!1){return D(this,null,function*(){if(dn(t.app))return Promise.reject(or(t));let r=ji(t),i=lV(r,e),o=yield new Jg(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var wV=10*60*1e3,Zg=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!UC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Li(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wV&&this.cachedEventUids.clear(),this.cachedEventUids.has(iC(e))}saveEventToCache(e){this.cachedEventUids.add(iC(e)),this.lastProcessedEventTime=Date.now()}};function iC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function UC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function EV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UC(t);default:return!1}}function IV(n){return D(this,arguments,function*(t,e={}){return Gr(t,"GET","/v1/projects",e)})}var DV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bV=/^https?/;function TV(t){return D(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield IV(t);for(let n of e)try{if(CV(n))return}catch{}Nn(t,"unauthorized-domain")})}function CV(t){let e=Fg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!bV.test(n))return!1;if(DV.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var SV=new Vi(3e4,6e4);function sC(){let t=Rn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function AV(t){return new Promise((e,n)=>{var r,i,s;function o(){sC(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sC(),n(Li(t,"network-request-failed"))},timeout:SV.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Rn().gapi)===null||s===void 0)&&s.load)o();else{let a=SC("iframefcb");return Rn()[a]=()=>{gapi.load?o():n(Li(t,"network-request-failed"))},CC(`${PL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw id=null,e})}var id=null;function MV(t){return id=id||AV(t),id}var RV=new Vi(5e3,15e3),NV="__/auth/iframe",PV="emulator/auth/iframe",xV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kV(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ny(e,PV):`https://${t.config.authDomain}/${NV}`,r={apiKey:e.apiKey,appName:t.name,v:$r},i=OV.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Wa(r).slice(1)}`}function FV(t){return D(this,null,function*(){let e=yield MV(t),n=Rn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:kV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xV,dontclear:!0},r=>new Promise((i,s)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Li(t,"network-request-failed"),a=Rn().setTimeout(()=>{s(o)},RV.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var LV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VV=500,UV=600,jV="_blank",BV="http://localhost",md=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function $V(t,e,n,r=VV,i=UV){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},LV),{width:r.toString(),height:i.toString(),top:s,left:o}),l=We().toLowerCase();n&&(a=_C(l)?jV:n),vC(l)&&(e=e||BV,u.scrollbars="yes");let f=Object.entries(u).reduce((y,[E,C])=>`${y}${E}=${C},`,"");if(TL(l)&&a!=="_self")return HV(e||"",a),new md(null);let p=window.open(e||"",a,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new md(p)}function HV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var qV="__/auth/handler",zV="emulator/auth/handler",GV=encodeURIComponent("fac");function oC(t,e,n,r,i,s){return D(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$r,eventId:i};if(e instanceof dd){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RT(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(s||{}))o[f]=p}if(e instanceof Gg){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let u=yield t._getAppCheckToken(),l=u?`#${GV}=${encodeURIComponent(u)}`:"";return`${WV(t)}?${Wa(a).slice(1)}${l}`})}function WV({config:t}){return t.emulator?ny(t,zV):`https://${t.authDomain}/${qV}`}var kg="webStorageSupport",Xg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gy,this._completeRedirectFn=_V,this._overrideRedirectResult=gV}_openPopup(e,n,r,i){return D(this,null,function*(){var s;qr((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield oC(e,n,r,Fg(),i);return $V(e,o,OC())})}_openRedirect(e,n,r,i){return D(this,null,function*(){yield this._originValidation(e);let s=yield oC(e,n,r,Fg(),i);return eV(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(qr(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return D(this,null,function*(){let n=yield FV(e),r=new Zg(e);return n.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kg,{type:kg},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kg];o!==void 0&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=TV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bC()||oy()||gd()}},jC=Xg;var aC="@firebase/auth",cC="1.7.4";var ey=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function KV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function QV(t){Br(new en("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TC(t)},l=new Hg(r,i,s,u);return kL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Br(new en("auth-internal",e=>{let n=ji(e.getProvider("auth").getImmediate());return(r=>new ey(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ke(aC,cC,KV(t)),Ke(aC,cC,"esm2017")}var YV=5*60,JV=pg("authIdTokenMaxAge")||YV,uC=null,ZV=t=>e=>D(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>JV)return;let i=n?.token;uC!==i&&(uC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function yy(t=to()){let e=Ya(t,"auth");if(e.isInitialized())return e.getImmediate();let n=ay(t,{popupRedirectResolver:jC,persistence:[VC,xC,gy]}),r=pg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=ZV(s.toString());fy(n,o,()=>o(n.currentUser)),hy(n,a=>o(a))}}let i=hg("auth");return i&&cy(n,`http://${i}`),n}function XV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Li("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});QV("Browser");var BC="auth",Bi=class{constructor(e){return e}},oc=class{constructor(){return Ja(BC)}};var vy=new z("angularfire2.auth-instances");function $U(t,e){let n=Zl(BC,t,e);return n&&new Bi(n)}function HU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bi(r)}}var qU={provide:oc,deps:[[new Et,vy]]},zU={provide:Bi,useFactory:$U,deps:[[new Et,vy],rr]};function $C(t,...e){return Ke("angularfire",ki.full,"auth"),wn([zU,qU,{provide:vy,useFactory:HU(t),multi:!0,deps:[ye,It,io,Fi,[new Et,ro],...e]}])}var HC=tn(ly,!0);var qC=tn(yy,!0);var zC=tn(py,!0);var GC=tn(dy,!0);var WC=tn(my,!0);var Wr=(()=>{let e=class e{constructor(r){this.auth=r,this.currentUserSubject=new qe(null),this.currentUser=this.currentUserSubject.asObservable(),zC(this.auth,i=>{this.currentUserSubject.next(i)})}crearUsuario(r,i){return HC(this.auth,r,i)}guardarUsuario(r){localStorage.setItem("usuarioActual",r)}getCurrentUser(){return new Promise(r=>{r(this.currentUserSubject.value)})}logIn(r,i){return GC(this.auth,r,i)}signOut(){return WC(this.auth).then(()=>{this.currentUserSubject.next(null)})}};e.\u0275fac=function(i){return new(i||e)(G(Bi))},e.\u0275prov=H({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WU(t,e){if(t&1&&(Z(0,"div")(1,"div",2)(2,"div",3)(3,"p",4),_e(4),ee()()()()),t&2){let n=In();Ye(4),Bs("Welcome, ",n.getUserNameFromEmail(),"")}}function KU(t,e){if(t&1){let n=pl();Z(0,"div",5)(1,"div",6)(2,"h1"),_e(3,"Welcome to Gaming Room"),ee(),Z(4,"p"),_e(5,"Please log in or register to continue"),ee(),Z(6,"button",7),dt("click",function(){la(n);let i=In();return da(i.goTo("/log-in"))}),_e(7,"Log In"),ee(),Z(8,"button",8),dt("click",function(){la(n);let i=In();return da(i.goTo("/register"))}),_e(9,"Register"),ee()()()}}var KC=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.userEmail=null,this.userName="",this.games=[{title:"Game 1",text:"Description of Game 1",img:"assets/med.jpg",path:"/game1"},{title:"Game 2",text:"Description of Game 2",img:"assets/med.jpg",path:"/game2"}]}ngOnInit(){this.authService.currentUser.subscribe(r=>{this.userEmail=r?.email||null})}goTo(r){this.router.navigate([r])}playGame(r){this.router.navigate([r])}getUserNameFromEmail(){if(this.userEmail){let r=this.userEmail.indexOf("@");return r!==-1?(this.userName=this.userEmail.substring(0,r),this.userName):null}else return null}};e.\u0275fac=function(i){return new(i||e)(te(Wr),te(nt))},e.\u0275cmp=Mt({type:e,selectors:[["app-home"]],standalone:!0,features:[Pt],decls:3,vars:2,consts:[["loggedOut",""],[4,"ngIf","ngIfElse"],[1,"card","retro-card"],[1,"card-body"],[1,"card-text","retro-text"],[1,"overlay"],[1,"overlay-content"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-primary","ms-2",3,"click"]],template:function(i,s){if(i&1&&Zn(0,WU,5,1,"div",1)(1,KU,10,0,"ng-template",null,0,XD),i&2){let o=JD(2);Dt("ngIf",s.userEmail)("ngIfElse",o)}},dependencies:[_a,Pr],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;margin:0;padding:0;box-sizing:border-box}.games-section[_ngcontent-%COMP%]{padding:50px 0}.game-card[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:8px;margin:20px;padding:20px;text-align:center}.game-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto;border-radius:8px;margin-bottom:15px}.custom-carousel[_ngcontent-%COMP%]{width:20%;height:120px}.img-carousel[_ngcontent-%COMP%]{width:100%;height:250px}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{margin-top:120px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:9999}.overlay-content[_ngcontent-%COMP%]{text-align:center;color:#fff}.overlay-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.overlay-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:2rem}.user-info[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px;font-weight:700;color:#e6d8d8;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.retro-card[_ngcontent-%COMP%]{background-color:#000000b3;border-radius:8px;padding:15px;width:fit-content;margin:10px auto;box-shadow:0 4px 8px #0003}.retro-text[_ngcontent-%COMP%]{color:#e6d8d8;font-family:Arial,sans-serif;font-size:14px;text-shadow:1px 1px 2px rgba(0,0,0,.5)}.retro-card[_ngcontent-%COMP%]:hover{background-color:#000000be;transition:background-color .3s ease}"],data:{animation:[Ri("fadeInOut",[An(":enter",[rt({opacity:0}),Sn("800ms",rt({opacity:1}))]),An(":leave",[Sn("800ms",rt({opacity:0}))])])]}});let t=e;return t})();var n0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(te(Ii),te(Rr))},e.\u0275dir=Rt({type:e});let t=e;return t})(),QU=(()=>{let e=class e extends n0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=fa(e)))(s||e)}})(),e.\u0275dir=Rt({type:e,features:[Nr]});let t=e;return t})(),r0=new z("");var YU={provide:r0,useExisting:Ls(()=>lo),multi:!0};function JU(){let t=er()?er().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ZU=new z(""),lo=(()=>{let e=class e extends n0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!JU())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(te(Ii),te(Rr),te(ZU,8))},e.\u0275dir=Rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&dt("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ml([YU]),Nr]});let t=e;return t})();var i0=new z(""),s0=new z("");function o0(t){return t!=null}function a0(t){return Ti(t)?Pe(t):t}function c0(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function u0(t,e){return e.map(n=>n(t))}function XU(t){return!t.validate}function l0(t){return t.map(e=>XU(e)?e:n=>e.validate(n))}function ej(t){if(!t)return null;let e=t.filter(o0);return e.length==0?null:function(n){return c0(u0(n,e))}}function wy(t){return t!=null?ej(l0(t)):null}function tj(t){if(!t)return null;let e=t.filter(o0);return e.length==0?null:function(n){let r=u0(n,e).map(a0);return vf(r).pipe(le(c0))}}function Ey(t){return t!=null?tj(l0(t)):null}function QC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function nj(t){return t._rawValidators}function rj(t){return t._rawAsyncValidators}function _y(t){return t?Array.isArray(t)?t:[t]:[]}function Ed(t,e){return Array.isArray(t)?t.includes(e):t===e}function YC(t,e){let n=_y(e);return _y(t).forEach(i=>{Ed(n,i)||n.push(i)}),n}function JC(t,e){return _y(e).filter(n=>!Ed(t,n))}var Id=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=wy(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ey(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},uo=class extends Id{get formDirective(){return null}get path(){return null}},lc=class extends Id{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Dd=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ij={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},A6=Ie(L({},ij),{"[class.ng-submitted]":"isSubmitted"}),Cd=(()=>{let e=class e extends Dd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(lc,2))},e.\u0275dir=Rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&fl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Nr]});let t=e;return t})(),Sd=(()=>{let e=class e extends Dd{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(te(uo,10))},e.\u0275dir=Rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&fl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Nr]});let t=e;return t})();var ac="VALID",wd="INVALID",co="PENDING",cc="DISABLED";function d0(t){return(Ad(t)?t.validators:t)||null}function sj(t){return Array.isArray(t)?wy(t):t||null}function h0(t,e){return(Ad(e)?e.asyncValidators:t)||null}function oj(t){return Array.isArray(t)?Ey(t):t||null}function Ad(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function aj(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new P(1e3,"");if(!r[n])throw new P(1001,"")}function cj(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new P(1002,"")})}var bd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ac}get invalid(){return this.status===wd}get pending(){return this.status==co}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JC(e,this._rawAsyncValidators))}hasValidator(e){return Ed(this._rawValidators,e)}hasAsyncValidator(e){return Ed(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=co,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this.errors=null,this._forEachChild(r=>{r.disable(Ie(L({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ac,this._forEachChild(r=>{r.enable(Ie(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(L({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ac||this.status===co)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:ac}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=co,this._hasOwnPendingAsyncValidator=!0;let n=a0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ct,this.statusChanges=new ct}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?wd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(co)?co:this._anyControlsHaveStatus(wd)?wd:ac}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ad(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=sj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=oj(this._rawAsyncValidators)}},Td=class extends bd{constructor(e,n,r){super(d0(n),h0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){cj(this,!0,e),Object.keys(e).forEach(r=>{aj(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Iy=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Dy}),Dy="always";function uj(t,e){return[...e.path,t]}function f0(t,e,n=Dy){p0(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),dj(t,e),fj(t,e),hj(t,e),lj(t,e)}function ZC(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function lj(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function p0(t,e){let n=nj(t);e.validator!==null?t.setValidators(QC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=rj(t);e.asyncValidator!==null?t.setAsyncValidators(QC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ZC(e._rawValidators,i),ZC(e._rawAsyncValidators,i)}function dj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&m0(t,e)})}function hj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&m0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function m0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fj(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function pj(t,e){t==null,p0(t,e)}function mj(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function gj(t){return Object.getPrototypeOf(t.constructor)===QU}function yj(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vj(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===lo?n=s:gj(s)?r=s:i=s}),i||r||n||null}var _j={provide:uo,useExisting:Ls(()=>dc)},uc=Promise.resolve(),dc=(()=>{let e=class e extends uo{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ct,this.form=new Td({},wy(r),Ey(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){uc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),f0(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path),s=new Td({});pj(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){uc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){uc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,yj(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(te(i0,10),te(s0,10),te(Iy,8))},e.\u0275dir=Rt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&dt("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[ut.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ml([_j]),Nr]});let t=e;return t})();function XC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function e0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var wj=class extends bd{constructor(e=null,n,r){super(d0(n),h0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ad(n)&&(n.nonNullable||n.initialValueIsDefault)&&(e0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){XC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){XC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){e0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Ej={provide:lc,useExisting:Ls(()=>hc)},t0=Promise.resolve(),hc=(()=>{let e=class e extends lc{constructor(r,i,s,o,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new wj,this._registered=!1,this.name="",this.update=new ct,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=vj(this,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),mj(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){f0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){t0.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,s=i!==0&&Si(i);t0.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?uj(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(te(uo,9),te(i0,10),te(s0,10),te(r0,10),te(Ci,8),te(Iy,8))},e.\u0275dir=Rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ut.None,"disabled","isDisabled"],model:[ut.None,"ngModel","model"],options:[ut.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ml([Ej]),Nr,Ei]});let t=e;return t})(),Md=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Ij=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({});let t=e;return t})();var Rd=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Iy,useValue:r.callSetDisabledState??Dy}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Kn({type:e}),e.\u0275inj=Wn({imports:[Ij]});let t=e;return t})();function Dj(t,e){if(t&1&&(Z(0,"p",16),_e(1),ee()),t&2){let n=In();Ye(),sm(n.errorMessage)}}var y0=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.user={email:"",password:""},this.errorMessage=""}login(){this.authService.logIn(this.user.email,this.user.password).then(r=>{console.log("Inicio de sesi\xF3n exitoso:",r),this.router.navigate(["/home"])}).catch(r=>{r.code===ao.INVALID_EMAIL||r.code===ao.USER_DELETED?this.errorMessage="The email address is invalid. Please check and try again.":this.errorMessage="Incorrect username or password. Please try again."})}enterAsGuest(){this.user.email="guest@gmail.com",this.user.password="123456"}};e.\u0275fac=function(i){return new(i||e)(te(Wr),te(nt))},e.\u0275cmp=Mt({type:e,selectors:[["app-log-in"]],standalone:!0,features:[Pt],decls:23,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","height","35px","font-size","15px","font-weight","bold"],[1,"card-body"],[3,"ngSubmit"],[1,"form-group"],["for","email",2,"color","white"],["type","text","id","email","name","email","placeholder","Enter user",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],["for","password",2,"color","white"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit",1,"btn","btn-primary","me-2",2,"background-color","rgb(172, 8, 194)","border-color","#e100ff"],["type","button",1,"btn","btn-primary",2,"background-color","rgb(11, 202, 186)","border-color","#0bdad7c2",3,"click"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-danger"]],template:function(i,s){i&1&&(Z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),bt(4,"div",4),Z(5,"div",5)(6,"form",6),dt("ngSubmit",function(){return s.login()}),Z(7,"div",7)(8,"label",8),_e(9,"Email"),ee(),Z(10,"input",9),bi("ngModelChange",function(a){return $s(s.user.email,a)||(s.user.email=a),a}),ee()(),Z(11,"div",7)(12,"label",10),_e(13,"Password"),ee(),Z(14,"input",11),bi("ngModelChange",function(a){return $s(s.user.password,a)||(s.user.password=a),a}),ee()(),bt(15,"br"),Z(16,"div",12)(17,"button",13),_e(18,"Log in"),ee(),Z(19,"button",14),dt("click",function(){return s.enterAsGuest()}),_e(20,"Enter as guest"),ee()()(),bt(21,"br"),Zn(22,Dj,2,1,"p",15),ee()()()()()),i&2&&(Ye(10),Di("ngModel",s.user.email),Ye(4),Di("ngModel",s.user.password),Ye(8),Dt("ngIf",s.errorMessage))},dependencies:[Rd,Md,lo,Cd,Sd,hc,dc,Pr],data:{animation:[Ri("fadeInOut",[An(":enter",[rt({opacity:0}),Sn("800ms",rt({opacity:1}))]),An(":leave",[Sn("800ms",rt({opacity:0}))])])]}});let t=e;return t})();var Nd=class{constructor(e,n){this.email="",this.password="",this.email=e,this.password=n}};var v0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_0={};var by,w0;(function(){var t;function e(w,g){function v(){}v.prototype=g.prototype,w.D=g.prototype,w.prototype=new v,w.prototype.constructor=w,w.C=function(I,b,S){for(var _=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)_[zt-2]=arguments[zt];return g.prototype[b].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,g,v){v||(v=0);var I=Array(16);if(typeof g=="string")for(var b=0;16>b;++b)I[b]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(b=0;16>b;++b)I[b]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=w.g[0],v=w.g[1],b=w.g[2];var S=w.g[3],_=g+(S^v&(b^S))+I[0]+3614090360&4294967295;g=v+(_<<7&4294967295|_>>>25),_=S+(b^g&(v^b))+I[1]+3905402710&4294967295,S=g+(_<<12&4294967295|_>>>20),_=b+(v^S&(g^v))+I[2]+606105819&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(g^b&(S^g))+I[3]+3250441966&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(S^v&(b^S))+I[4]+4118548399&4294967295,g=v+(_<<7&4294967295|_>>>25),_=S+(b^g&(v^b))+I[5]+1200080426&4294967295,S=g+(_<<12&4294967295|_>>>20),_=b+(v^S&(g^v))+I[6]+2821735955&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(g^b&(S^g))+I[7]+4249261313&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(S^v&(b^S))+I[8]+1770035416&4294967295,g=v+(_<<7&4294967295|_>>>25),_=S+(b^g&(v^b))+I[9]+2336552879&4294967295,S=g+(_<<12&4294967295|_>>>20),_=b+(v^S&(g^v))+I[10]+4294925233&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(g^b&(S^g))+I[11]+2304563134&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(S^v&(b^S))+I[12]+1804603682&4294967295,g=v+(_<<7&4294967295|_>>>25),_=S+(b^g&(v^b))+I[13]+4254626195&4294967295,S=g+(_<<12&4294967295|_>>>20),_=b+(v^S&(g^v))+I[14]+2792965006&4294967295,b=S+(_<<17&4294967295|_>>>15),_=v+(g^b&(S^g))+I[15]+1236535329&4294967295,v=b+(_<<22&4294967295|_>>>10),_=g+(b^S&(v^b))+I[1]+4129170786&4294967295,g=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(g^v))+I[6]+3225465664&4294967295,S=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(S^g))+I[11]+643717713&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^g&(b^S))+I[0]+3921069994&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^S&(v^b))+I[5]+3593408605&4294967295,g=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(g^v))+I[10]+38016083&4294967295,S=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(S^g))+I[15]+3634488961&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^g&(b^S))+I[4]+3889429448&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^S&(v^b))+I[9]+568446438&4294967295,g=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(g^v))+I[14]+3275163606&4294967295,S=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(S^g))+I[3]+4107603335&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^g&(b^S))+I[8]+1163531501&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(b^S&(v^b))+I[13]+2850285829&4294967295,g=v+(_<<5&4294967295|_>>>27),_=S+(v^b&(g^v))+I[2]+4243563512&4294967295,S=g+(_<<9&4294967295|_>>>23),_=b+(g^v&(S^g))+I[7]+1735328473&4294967295,b=S+(_<<14&4294967295|_>>>18),_=v+(S^g&(b^S))+I[12]+2368359562&4294967295,v=b+(_<<20&4294967295|_>>>12),_=g+(v^b^S)+I[5]+4294588738&4294967295,g=v+(_<<4&4294967295|_>>>28),_=S+(g^v^b)+I[8]+2272392833&4294967295,S=g+(_<<11&4294967295|_>>>21),_=b+(S^g^v)+I[11]+1839030562&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^g)+I[14]+4259657740&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^S)+I[1]+2763975236&4294967295,g=v+(_<<4&4294967295|_>>>28),_=S+(g^v^b)+I[4]+1272893353&4294967295,S=g+(_<<11&4294967295|_>>>21),_=b+(S^g^v)+I[7]+4139469664&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^g)+I[10]+3200236656&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^S)+I[13]+681279174&4294967295,g=v+(_<<4&4294967295|_>>>28),_=S+(g^v^b)+I[0]+3936430074&4294967295,S=g+(_<<11&4294967295|_>>>21),_=b+(S^g^v)+I[3]+3572445317&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^g)+I[6]+76029189&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(v^b^S)+I[9]+3654602809&4294967295,g=v+(_<<4&4294967295|_>>>28),_=S+(g^v^b)+I[12]+3873151461&4294967295,S=g+(_<<11&4294967295|_>>>21),_=b+(S^g^v)+I[15]+530742520&4294967295,b=S+(_<<16&4294967295|_>>>16),_=v+(b^S^g)+I[2]+3299628645&4294967295,v=b+(_<<23&4294967295|_>>>9),_=g+(b^(v|~S))+I[0]+4096336452&4294967295,g=v+(_<<6&4294967295|_>>>26),_=S+(v^(g|~b))+I[7]+1126891415&4294967295,S=g+(_<<10&4294967295|_>>>22),_=b+(g^(S|~v))+I[14]+2878612391&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~g))+I[5]+4237533241&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~S))+I[12]+1700485571&4294967295,g=v+(_<<6&4294967295|_>>>26),_=S+(v^(g|~b))+I[3]+2399980690&4294967295,S=g+(_<<10&4294967295|_>>>22),_=b+(g^(S|~v))+I[10]+4293915773&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~g))+I[1]+2240044497&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~S))+I[8]+1873313359&4294967295,g=v+(_<<6&4294967295|_>>>26),_=S+(v^(g|~b))+I[15]+4264355552&4294967295,S=g+(_<<10&4294967295|_>>>22),_=b+(g^(S|~v))+I[6]+2734768916&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~g))+I[13]+1309151649&4294967295,v=b+(_<<21&4294967295|_>>>11),_=g+(b^(v|~S))+I[4]+4149444226&4294967295,g=v+(_<<6&4294967295|_>>>26),_=S+(v^(g|~b))+I[11]+3174756917&4294967295,S=g+(_<<10&4294967295|_>>>22),_=b+(g^(S|~v))+I[2]+718787259&4294967295,b=S+(_<<15&4294967295|_>>>17),_=v+(S^(b|~g))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+g&4294967295,w.g[1]=w.g[1]+(b+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+S&4294967295}r.prototype.u=function(w,g){g===void 0&&(g=w.length);for(var v=g-this.blockSize,I=this.B,b=this.h,S=0;S<g;){if(b==0)for(;S<=v;)i(this,w,S),S+=this.blockSize;if(typeof w=="string"){for(;S<g;)if(I[b++]=w.charCodeAt(S++),b==this.blockSize){i(this,I),b=0;break}}else for(;S<g;)if(I[b++]=w[S++],b==this.blockSize){i(this,I),b=0;break}}this.h=b,this.o+=g},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var g=1;g<w.length-8;++g)w[g]=0;var v=8*this.o;for(g=w.length-8;g<w.length;++g)w[g]=v&255,v/=256;for(this.u(w),w=Array(16),g=v=0;4>g;++g)for(var I=0;32>I;I+=8)w[v++]=this.g[g]>>>I&255;return w};function s(w,g){var v=a;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=g(w)}function o(w,g){this.h=g;for(var v=[],I=!0,b=w.length-1;0<=b;b--){var S=w[b]|0;I&&S==g||(v[b]=S,I=!1)}this.g=v}var a={};function u(w){return-128<=w&&128>w?s(w,function(g){return new o([g|0],0>g?-1:0)}):new o([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var g=[],v=1,I=0;w>=v;I++)g[I]=w/v|0,v*=4294967296;return new o(g,0)}function f(w,g){if(w.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(w.charAt(0)=="-")return R(f(w.substring(1),g));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=l(Math.pow(g,8)),I=p,b=0;b<w.length;b+=8){var S=Math.min(8,w.length-b),_=parseInt(w.substring(b,b+S),g);8>S?(S=l(Math.pow(g,S)),I=I.j(S).add(l(_))):(I=I.j(v),I=I.add(l(_)))}return I}var p=u(0),y=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(M(this))return-R(this).m();for(var w=0,g=1,v=0;v<this.g.length;v++){var I=this.i(v);w+=(0<=I?I:4294967296+I)*g,g*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var g=l(Math.pow(w,6)),v=this,I="";;){var b=K(v,g).g;v=F(v,b.j(g));var S=((0<v.g.length?v.g[0]:v.h)>>>0).toString(w);if(v=b,C(v))return S+I;for(;6>S.length;)S="0"+S;I=S+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(var g=0;g<w.g.length;g++)if(w.g[g]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=F(this,w),M(w)?-1:C(w)?0:1};function R(w){for(var g=w.g.length,v=[],I=0;I<g;I++)v[I]=~w.g[I];return new o(v,~w.h).add(y)}t.abs=function(){return M(this)?R(this):this},t.add=function(w){for(var g=Math.max(this.g.length,w.g.length),v=[],I=0,b=0;b<=g;b++){var S=I+(this.i(b)&65535)+(w.i(b)&65535),_=(S>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);I=_>>>16,S&=65535,_&=65535,v[b]=_<<16|S}return new o(v,v[v.length-1]&-2147483648?-1:0)};function F(w,g){return w.add(R(g))}t.j=function(w){if(C(this)||C(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(E)&&0>w.l(E))return l(this.m()*w.m());for(var g=this.g.length+w.g.length,v=[],I=0;I<2*g;I++)v[I]=0;for(I=0;I<this.g.length;I++)for(var b=0;b<w.g.length;b++){var S=this.i(I)>>>16,_=this.i(I)&65535,zt=w.i(b)>>>16,hr=w.i(b)&65535;v[2*I+2*b]+=_*hr,B(v,2*I+2*b),v[2*I+2*b+1]+=S*hr,B(v,2*I+2*b+1),v[2*I+2*b+1]+=_*zt,B(v,2*I+2*b+1),v[2*I+2*b+2]+=S*zt,B(v,2*I+2*b+2)}for(I=0;I<g;I++)v[I]=v[2*I+1]<<16|v[2*I];for(I=g;I<2*g;I++)v[I]=0;return new o(v,0)};function B(w,g){for(;(w[g]&65535)!=w[g];)w[g+1]+=w[g]>>>16,w[g]&=65535,g++}function j(w,g){this.g=w,this.h=g}function K(w,g){if(C(g))throw Error("division by zero");if(C(w))return new j(p,p);if(M(w))return g=K(R(w),g),new j(R(g.g),R(g.h));if(M(g))return g=K(w,R(g)),new j(R(g.g),g.h);if(30<w.g.length){if(M(w)||M(g))throw Error("slowDivide_ only works with positive integers.");for(var v=y,I=g;0>=I.l(w);)v=Ne(v),I=Ne(I);var b=ne(v,1),S=ne(I,1);for(I=ne(I,2),v=ne(v,2);!C(I);){var _=S.add(I);0>=_.l(w)&&(b=b.add(v),S=_),I=ne(I,1),v=ne(v,1)}return g=F(w,b.j(g)),new j(b,g)}for(b=p;0<=w.l(g);){for(v=Math.max(1,Math.floor(w.m()/g.m())),I=Math.ceil(Math.log(v)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),S=l(v),_=S.j(g);M(_)||0<_.l(w);)v-=I,S=l(v),_=S.j(g);C(S)&&(S=y),b=b.add(S),w=F(w,_)}return new j(b,w)}t.A=function(w){return K(this,w).h},t.and=function(w){for(var g=Math.max(this.g.length,w.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)&w.i(I);return new o(v,this.h&w.h)},t.or=function(w){for(var g=Math.max(this.g.length,w.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)|w.i(I);return new o(v,this.h|w.h)},t.xor=function(w){for(var g=Math.max(this.g.length,w.g.length),v=[],I=0;I<g;I++)v[I]=this.i(I)^w.i(I);return new o(v,this.h^w.h)};function Ne(w){for(var g=w.g.length+1,v=[],I=0;I<g;I++)v[I]=w.i(I)<<1|w.i(I-1)>>>31;return new o(v,w.h)}function ne(w,g){var v=g>>5;g%=32;for(var I=w.g.length-v,b=[],S=0;S<I;S++)b[S]=0<g?w.i(S+v)>>>g|w.i(S+v+1)<<32-g:w.i(S+v);return new o(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,w0=_0.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=f,by=_0.Integer=o}).apply(typeof v0<"u"?v0:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ar={};var Ty,Cy,ho,Sy,fc,xd,Ay,My,Ry;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var T=c[m];if(!(T in h))break e;h=h[T]}c=c[c.length-1],m=h[c],d=d(m),d!=m&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var h=0,m=!1,T={next:function(){if(!m&&h<c.length){var A=h++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,h){return h})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function p(c,d,h){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function y(c,d,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function E(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(m,T,A){for(var O=Array(arguments.length-2),De=2;De<arguments.length;De++)O[De-2]=arguments[De];return d.prototype[T].apply(m,O)}}function M(c){let d=c.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=c[m];return h}return[]}function R(c,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(u(m)){let T=c.length||0,A=m.length||0;c.length=T+A;for(let O=0;O<A;O++)c[T+O]=m[O]}else c.push(m)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function B(c){return/^[\s\xa0]*$/.test(c)}function j(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var Ne=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function ne(c,d,h){for(let m in c)d.call(h,c[m],m,c)}function w(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function g(c){let d={};for(let h in c)d[h]=c[h];return d}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)c[h]=m[h];for(let A=0;A<v.length;A++)h=v[A],Object.prototype.hasOwnProperty.call(m,h)&&(c[h]=m[h])}}function b(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function S(c){a.setTimeout(()=>{throw c},0)}function _(){var c=ae;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class zt{constructor(){this.h=this.g=null}add(d,h){let m=hr.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var hr=new F(()=>new V,c=>c.reset());class V{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let U,$=!1,ae=new zt,Fe=()=>{let c=a.Promise.resolve(void 0);U=()=>{c.then(Gt)}};var Gt=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(h){S(h)}var d=hr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}$=!1};function xe(){this.s=this.s,this.C=this.C}xe.prototype.s=!1,xe.prototype.ma=function(){this.s||(this.s=!0,this.N())},xe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c}();function fr(c,d){if(Ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ne){e:{try{K(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Sh[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&fr.aa.h.call(this)}}C(fr,Ce);var Sh={2:"touch",3:"pen",4:"mouse"};fr.prototype.h=function(){fr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Vn=0;function Ct(c,d,h,m,T){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=T,this.key=++Vn,this.da=this.fa=!1}function Un(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pr(c){this.src=c,this.g={},this.h=0}pr.prototype.add=function(c,d,h,m,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=Mh(c,d,m,T);return-1<O?(d=c[O],h||(d.fa=!1)):(d=new Ct(d,this.src,A,!!m,T),d.fa=h,c.push(d)),d};function Ah(c,d){var h=d.type;if(h in c.g){var m=c.g[h],T=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(m,T,1),A&&(Un(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function Mh(c,d,h,m){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!h&&A.ha==m)return T}return-1}var Rh="closure_lm_"+(1e6*Math.random()|0),Nh={};function L_(c,d,h,m,T){if(m&&m.once)return U_(c,d,h,m,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)L_(c,d[A],h,m,T);return null}return h=kh(h),c&&c[Oe]?c.K(d,h,l(m)?!!m.capture:!!m,T):V_(c,d,h,!1,m,T)}function V_(c,d,h,m,T,A){if(!d)throw Error("Invalid event type");var O=l(T)?!!T.capture:!!T,De=xh(c);if(De||(c[Rh]=De=new pr(c)),h=De.add(d,h,m,O,A),h.proxy)return h;if(m=_A(),h.proxy=m,m.src=c,m.listener=h,c.addEventListener)Se||(T=O),T===void 0&&(T=!1),c.addEventListener(d.toString(),m,T);else if(c.attachEvent)c.attachEvent(B_(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function _A(){function c(h){return d.call(c.src,c.listener,h)}let d=wA;return c}function U_(c,d,h,m,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)U_(c,d[A],h,m,T);return null}return h=kh(h),c&&c[Oe]?c.L(d,h,l(m)?!!m.capture:!!m,T):V_(c,d,h,!0,m,T)}function j_(c,d,h,m,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)j_(c,d[A],h,m,T);else m=l(m)?!!m.capture:!!m,h=kh(h),c&&c[Oe]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],h=Mh(A,h,m,T),-1<h&&(Un(A[h]),Array.prototype.splice.call(A,h,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=xh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Mh(d,h,m,T)),(h=-1<c?d[c]:null)&&Ph(h))}function Ph(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Oe])Ah(d.i,c);else{var h=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(h,m,c.capture):d.detachEvent?d.detachEvent(B_(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=xh(d))?(Ah(h,c),h.h==0&&(h.src=null,d[Rh]=null)):Un(c)}}}function B_(c){return c in Nh?Nh[c]:Nh[c]="on"+c}function wA(c,d){if(c.da)c=!0;else{d=new fr(d,this);var h=c.listener,m=c.ha||c.src;c.fa&&Ph(c),c=h.call(m,d)}return c}function xh(c){return c=c[Rh],c instanceof pr?c:null}var Oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function kh(c){return typeof c=="function"?c:(c[Oh]||(c[Oh]=function(d){return c.handleEvent(d)}),c[Oh])}function it(){xe.call(this),this.i=new pr(this),this.M=this,this.F=null}C(it,xe),it.prototype[Oe]=!0,it.prototype.removeEventListener=function(c,d,h,m){j_(this,c,d,h,m)};function yt(c,d){var h,m=c.F;if(m)for(h=[];m;m=m.F)h.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new Ce(d,c);else if(d instanceof Ce)d.target=d.target||c;else{var T=d;d=new Ce(m,c),I(d,T)}if(T=!0,h)for(var A=h.length-1;0<=A;A--){var O=d.g=h[A];T=xc(O,m,!0,d)&&T}if(O=d.g=c,T=xc(O,m,!0,d)&&T,T=xc(O,m,!1,d)&&T,h)for(A=0;A<h.length;A++)O=d.g=h[A],T=xc(O,m,!1,d)&&T}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],m=0;m<h.length;m++)Un(h[m]);delete c.g[d],c.h--}}this.F=null},it.prototype.K=function(c,d,h,m){return this.i.add(String(c),d,!1,h,m)},it.prototype.L=function(c,d,h,m){return this.i.add(String(c),d,!0,h,m)};function xc(c,d,h,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==h){var De=O.listener,tt=O.ha||O.src;O.fa&&Ah(c.i,O),T=De.call(tt,m)!==!1&&T}}return T&&!m.defaultPrevented}function $_(c,d,h){if(typeof c=="function")h&&(c=y(c,h));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function H_(c){c.g=$_(()=>{c.g=null,c.i&&(c.i=!1,H_(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class EA extends xe{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:H_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(c){xe.call(this),this.h=c,this.g={}}C(Oo,xe);var q_=[];function z_(c){ne(c.g,function(d,h){this.g.hasOwnProperty(h)&&Ph(d)},c),c.g={}}Oo.prototype.N=function(){Oo.aa.N.call(this),z_(this)},Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fh=a.JSON.stringify,IA=a.JSON.parse,DA=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Lh(){}Lh.prototype.h=null;function G_(c){return c.h||(c.h=c.i())}function W_(){}var ko={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vh(){Ce.call(this,"d")}C(Vh,Ce);function Uh(){Ce.call(this,"c")}C(Uh,Ce);var ti={},K_=null;function Oc(){return K_=K_||new it}ti.La="serverreachability";function Q_(c){Ce.call(this,ti.La,c)}C(Q_,Ce);function Fo(c){let d=Oc();yt(d,new Q_(d))}ti.STAT_EVENT="statevent";function Y_(c,d){Ce.call(this,ti.STAT_EVENT,c),this.stat=d}C(Y_,Ce);function vt(c){let d=Oc();yt(d,new Y_(d,c))}ti.Ma="timingevent";function J_(c,d){Ce.call(this,ti.Ma,c),this.size=d}C(J_,Ce);function Lo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Vo(){this.g=!0}Vo.prototype.xa=function(){this.g=!1};function bA(c,d,h,m,T,A){c.info(function(){if(c.g)if(A)for(var O="",De=A.split("&"),tt=0;tt<De.length;tt++){var ve=De[tt].split("=");if(1<ve.length){var st=ve[0];ve=ve[1];var ot=st.split("_");O=2<=ot.length&&ot[1]=="type"?O+(st+"="+ve+"&"):O+(st+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+d+`
`+h+`
`+O})}function TA(c,d,h,m,T,A,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+d+`
`+h+`
`+A+" "+O})}function rs(c,d,h,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+SA(c,h)+(m?" "+m:"")})}function CA(c,d){c.info(function(){return"TIMEOUT: "+d})}Vo.prototype.info=function(){};function SA(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var m=h[c];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<T.length;O++)T[O]=""}}}}return Fh(h)}catch{return d}}var kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Z_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jh;function Fc(){}C(Fc,Lh),Fc.prototype.g=function(){return new XMLHttpRequest},Fc.prototype.i=function(){return{}},jh=new Fc;function mr(c,d,h,m){this.j=c,this.i=d,this.l=h,this.R=m||1,this.U=new Oo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new X_}function X_(){this.i=null,this.g="",this.h=!1}var ew={},Bh={};function $h(c,d,h){c.L=1,c.v=jc(jn(d)),c.m=h,c.P=!0,tw(c,null)}function tw(c,d){c.F=Date.now(),Lc(c),c.A=jn(c.v);var h=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),mw(h.i,"t",m),c.C=0,h=c.j.J,c.h=new X_,c.g=xw(c.j,h?d:null,!c.m),0<c.O&&(c.M=new EA(y(c.Y,c,c.g),c.O)),d=c.U,h=c.g,m=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(q_[0]=T.toString()),T=q_);for(var A=0;A<T.length;A++){var O=L_(h,T[A],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Fo(),bA(c.i,c.u,c.A,c.l,c.R,c.m)}mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Bn(c)==3?d.j():this.Y(c)},mr.prototype.Y=function(c){try{if(c==this.g)e:{let ot=Bn(this.g);var d=this.g.Ba();let os=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Iw(this.g)))){this.J||ot!=4||d==7||(d==8||0>=os?Fo(3):Fo(2)),Hh(this);var h=this.g.Z();this.X=h;t:if(nw(this)){var m=Iw(this.g);c="";var T=m.length,A=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ni(this),Uo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==T-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,TA(this.i,this.u,this.A,this.l,this.R,ot,h),this.o){if(this.T&&!this.K){t:{if(this.g){var De,tt=this.g;if((De=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(De)){var ve=De;break t}}ve=null}if(h=ve)rs(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,h);else{this.o=!1,this.s=3,vt(12),ni(this),Uo(this);break e}}if(this.P){h=!0;let rn;for(;!this.J&&this.C<O.length;)if(rn=AA(this,O),rn==Bh){ot==4&&(this.s=4,vt(14),h=!1),rs(this.i,this.l,null,"[Incomplete Response]");break}else if(rn==ew){this.s=4,vt(15),rs(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else rs(this.i,this.l,rn,null),qh(this,rn);if(nw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||O.length!=0||this.h.h||(this.s=1,vt(16),h=!1),this.o=this.o&&h,!h)rs(this.i,this.l,O,"[Invalid Chunked Response]"),ni(this),Uo(this);else if(0<O.length&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.ba&&!st.M&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Yh(st),st.M=!0,vt(11))}}else rs(this.i,this.l,O,null),qh(this,O);ot==4&&ni(this),this.o&&!this.J&&(ot==4?Mw(this.j,this):(this.o=!1,Lc(this)))}else zA(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),ni(this),Uo(this)}}}catch{}finally{}};function nw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AA(c,d){var h=c.C,m=d.indexOf(`
`,h);return m==-1?Bh:(h=Number(d.substring(h,m)),isNaN(h)?ew:(m+=1,m+h>d.length?Bh:(d=d.slice(m,m+h),c.C=m+h,d)))}mr.prototype.cancel=function(){this.J=!0,ni(this)};function Lc(c){c.S=Date.now()+c.I,rw(c,c.I)}function rw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Lo(y(c.ba,c),d)}function Hh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(CA(this.i,this.A),this.L!=2&&(Fo(),vt(17)),ni(this),this.s=2,Uo(this)):rw(this,this.S-c)};function Uo(c){c.j.G==0||c.J||Mw(c.j,c)}function ni(c){Hh(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,z_(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function qh(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||zh(h.h,c))){if(!c.K&&zh(h.h,c)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)zc(h),Hc(h);else break e;Qh(h),vt(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Lo(y(h.Za,h),6e3));if(1>=ow(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else ii(h,11)}else if((c.K||h.g==c)&&zc(h),!B(d))for(T=h.Da.g.parse(d),d=0;d<T.length;d++){let ve=T[d];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let st=ve[3];st!=null&&(h.la=st,h.j.info("VER="+h.la));let ot=ve[4];ot!=null&&(h.Aa=ot,h.j.info("SVER="+h.Aa));let os=ve[5];os!=null&&typeof os=="number"&&0<os&&(m=1.5*os,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let rn=c.g;if(rn){let Wc=rn.g?rn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wc){var A=m.h;A.g||Wc.indexOf("spdy")==-1&&Wc.indexOf("quic")==-1&&Wc.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Gh(A,A.h),A.h=null))}if(m.D){let Jh=rn.g?rn.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(m.ya=Jh,Ae(m.I,m.D,Jh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var O=c;if(m.qa=Pw(m,m.J?m.ia:null,m.W),O.K){aw(m.h,O);var De=O,tt=m.L;tt&&(De.I=tt),De.B&&(Hh(De),Lc(De)),m.g=O}else Sw(m);0<h.i.length&&qc(h)}else ve[0]!="stop"&&ve[0]!="close"||ii(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ii(h,7):Kh(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}Fo(4)}catch{}}var MA=class{constructor(c,d){this.g=c,this.map=d}};function iw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ow(c){return c.h?1:c.g?c.g.size:0}function zh(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Gh(c,d){c.g?c.g.add(d):c.h=d}function aw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}iw.prototype.cancel=function(){if(this.i=cw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function cw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return M(c.i)}function RA(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],h=c.length,m=0;m<h;m++)d.push(c[m]);return d}d=[],h=0;for(m in c)d[h++]=c[m];return d}function NA(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let m in c)d[h++]=m;return d}}}function uw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=NA(c),m=RA(c),T=m.length,A=0;A<T;A++)d.call(void 0,m[A],h&&h[A],c)}var lw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PA(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var m=c[h].indexOf("="),T=null;if(0<=m){var A=c[h].substring(0,m);T=c[h].substring(m+1)}else A=c[h];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ri(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ri){this.h=c.h,Vc(this,c.j),this.o=c.o,this.g=c.g,Uc(this,c.s),this.l=c.l;var d=c.i,h=new $o;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),dw(this,h),this.m=c.m}else c&&(d=String(c).match(lw))?(this.h=!1,Vc(this,d[1]||"",!0),this.o=jo(d[2]||""),this.g=jo(d[3]||"",!0),Uc(this,d[4]),this.l=jo(d[5]||"",!0),dw(this,d[6]||"",!0),this.m=jo(d[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}ri.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Bo(d,hw,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Bo(d,hw,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Bo(h,h.charAt(0)=="/"?kA:OA,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Bo(h,LA)),c.join("")};function jn(c){return new ri(c)}function Vc(c,d,h){c.j=h?jo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Uc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function dw(c,d,h){d instanceof $o?(c.i=d,VA(c.i,c.h)):(h||(d=Bo(d,FA)),c.i=new $o(d,c.h))}function Ae(c,d,h){c.i.set(d,h)}function jc(c){return Ae(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bo(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,xA),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xA(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hw=/[#\/\?@]/g,OA=/[#\?:]/g,kA=/[#\?]/g,FA=/[#\?@]/g,LA=/#/g;function $o(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function gr(c){c.g||(c.g=new Map,c.h=0,c.i&&PA(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=$o.prototype,t.add=function(c,d){gr(this),this.i=null,c=is(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function fw(c,d){gr(c),d=is(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function pw(c,d){return gr(c),d=is(c,d),c.g.has(d)}t.forEach=function(c,d){gr(this),this.g.forEach(function(h,m){h.forEach(function(T){c.call(d,T,m,this)},this)},this)},t.na=function(){gr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let T=c[m];for(let A=0;A<T.length;A++)h.push(d[m])}return h},t.V=function(c){gr(this);let d=[];if(typeof c=="string")pw(this,c)&&(d=d.concat(this.g.get(is(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},t.set=function(c,d){return gr(this),this.i=null,c=is(this,c),pw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function mw(c,d,h){fw(c,d),0<h.length&&(c.i=null,c.g.set(is(c,d),M(h)),c.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let A=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var T=A;O[m]!==""&&(T+="="+encodeURIComponent(String(O[m]))),c.push(T)}}return this.i=c.join("&")};function is(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function VA(c,d){d&&!c.j&&(gr(c),c.i=null,c.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(fw(this,m),mw(this,T,h))},c)),c.j=d}function UA(c,d){let h=new Vo;if(a.Image){let m=new Image;m.onload=E(yr,h,"TestLoadImage: loaded",!0,d,m),m.onerror=E(yr,h,"TestLoadImage: error",!1,d,m),m.onabort=E(yr,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=E(yr,h,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function jA(c,d){let h=new Vo,m=new AbortController,T=setTimeout(()=>{m.abort(),yr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(T),A.ok?yr(h,"TestPingServer: ok",!0,d):yr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),yr(h,"TestPingServer: error",!1,d)})}function yr(c,d,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function BA(){this.g=new DA}function $A(c,d,h){let m=h||"";try{uw(c,function(T,A){let O=T;l(T)&&(O=Fh(T)),d.push(m+A+"="+encodeURIComponent(O))})}catch(T){throw d.push(m+"type="+encodeURIComponent("_badmap")),T}}function Ho(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ho,Lh),Ho.prototype.g=function(){return new Bc(this.l,this.j)},Ho.prototype.i=function(c){return function(){return c}}({});function Bc(c,d){it.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Bc,it),t=Bc.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,zo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qo(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?qo(this):zo(this),this.readyState==3&&gw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,qo(this))},t.Qa=function(c){this.g&&(this.response=c,qo(this))},t.ga=function(){this.g&&qo(this)};function qo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zo(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function yw(c){let d="";return ne(c,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function Wh(c,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=yw(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Ae(c,d,h))}function ke(c){it.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,it);var HA=/^https?$/i,qA=["POST","PUT"];t=ke.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jh.g(),this.v=this.o?G_(this.o):G_(jh),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){vw(this,A);return}if(c=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())h.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qA,d,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of h)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ew(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){vw(this,A)}};function vw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,_w(c),$c(c)}function _w(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),$c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$c(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ww(this):this.bb())},t.bb=function(){ww(this)};function ww(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Bn(c)!=4||c.Z()!=2)){if(c.u&&Bn(c)==4)$_(c.Ea,0,c);else if(yt(c,"readystatechange"),Bn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=O===0){var T=String(c.D).match(lw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),m=!HA.test(T?T.toLowerCase():"")}h=m}if(h)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var A=2<Bn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",_w(c)}}finally{$c(c)}}}}function $c(c,d){if(c.g){Ew(c);let h=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||yt(c,"ready");try{h.onreadystatechange=m}catch{}}}function Ew(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),IA(d)}};function Iw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zA(c){let d={};c=(c.g&&2<=Bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(B(c[m]))continue;var h=b(c[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let A=d[T]||[];d[T]=A,A.push(h)}w(d,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Go(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function Dw(c){this.Aa=0,this.i=[],this.j=new Vo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Go("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Go("baseRetryDelayMs",5e3,c),this.cb=Go("retryDelaySeedMs",1e4,c),this.Wa=Go("forwardChannelMaxRetries",2,c),this.wa=Go("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new iw(c&&c.concurrentRequestLimit),this.Da=new BA,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dw.prototype,t.la=8,t.G=1,t.connect=function(c,d,h,m){vt(0),this.W=c,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=Pw(this,null,this.W),qc(this)};function Kh(c){if(bw(c),c.G==3){var d=c.U++,h=jn(c.I);if(Ae(h,"SID",c.K),Ae(h,"RID",d),Ae(h,"TYPE","terminate"),Wo(c,h),d=new mr(c,c.j,d),d.L=2,d.v=jc(jn(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=xw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Lc(d)}Nw(c)}function Hc(c){c.g&&(Yh(c),c.g.cancel(),c.g=null)}function bw(c){Hc(c),c.u&&(a.clearTimeout(c.u),c.u=null),zc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function qc(c){if(!sw(c.h)&&!c.s){c.s=!0;var d=c.Ga;U||Fe(),$||(U(),$=!0),ae.add(d,c),c.B=0}}function GA(c,d){return ow(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Lo(y(c.Ga,c,d),Rw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new mr(this,this.j,c),A=this.o;if(this.S&&(A?(A=g(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=Cw(this,T,d),h=jn(this.I),Ae(h,"RID",c),Ae(h,"CVER",22),this.D&&Ae(h,"X-HTTP-Session-Id",this.D),Wo(this,h),A&&(this.O?d="headers="+encodeURIComponent(String(yw(A)))+"&"+d:this.m&&Wh(h,this.m,A)),Gh(this.h,T),this.Ua&&Ae(h,"TYPE","init"),this.P?(Ae(h,"$req",d),Ae(h,"SID","null"),T.T=!0,$h(T,h,null)):$h(T,h,d),this.G=2}}else this.G==3&&(c?Tw(this,c):this.i.length==0||sw(this.h)||Tw(this))};function Tw(c,d){var h;d?h=d.l:h=c.U++;let m=jn(c.I);Ae(m,"SID",c.K),Ae(m,"RID",h),Ae(m,"AID",c.T),Wo(c,m),c.m&&c.o&&Wh(m,c.m,c.o),h=new mr(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Cw(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gh(c.h,h),$h(h,m,d)}function Wo(c,d){c.H&&ne(c.H,function(h,m){Ae(d,m,h)}),c.l&&uw({},function(h,m){Ae(d,m,h)})}function Cw(c,d,h){h=Math.min(c.i.length,h);var m=c.l?y(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let O=["count="+h];A==-1?0<h?(A=T[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let De=!0;for(let tt=0;tt<h;tt++){let ve=T[tt].g,st=T[tt].map;if(ve-=A,0>ve)A=Math.max(0,T[tt].g-100),De=!1;else try{$A(st,O,"req"+ve+"_")}catch{m&&m(st)}}if(De){m=O.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,m}function Sw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;U||Fe(),$||(U(),$=!0),ae.add(d,c),c.v=0}}function Qh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Lo(y(c.Fa,c),Rw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Aw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Lo(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Hc(this),Aw(this))};function Yh(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Aw(c){c.g=new mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=jn(c.qa);Ae(d,"RID","rpc"),Ae(d,"SID",c.K),Ae(d,"AID",c.T),Ae(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ae(d,"TO",c.ja),Ae(d,"TYPE","xmlhttp"),Wo(c,d),c.m&&c.o&&Wh(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=jc(jn(d)),h.m=null,h.P=!0,tw(h,c)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),Qh(this),vt(19))};function zc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function Mw(c,d){var h=null;if(c.g==d){zc(c),Yh(c),c.g=null;var m=2}else if(zh(c.h,d))h=d.D,aw(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;m=Oc(),yt(m,new J_(m,h)),qc(c)}else Sw(c);else if(T=d.s,T==3||T==0&&0<d.X||!(m==1&&GA(c,d)||m==2&&Qh(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),T){case 1:ii(c,5);break;case 4:ii(c,10);break;case 3:ii(c,6);break;default:ii(c,2)}}}function Rw(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function ii(c,d){if(c.j.info("Error code "+d),d==2){var h=y(c.fb,c),m=c.Xa;let T=!m;m=new ri(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vc(m,"https"),jc(m),T?UA(m.toString(),h):jA(m.toString(),h)}else vt(2);c.G=0,c.l&&c.l.sa(d),Nw(c),bw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Nw(c){if(c.G=0,c.ka=[],c.l){let d=cw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function Pw(c,d,h){var m=h instanceof ri?jn(h):new ri(h);if(m.g!="")d&&(m.g=d+"."+m.g),Uc(m,m.s);else{var T=a.location;m=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new ri(null);m&&Vc(A,m),d&&(A.g=d),T&&Uc(A,T),h&&(A.l=h),m=A}return h=c.D,d=c.ya,h&&d&&Ae(m,h,d),Ae(m,"VER",c.la),Wo(c,m),m}function xw(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ke(new Ho({eb:h})):new ke(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ow(){}t=Ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Gc(){}Gc.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){it.call(this),this.g=new Dw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!B(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!B(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ss(this)}C(Ot,it),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){Kh(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Fh(c),c=h);d.i.push(new MA(d.Ya++,c)),d.G==3&&qc(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,Ot.aa.N.call(this)};function kw(c){Vh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(kw,Vh);function Fw(){Uh.call(this),this.status=1}C(Fw,Uh);function ss(c){this.g=c}C(ss,Ow),ss.prototype.ua=function(){yt(this.g,"a")},ss.prototype.ta=function(c){yt(this.g,new kw(c))},ss.prototype.sa=function(c){yt(this.g,new Fw)},ss.prototype.ra=function(){yt(this.g,"b")},Gc.prototype.createWebChannel=Gc.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,Ry=ar.createWebChannelTransport=function(){return new Gc},My=ar.getStatEventTarget=function(){return Oc()},Ay=ar.Event=ti,xd=ar.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kc.NO_ERROR=0,kc.TIMEOUT=8,kc.HTTP_ERROR=6,fc=ar.ErrorCode=kc,Z_.COMPLETE="complete",Sy=ar.EventType=Z_,W_.EventType=ko,ko.OPEN="a",ko.CLOSE="b",ko.ERROR="c",ko.MESSAGE="d",it.prototype.listen=it.prototype.K,ho=ar.WebChannel=W_,Cy=ar.FetchXmlHttpFactory=Ho,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,Ty=ar.XhrIo=ke}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});var E0="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var Ro="10.12.1";var zi=new Ur("@firebase/firestore");function pc(){return zi.logLevel}function q(t,...e){if(zi.logLevel<=de.DEBUG){let n=e.map(Jv);zi.debug(`Firestore (${Ro}): ${t}`,...n)}}function Gi(t,...e){if(zi.logLevel<=de.ERROR){let n=e.map(Jv);zi.error(`Firestore (${Ro}): ${t}`,...n)}}function Ud(t,...e){if(zi.logLevel<=de.WARN){let n=e.map(Jv);zi.warn(`Firestore (${Ro}): ${t}`,...n)}}function Jv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function he(t="Unexpected state"){let e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+t;throw Gi(e),new Error(e)}function et(t,e){t||he()}function Re(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends jt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Oy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},ky=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Fy=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new cr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new cr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(et(typeof r.accessToken=="string"),new jd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new Ze(e)}},Ly=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Vy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Ly(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Uy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(et(typeof n.token=="string"),this.R=n.token,new Uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function bj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Bd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=bj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function go(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var gt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Ve=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new gt(0,0))}static max(){return new t(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var $d=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(),r===void 0?r=e.length-n:r>e.length-n&&he(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},He=class t extends $d{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Tj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bt=class t extends $d{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Tj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new W(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new W(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var oe=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var By=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};By.UNKNOWN_ID=-1;function Cj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Wi(i,oe.empty(),e)}function Sj(t){return new Wi(t.readTime,t.key,-1)}var Wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Ve.min(),oe.empty(),-1)}static max(){return new t(Ve.max(),oe.empty(),-1)}};function Aj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var Mj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$y=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function B0(t){return D(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==Mj)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(f=>{o[l]=f,++a,a===s&&r(o)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function Rj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oh(t){return t.name==="IndexedDbTransactionError"}var Nj=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Zv(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function Pj(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var xj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],K6=[...xj,"documentOverlays"],Oj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kj=Oj,Q6=[...kj,"indexConfiguration","indexState","indexEntries"];function I0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function bc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $t=class t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new po(this.root,e,this.comparator,!1)}getReverseIterator(){return new po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new po(this.root,e,this.comparator,!0)}},po=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw he();let e=this.left.check();if(e!==this.right.check())throw he();return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw he()}get value(){throw he()}get color(){throw he()}get left(){throw he()}get right(){throw he()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tt=class t{constructor(e){this.comparator=e,this.data=new $t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Hd(this.data.getIterator())}getIteratorFrom(e){return new Hd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Hd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var On=class t{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Tt(Bt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Hy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qr=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Hy("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qr.EMPTY_BYTE_STRING=new Qr("");var Fj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(et(!!t),typeof t=="string"){let e=0,n=Fj.exec(t);if(et(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function yo(t){return typeof t=="string"?Qr.fromBase64String(t):Qr.fromUint8Array(t)}function Xv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function H0(t){let e=t.mapValue.fields.__previous_value__;return Xv(e)?H0(e):e}function qd(t){let e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}var qy=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},zy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Od={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xv(t)?4:q0(t)?9007199254740991:10:he()}function Fn(t,e){if(t===e)return!0;let n=vo(t);if(n!==vo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qd(t).isEqual(qd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return yo(i.bytesValue).isEqual(yo(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?wc(o)===wc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return go(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(I0(o)!==I0(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fn(o[u],a[u])))return!1;return!0}(t,e);default:return he()}}function Ec(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function _o(t,e){if(t===e)return 0;let n=vo(t),r=vo(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Qe(s.integerValue||s.doubleValue),u=Qe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return D0(t.timestampValue,e.timestampValue);case 4:return D0(qd(t),qd(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=yo(s),u=yo(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let f=Te(a[l],u[l]);if(f!==0)return f}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(Qe(s.latitude),Qe(o.latitude));return a!==0?a:Te(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){let a=s.values||[],u=o.values||[];for(let l=0;l<a.length&&l<u.length;++l){let f=_o(a[l],u[l]);if(f)return f}return Te(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Od.mapValue&&o===Od.mapValue)return 0;if(s===Od.mapValue)return 1;if(o===Od.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){let y=Te(u[p],f[p]);if(y!==0)return y;let E=_o(a[u[p]],l[f[p]]);if(E!==0)return E}return Te(u.length,f.length)}(t.mapValue,e.mapValue);default:throw he()}}function D0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=Yr(t),r=Yr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function wo(t){return Gy(t)}function Gy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return yo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=Gy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Gy(n.fields[o])}`;return i+"}"}(t.mapValue):he()}function Wy(t){return!!t&&"integerValue"in t}function e_(t){return!!t&&"arrayValue"in t}function Ld(t){return!!t&&"mapValue"in t}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return bc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function q0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var xn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=gc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ld(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){bc(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(gc(this.value))}};function z0(t){let e=[];return bc(t.fields,(n,r)=>{let i=new Bt([n]);if(Ld(r)){let s=z0(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new On(e)}var Eo=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,Ve.min(),Ve.min(),Ve.min(),xn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Ve.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Ve.min(),Ve.min(),xn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Ve.min(),Ve.min(),xn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Io=class{constructor(e,n){this.position=e,this.inclusive=n}};function b0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=_o(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}var Do=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Lj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var zd=class{},Xe=class t extends zd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Qy(e,n,r):n==="array-contains"?new Zy(e,r):n==="in"?new Xy(e,r):n==="not-in"?new ev(e,r):n==="array-contains-any"?new tv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Yy(e,r):new Jy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(_o(n,this.value)):n!==null&&vo(this.value)===vo(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Jr=class t extends zd{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return G0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function G0(t){return t.op==="and"}function W0(t){return Vj(t)&&G0(t)}function Vj(t){for(let e of t.filters)if(e instanceof Jr)return!1;return!0}function Ky(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+wo(t.value);if(W0(t))return t.filters.map(e=>Ky(e)).join(",");{let e=t.filters.map(n=>Ky(n)).join(",");return`${t.op}(${e})`}}function K0(t,e){return t instanceof Xe?function(r,i){return i instanceof Xe&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof Jr?function(r,i){return i instanceof Jr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&K0(o,i.filters[a]),!0):!1}(t,e):void he()}function Q0(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(t):t instanceof Jr?function(n){return n.op.toString()+" {"+n.getFilters().map(Q0).join(" ,")+"}"}(t):"Filter"}var Qy=class extends Xe{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){let n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}},Yy=class extends Xe{constructor(e,n){super(e,"in",n),this.keys=Y0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Jy=class extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=Y0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function Y0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}var Zy=class extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return e_(n)&&Ec(n.arrayValue,this.value)}},Xy=class extends Xe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}},ev=class extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Ec(this.value.arrayValue,n)}},tv=class extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!e_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}};var nv=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function C0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new nv(t,e,n,r,i,s,o)}function t_(t){let e=Re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ky(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wo(r)).join(",")),e.ue=n}return e.ue}function n_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Lj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!K0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}var bo=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Uj(t,e,n,r,i,s,o,a){return new bo(t,e,n,r,i,s,o,a)}function jj(t){return new bo(t)}function S0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Bj(t){return t.collectionGroup!==null}function yc(t){let e=Re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Do(s,r))}),n.has(Bt.keyField().canonicalString())||e.ce.push(new Do(Bt.keyField(),r))}return e.ce}function Hi(t){let e=Re(t);return e.le||(e.le=$j(e,yc(t))),e.le}function $j(t,e){if(t.limitType==="F")return C0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Do(i.field,s)});let n=t.endAt?new Io(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Io(t.startAt.position,t.startAt.inclusive):null;return C0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rv(t,e,n){return new bo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function J0(t,e){return n_(Hi(t),Hi(e))&&t.limitType===e.limitType}function Z0(t){return`${t_(Hi(t))}|lt:${t.limitType}`}function mc(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Q0(i)).join(", ")}]`),Zv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wo(i)).join(",")),`Target(${r})`}(Hi(t))}; limitType=${t.limitType})`}function r_(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):oe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of yc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=b0(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,yc(r),i)||r.endAt&&!function(o,a,u){let l=b0(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,yc(r),i))}(t,e)}function Hj(t){return(e,n)=>{let r=!1;for(let i of yc(t)){let s=qj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function qj(t,e,n){let r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?_o(u,l):he()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he()}}var Zr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return $0(this.inner)}size(){return this.innerSize}};var zj=new $t(oe.comparator);function Gd(){return zj}var X0=new $t(oe.comparator);function kd(...t){let e=X0;for(let n of t)e=e.insert(n.key,n);return e}function eS(t){let e=X0;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $i(){return vc()}function tS(){return vc()}function vc(){return new Zr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Gj=new $t(oe.comparator),Wj=new Tt(oe.comparator);function mt(...t){let e=Wj;for(let n of t)e=e.add(n);return e}var Kj=new Tt(Te);function Qj(){return Kj}function nS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function rS(t){return{integerValue:""+t}}function Yj(t,e){return Pj(e)?rS(e):nS(t,e)}var To=class{constructor(){this._=void 0}};function Jj(t,e,n){return t instanceof Co?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xv(s)&&(s=H0(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ki?sS(t,e):t instanceof Qi?oS(t,e):function(i,s){let o=iS(i,s),a=A0(o)+A0(i.Pe);return Wy(o)&&Wy(i.Pe)?rS(a):nS(i.serializer,a)}(t,e)}function Zj(t,e,n){return t instanceof Ki?sS(t,e):t instanceof Qi?oS(t,e):n}function iS(t,e){return t instanceof So?function(r){return Wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var Co=class extends To{},Ki=class extends To{constructor(e){super(),this.elements=e}};function sS(t,e){let n=aS(e);for(let r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Qi=class extends To{constructor(e){super(),this.elements=e}};function oS(t,e){let n=aS(e);for(let r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}var So=class extends To{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function A0(t){return Qe(t.integerValue||t.doubleValue)}function aS(t){return e_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Xj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ki&&i instanceof Ki||r instanceof Qi&&i instanceof Qi?go(r.elements,i.elements,Fn):r instanceof So&&i instanceof So?Fn(r.Pe,i.Pe):r instanceof Co&&i instanceof Co}(t.transform,e.transform)}var iv=class{constructor(e,n){this.version=e,this.transformResults=n}},qi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Ao=class{};function cS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wd(t.key,qi.none()):new Yi(t.key,t.data,qi.none());{let n=t.data,r=xn.empty(),i=new Tt(Bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new lr(t.key,r,new On(i.toArray()),qi.none())}}function e2(t,e,n){t instanceof Yi?function(i,s,o){let a=i.value.clone(),u=R0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof lr?function(i,s,o){if(!Vd(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=R0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(uS(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function _c(t,e,n,r){return t instanceof Yi?function(s,o,a,u){if(!Vd(s.precondition,o))return a;let l=s.value.clone(),f=N0(s.fieldTransforms,u,o);return l.setAll(f),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof lr?function(s,o,a,u){if(!Vd(s.precondition,o))return a;let l=N0(s.fieldTransforms,u,o),f=o.data;return f.setAll(uS(s)),f.setAll(l),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Vd(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=iS(r.transform,i||null);s!=null&&(n===null&&(n=xn.empty()),n.set(r.field,s))}return n||null}function M0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&go(r,i,(s,o)=>Xj(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Yi=class extends Ao{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},lr=class extends Ao{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function uS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function R0(t,e,n){let r=new Map;et(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zj(o,a,n[i]))}return r}function N0(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Jj(s,o,e))}return r}var Wd=class extends Ao{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},sv=class extends Ao{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ov=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&e2(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=_c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=tS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=cS(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),mt())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(n,r)=>M0(n,r))&&go(this.baseMutations,e.baseMutations,(n,r)=>M0(n,r))}},av=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){et(e.mutations.length===r.length);let i=function(){return Gj}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var cv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Be,ge;function n2(t){switch(t){default:return he();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function r2(t){if(t===void 0)return Gi("GRPC error has no .code"),N.UNKNOWN;switch(t){case Be.OK:return N.OK;case Be.CANCELLED:return N.CANCELLED;case Be.UNKNOWN:return N.UNKNOWN;case Be.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Be.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Be.INTERNAL:return N.INTERNAL;case Be.UNAVAILABLE:return N.UNAVAILABLE;case Be.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Be.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Be.NOT_FOUND:return N.NOT_FOUND;case Be.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Be.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Be.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Be.ABORTED:return N.ABORTED;case Be.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Be.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Be.DATA_LOSS:return N.DATA_LOSS;default:return he()}}(ge=Be||(Be={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var J6=new by([4294967295,4294967295],0);var uv=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function lv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function s2(t,e){return lv(t,e.toTimestamp())}function mo(t){return et(!!t),Ve.fromTimestamp(function(n){let r=Yr(n);return new gt(r.seconds,r.nanos)}(t))}function lS(t,e){return dv(t,e).canonicalString()}function dv(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function o2(t){let e=He.fromString(t);return et(p2(e)),e}function hv(t,e){return lS(t.databaseId,e.path)}function a2(t){let e=o2(t);return e.length===4?He.emptyPath():u2(e)}function c2(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function u2(t){return et(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function P0(t,e,n){return{name:hv(t,e),fields:n.value.mapValue.fields}}function l2(t,e){let n;if(e instanceof Yi)n={update:P0(t,e.key,e.value)};else if(e instanceof Wd)n={delete:hv(t,e.key)};else if(e instanceof lr)n={update:P0(t,e.key,e.data),updateMask:f2(e.fieldMask)};else{if(!(e instanceof sv))return he();n={verify:hv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof Co)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ki)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qi)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof So)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw he()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:s2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:he()}(t,e.precondition)),n}function d2(t,e){return t&&t.length>0?(et(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?mo(i.updateTime):mo(s);return o.isEqual(Ve.min())&&(o=mo(s)),new iv(o,i.transformResults||[])}(n,e))):[]}function h2(t){let e=a2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){et(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(p){let y=dS(p);return y instanceof Jr&&W0(y)?y.getFilters():[y]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(y=>function(C){return new Do(fo(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,Zv(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,E=p.values||[];return new Io(E,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,E=p.values||[];return new Io(E,y)}(n.endAt)),Uj(e,i,o,s,a,"F",u,l)}function dS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=fo(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=fo(n.unaryFilter.field);return Xe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=fo(n.unaryFilter.field);return Xe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=fo(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return he()}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(fo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return he()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jr.create(n.compositeFilter.filters.map(r=>dS(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return he()}}(n.compositeFilter.op))}(t):he()}function fo(t){return Bt.fromServerFormat(t.fieldPath)}function f2(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var fv=class{constructor(e){this.ct=e}};function m2(t){let e=h2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rv(e,e.limit,"L"):e}var Kd=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qe(e.integerValue));else if("doubleValue"in e){let r=Qe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),wc(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Yr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(yo(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?q0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):he()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let r=e.fields||{};this.Et(n,55);for(let i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){let r=e.values||[];this.Et(n,50);for(let i of r)this.It(i,n)}gt(e,n){this.Et(n,37),oe.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Kd.bt=new Kd;var pv=class{constructor(){this._n=new mv}addToCollectionParentIndex(e,n){return this._n.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Wi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},mv=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Tt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tt(He.comparator)).toArray()}};var Z6=new Uint8Array(0);var Pn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(41943040,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);var Ic=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var gv=class{constructor(){this.changes=new Zr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Eo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var yv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var vv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&_c(r.mutation,i,On.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,mt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=mt()){let i=$i();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=kd();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=$i();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,mt()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Gd(),o=vc(),a=function(){return vc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof lr)?s=s.insert(l.key,l):f!==void 0?(o.set(l.key,f.mutation.getFieldMask()),_c(f.mutation,l,f.mutation.getFieldMask(),gt.now())):o.set(l.key,On.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,f)=>o.set(l,f)),n.forEach((l,f)=>{var p;return a.set(l,new yv(f,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=vc(),i=new $t((o,a)=>o-a),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||On.empty();f=a.applyToLocalView(l,f),r.set(u,f);let p=(i.get(a.batchId)||mt()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,f=u.value,p=tS();f.forEach(y=>{if(!s.has(y)){let E=cS(n.get(y),r.get(y));E!==null&&p.set(y,E),s=s.add(y)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return oe.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Bj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):x.resolve($i()),a=-1,u=s;return o.next(l=>x.forEach(l,(f,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(f)?x.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{u=u.insert(f,y)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,mt())).next(f=>({batchId:a,changes:eS(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=kd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=kd();return this.indexManager.getCollectionParents(e,s).next(a=>x.forEach(a,u=>{let l=function(p,y){return new bo(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((p,y)=>{o=o.insert(p,y)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let f=l.getKey();o.get(f)===null&&(o=o.insert(f,Eo.newInvalidDocument(f)))});let a=kd();return o.forEach((u,l)=>{let f=s.get(u);f!==void 0&&_c(f.mutation,l,On.empty(),gt.now()),r_(n,l)&&(a=a.insert(u,l))}),a})}};var _v=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return x.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mo(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:m2(i.bundledQuery),readTime:mo(i.readTime)}}(n)),x.resolve()}};var wv=class{constructor(){this.overlays=new $t(oe.comparator),this.hr=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=$i();return x.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=$i(),s=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new $t((l,f)=>l-f),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=s.get(l.largestBatchId);f===null&&(f=$i(),s=s.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let a=$i(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>a.set(l,f)),!(a.size()>=i)););return x.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new cv(n,r));let s=this.hr.get(n);s===void 0&&(s=mt(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}};var Dc=class{constructor(){this.Pr=new Tt($e.Ir),this.Tr=new Tt($e.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let r=new $e(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new $e(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){let n=new oe(new He([])),r=new $e(n,e),i=new $e(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new oe(new He([])),r=new $e(n,e),i=new $e(n,e+1),s=mt();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new $e(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},$e=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return oe.comparator(e.key,n.key)||Te(e.pr,n.pr)}static Er(e,n){return Te(e.pr,n.pr)||oe.comparator(e.key,n.key)}};var Ev=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Tt($e.Ir)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new ov(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.wr=this.wr.add(new $e(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(o)}lookupMutationBatch(e,n){return x.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.br(r),s=i<0?0:i;return x.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new $e(n,0),i=new $e(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{let a=this.Sr(o.pr);s.push(a)}),x.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Te);return n.forEach(i=>{let s=new $e(i,0),o=new $e(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),x.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;oe.isDocumentKey(s)||(s=s.child(""));let o=new $e(new oe(s),0),a=new Tt(Te);return this.wr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.pr)),!0)},o),x.resolve(this.Dr(a))}Dr(e){let n=[];return e.forEach(r=>{let i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){et(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return x.forEach(n.mutations,i=>{let s=new $e(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){let r=new $e(n,0),i=this.wr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Iv=class{constructor(e){this.vr=e,this.docs=function(){return new $t(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():Eo.newInvalidDocument(n))}getEntries(e,n){let r=Gd();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Eo.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Gd(),o=n.path,a=new oe(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||Aj(Sj(f),r)<=0||(i.has(f.key)||r_(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return x.resolve(s)}getAllFromCollectionGroup(e,n,r,i){he()}Fr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Dv(this)}getSize(e){return x.resolve(this.size)}},Dv=class extends gv{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var bv=class{constructor(e){this.persistence=e,this.Mr=new Zr(n=>t_(n),n_),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Dc,this.targetCount=0,this.Lr=Ic.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),x.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new Ic(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.qn(n),x.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(s).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.Mr.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),x.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Nr.gr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.Nr.containsKey(n))}};var Tv=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new Nj(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new bv(this),this.indexManager=new pv,this.remoteDocumentCache=function(i){return new Iv(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new fv(n),this.$r=new _v(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new Ev(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new Cv(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return x.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}},Cv=class extends $y{constructor(e){super(),this.currentSequenceNumber=e}},Sv=class t{constructor(e){this.persistence=e,this.zr=new Dc,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw he()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),x.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.Jr,r=>{let i=oe.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Ve.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return x.or([()=>x.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Av=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=mt(),i=mt();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var Mv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Rv=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return AT()?8:Rj(We())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Mv;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(pc()<=de.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",mc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),x.resolve()):(pc()<=de.DEBUG&&q("QueryEngine","Query:",mc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(pc()<=de.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",mc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(n))):x.resolve())}ji(e,n){if(S0(n))return x.resolve(null);let r=Hi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rv(n,null,"F"),r=Hi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=mt(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.Zi(n,a);return this.Xi(n,l,o,u.readTime)?this.ji(e,rv(n,null,"F")):this.es(e,l,n,u)}))})))}Hi(e,n,r,i){return S0(n)||i.isEqual(Ve.min())?x.resolve(null):this.zi.getDocuments(e,r).next(s=>{let o=this.Zi(n,s);return this.Xi(n,o,r,i)?x.resolve(null):(pc()<=de.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),mc(n)),this.es(e,o,n,Cj(i,-1)).next(a=>a))})}Zi(e,n){let r=new Tt(Hj(e));return n.forEach((i,s)=>{r_(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return pc()<=de.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",mc(n)),this.zi.getDocumentsMatchingQuery(e,n,Wi.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Nv=class{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new $t(Te),this.rs=new Zr(s=>t_(s),n_),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vv(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function g2(t,e,n,r){return new Nv(t,e,n,r)}function hS(t,e){return D(this,null,function*(){let n=Re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=mt();for(let l of i){o.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of s){a.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({us:l,removedBatchIds:o,addedBatchIds:a}))})})})}function y2(t,e){let n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,u,l,f){let p=l.batch,y=p.keys(),E=x.resolve();return y.forEach(C=>{E=E.next(()=>f.getEntry(u,C)).next(M=>{let R=l.docVersions.get(C);et(R!==null),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),f.addEntry(M)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=mt();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function v2(t){let e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function _2(t,e){let n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Qd=class{constructor(){this.activeTargetIds=Qj()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Pv=class{constructor(){this.no=new Qd,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Qd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var xv=class{io(e){}shutdown(){}};var Yd=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fd=null;function Ny(){return Fd===null?Fd=function(){return 268435456+Math.round(2147483648*Math.random())}():Fd++,"0x"+Fd.toString(16)}var w2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Ov=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var pt="WebChannelConnection",kv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){let a=Ny(),u=this.vo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(l,s,o),this.Mo(n,u,l,i).then(f=>(q("RestConnection",`Received RPC '${n}' ${a}: `,f),f),f=>{throw Ud("RestConnection",`RPC '${n}' ${a} failed with error: `,f,"url: ",u,"request:",i),f})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){let i=w2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){let s=Ny();return new Promise((o,a)=>{let u=new Ty;u.setWithCredentials(!0),u.listenOnce(Sy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case fc.NO_ERROR:let f=u.getResponseJson();q(pt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),o(f);break;case fc.TIMEOUT:q(pt,`RPC '${e}' ${s} timed out`),a(new W(N.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:let p=u.getStatus();if(q(pt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let E=y?.error;if(E&&E.status&&E.message){let C=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(F)>=0?F:N.UNKNOWN}(E.status);a(new W(C,E.message))}else a(new W(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(N.UNAVAILABLE,"Connection failed."));break;default:he()}}finally{q(pt,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);q(pt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Oo(e,n,r){let i=Ny(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Ry(),a=My(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Cy({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=s.join("");q(pt,`Creating RPC '${e}' stream ${i}: ${f}`,u);let p=o.createWebChannel(f,u),y=!1,E=!1,C=new Ov({lo:R=>{E?q(pt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(y||(q(pt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),q(pt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},ho:()=>p.close()}),M=(R,F,B)=>{R.listen(F,j=>{try{B(j)}catch(K){setTimeout(()=>{throw K},0)}})};return M(p,ho.EventType.OPEN,()=>{E||(q(pt,`RPC '${e}' stream ${i} transport opened.`),C.mo())}),M(p,ho.EventType.CLOSE,()=>{E||(E=!0,q(pt,`RPC '${e}' stream ${i} transport closed`),C.po())}),M(p,ho.EventType.ERROR,R=>{E||(E=!0,Ud(pt,`RPC '${e}' stream ${i} transport errored:`,R),C.po(new W(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,ho.EventType.MESSAGE,R=>{var F;if(!E){let B=R.data[0];et(!!B);let j=B,K=j.error||((F=j[0])===null||F===void 0?void 0:F.error);if(K){q(pt,`RPC '${e}' stream ${i} received error:`,K);let Ne=K.status,ne=function(v){let I=Be[v];if(I!==void 0)return r2(I)}(Ne),w=K.message;ne===void 0&&(ne=N.INTERNAL,w="Unknown error status: "+Ne+" with message "+K.message),E=!0,C.po(new W(ne,w)),p.close()}else q(pt,`RPC '${e}' stream ${i} received:`,B),C.yo(B)}}),M(a,Ay.STAT_EVENT,R=>{R.stat===xd.PROXY?q(pt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===xd.NOPROXY&&q(pt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.fo()},0),C}};function Py(){return typeof document<"u"?document:null}function ah(t){return new uv(t,!0)}var Jd=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var Fv=class{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Jd(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return D(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return D(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return D(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Gi(n.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{let i=new W(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){let r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(()=>D(this,null,function*(){this.state=0,this.start()}))}c_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var Lv=class extends Fv{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=d2(e.writeResults,e.commitTime),r=mo(e.commitTime);return this.listener.A_(r,n)}return et(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=c2(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>l2(this.serializer,r))};this.i_(n)}};var Vv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new W(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,dv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(N.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,dv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(N.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},Uv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Gi(n),this.y_=!1):q("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var jv=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(()=>D(this,null,function*(){Cc(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let l=Re(u);l.M_.add(4),yield Tc(l),l.N_.set("Unknown"),l.M_.delete(4),yield ch(l)})}(this))}))}),this.N_=new Uv(r,i)}};function ch(t){return D(this,null,function*(){if(Cc(t))for(let e of t.x_)yield e(!0)})}function Tc(t){return D(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Cc(t){return Re(t).M_.size===0}function fS(t,e,n){return D(this,null,function*(){if(!oh(e))throw e;t.M_.add(1),yield Tc(t),t.N_.set("Offline"),n||(n=()=>v2(t.localStore)),t.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield ch(t)}))})}function pS(t,e){return e().catch(n=>fS(t,n,e))}function uh(t){return D(this,null,function*(){let e=Re(t),n=Xr(e),r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;E2(e);)try{let i=yield _2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,I2(e,i)}catch(i){yield fS(e,i)}mS(e)&&gS(e)})}function E2(t){return Cc(t)&&t.v_.length<10}function I2(t,e){t.v_.push(e);let n=Xr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function mS(t){return Cc(t)&&!Xr(t).Zo()&&t.v_.length>0}function gS(t){Xr(t).start()}function D2(t){return D(this,null,function*(){Xr(t).V_()})}function b2(t){return D(this,null,function*(){let e=Xr(t);for(let n of t.v_)e.d_(n.mutations)})}function T2(t,e,n){return D(this,null,function*(){let r=t.v_.shift(),i=av.from(r,e,n);yield pS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield uh(t)})}function C2(t,e){return D(this,null,function*(){e&&Xr(t).E_&&(yield function(r,i){return D(this,null,function*(){if(function(o){return n2(o)&&o!==N.ABORTED}(i.code)){let s=r.v_.shift();Xr(r).t_(),yield pS(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield uh(r)}})}(t,e)),mS(t)&&gS(t)})}function x0(t,e){return D(this,null,function*(){let n=Re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Cc(n);n.M_.add(3),yield Tc(n),r&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield ch(n)})}function S2(t,e){return D(this,null,function*(){let n=Re(t);e?(n.M_.delete(2),yield ch(n)):e||(n.M_.add(2),yield Tc(n),n.N_.set("Unknown"))})}function Xr(t){return t.k_||(t.k_=function(n,r,i){let s=Re(n);return s.f_(),new Lv(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:D2.bind(null,t),Ao:C2.bind(null,t),R_:b2.bind(null,t),A_:T2.bind(null,t)}),t.x_.push(e=>D(this,null,function*(){e?(t.k_.t_(),yield uh(t)):(yield t.k_.stop(),t.v_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var Bv=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yS(t,e){if(Gi("AsyncQueue",`${e}: ${t}`),oh(t))return new W(N.UNAVAILABLE,`${e}: ${t}`);throw t}var $v=class{constructor(){this.queries=new Zr(e=>Z0(e),J0),this.onlineState="Unknown",this.z_=new Set}};function A2(t){t.z_.forEach(e=>{e.next()})}var O0,k0;(k0=O0||(O0={})).J_="default",k0.Cache="cache";var Hv=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Zr(a=>Z0(a),J0),this.Da=new Map,this.Ca=new Set,this.va=new $t(oe.comparator),this.Fa=new Map,this.Ma=new Dc,this.xa={},this.Oa=new Map,this.Na=Ic.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function M2(t,e,n){return D(this,null,function*(){let r=x2(t);try{let i=yield function(o,a){let u=Re(o),l=gt.now(),f=a.reduce((E,C)=>E.add(C.key),mt()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let C=Gd(),M=mt();return u.os.getEntries(E,f).next(R=>{C=R,C.forEach((F,B)=>{B.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,C)).next(R=>{p=R;let F=[];for(let B of a){let j=t2(B,p.get(B.key).overlayedDocument);j!=null&&F.push(new lr(B.key,j,z0(j.value.mapValue),qi.exists(!0)))}return u.mutationQueue.addMutationBatch(E,l,F,a)}).next(R=>{y=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(E,R.batchId,F)})}).then(()=>({batchId:y.batchId,changes:eS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.xa[o.currentUser.toKey()];l||(l=new $t(Te)),l=l.insert(a,u),o.xa[o.currentUser.toKey()]=l}(r,i.batchId,n),yield lh(r,i.changes),yield uh(r.remoteStore)}catch(i){let s=yS(i,"Failed to persist write");n.reject(s)}})}function F0(t,e,n){let r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ba.forEach((s,o)=>{let a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=Re(o);u.onlineState=a;let l=!1;u.queries.forEach((f,p)=>{for(let y of p.U_)y.j_(a)&&(l=!0)}),l&&A2(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function R2(t,e){return D(this,null,function*(){let n=Re(t),r=e.batch.batchId;try{let i=yield y2(n.localStore,e);_S(n,r,null),vS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield lh(n,i)}catch(i){yield B0(i)}})}function N2(t,e,n){return D(this,null,function*(){let r=Re(t);try{let i=yield function(o,a){let u=Re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(et(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);_S(r,e,n),vS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield lh(r,i)}catch(i){yield B0(i)}})}function vS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function _S(t,e,n){let r=Re(t),i=r.xa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function lh(t,e,n){return D(this,null,function*(){let r=Re(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(l=>{if((l||n)&&r.isPrimaryClient){let f=l&&!l.fromCache;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(l){i.push(l);let f=Av.Ki(u.targetId,l);s.push(f)}}))}),yield Promise.all(o),r.Sa.h_(i),yield function(u,l){return D(this,null,function*(){let f=Re(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.qi,E=>f.persistence.referenceDelegate.addReference(p,y.targetId,E)).next(()=>x.forEach(y.Qi,E=>f.persistence.referenceDelegate.removeReference(p,y.targetId,E)))))}catch(p){if(!oh(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let E=f.ns.get(y),C=E.snapshotVersion,M=E.withLastLimboFreeSnapshotVersion(C);f.ns=f.ns.insert(y,M)}}})}(r.localStore,s))})}function P2(t,e){return D(this,null,function*(){let n=Re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield hS(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new W(N.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield lh(n,r.us)}})}function x2(t){let e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=N2.bind(null,e),e}var Zd=class{constructor(){this.synchronizeTabs=!1}initialize(e){return D(this,null,function*(){this.serializer=ah(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return g2(this.persistence,new Rv,e.initialUser,this.serializer)}createPersistence(e){return new Tv(Sv.Hr,this.serializer)}createSharedClientState(e){return new Pv}terminate(){return D(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var qv=class{initialize(e,n){return D(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=P2.bind(null,this.syncEngine),yield S2(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $v}()}createDatastore(e){let n=ah(e.databaseInfo.databaseId),r=function(s){return new kv(s)}(e.databaseInfo);return function(s,o,a,u){return new Vv(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new jv(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return Yd.D()?new Yd:new xv}())}createSyncEngine(e,n){return function(i,s,o,a,u,l,f){let p=new Hv(i,s,o,a,u,l);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return D(this,null,function*(){var e;yield function(r){return D(this,null,function*(){let i=Re(r);q("RemoteStore","RemoteStore shutting down."),i.M_.add(5),yield Tc(i),i.O_.shutdown(),i.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var zv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=Bd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,s=>D(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new W(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=yS(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function xy(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield hS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function L0(t,e){return D(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield k2(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>x0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>x0(e.remoteStore,i)),t._onlineComponents=e})}function O2(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function k2(t){return D(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield xy(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!O2(n))throw n;Ud("Error using user provided cache. Falling back to memory cache: "+n),yield xy(t,new Zd)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield xy(t,new Zd);return t._offlineComponents})}function F2(t){return D(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield L0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield L0(t,new qv))),t._onlineComponents})}function L2(t){return F2(t).then(e=>e.syncEngine)}function wS(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var V0=new Map;function ES(t,e,n){if(!n)throw new W(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function V2(t,e,n,r){if(e===!0&&r===!0)throw new W(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U0(t){if(!oe.isDocumentKey(t))throw new W(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if(oe.isDocumentKey(t))throw new W(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function i_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he()}function IS(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=i_(t);throw new W(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Xd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new W(N.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Mo=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new W(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new W(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Oy;switch(r.type){case"firstParty":return new Vy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=V0.get(n);r&&(q("ComponentProvider","Removing Datastore"),V0.delete(n),r.terminate())}(this),Promise.resolve()}};function DS(t,e,n,r={}){var i;let s=(t=IS(t,Mo))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ud("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ze.MOCK_USER;else{a=DT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new W(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ze(l)}t._authCredentials=new ky(new jd(a,u))}}var Gv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},ur=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Kr=class t extends Gv{constructor(e,n,r){super(e,n,jj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ur(this.firestore,null,new oe(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function bS(t,e,...n){if(t=ft(t),ES("collection","path",e),t instanceof Mo){let r=He.fromString(e,...n);return j0(r),new Kr(t,null,r)}{if(!(t instanceof ur||t instanceof Kr))throw new W(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return j0(r),new Kr(t.firestore,null,r)}}function TS(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Bd.newId()),ES("doc","path",e),t instanceof Mo){let r=He.fromString(e,...n);return U0(r),new ur(t,null,new oe(r))}{if(!(t instanceof ur||t instanceof Kr))throw new W(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return U0(r),new ur(t.firestore,t instanceof Kr?t.converter:null,new oe(r))}}var Wv=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Jd(this,"async_queue_retry"),this.hu=()=>{let n=Py();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Py();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new cr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return D(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!oh(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Gi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let i=Bv.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&he()}verifyOperationInProgress(){}du(){return D(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};var eh=class extends Mo{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Wv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||SS(this),this._firestoreClient.terminate()}};function CS(t,e){let n=typeof t=="object"?t:to(),r=typeof t=="string"?t:e||"(default)",i=Ya(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=IT("firestore");s&&DS(i,...s)}return i}function U2(t){return t._firestoreClient||SS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SS(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,f){return new qy(a,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,wS(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new zv(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var th=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qr.fromBase64String(e))}catch(n){throw new W(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var nh=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var rh=class{constructor(e){this._methodName=e}};var ih=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var j2=/^__.*__$/,Kv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yi(e,this.data,n,this.fieldTransforms)}};function AS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he()}}var Qv=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return sh(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(AS(this.fu)&&j2.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},Yv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ah(e)}Fu(e,n,r,i=!1){return new Qv({fu:e,methodName:n,vu:r,path:Bt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function B2(t){let e=t._freezeSettings(),n=ah(t._databaseId);return new Yv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $2(t,e,n,r,i,s={}){let o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);PS("Data must be an object, but it was:",o,r);let a=RS(r,o),u,l;if(s.merge)u=new On(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let f=[];for(let p of s.mergeFields){let y=H2(e,p,n);if(!o.contains(y))throw new W(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);G2(f,y)||f.push(y)}u=new On(f),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Kv(new xn(a),u,l)}function MS(t,e){if(NS(t=ft(t)))return PS("Unsupported field value:",e,t),RS(t,e);if(t instanceof rh)return function(r,i){if(!AS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=MS(a,i.bu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Yj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=gt.fromDate(r);return{timestampValue:lv(i.serializer,s)}}if(r instanceof gt){let s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lv(i.serializer,s)}}if(r instanceof ih)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof th)return{bytesValue:i2(i.serializer,r._byteString)};if(r instanceof ur){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:lS(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${i_(r)}`)}(t,e)}function RS(t,e){let n={};return $0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(t,(r,i)=>{let s=MS(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function NS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof ih||t instanceof th||t instanceof ur||t instanceof rh)}function PS(t,e,n){if(!NS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=i_(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function H2(t,e,n){if((e=ft(e))instanceof nh)return e._internalPath;if(typeof e=="string")return z2(t,e);throw sh("Field path arguments must be of type string or ",t,!1,void 0,n)}var q2=new RegExp("[~\\*/\\[\\]]");function z2(t,e,n){if(e.search(q2)>=0)throw sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function sh(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new W(N.INVALID_ARGUMENT,a+t+u)}function G2(t,e){return t.some(n=>n.isEqual(e))}function W2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function xS(t,e){let n=IS(t.firestore,eh),r=TS(t),i=W2(t.converter,e);return K2(n,[$2(B2(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then(()=>r)}function K2(t,e){return function(r,i){let s=new cr;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return M2(yield L2(r),i,s)})),s.promise}(U2(t),e)}(function(e,n=!0){(function(i){Ro=i})($r),Br(new en("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new eh(new Fy(r.getProvider("auth-internal")),new jy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new W(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zy(l.options.projectId,f)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ke(E0,"4.6.3",e),Ke(E0,"4.6.3","esm2017")})();var Ji=class{constructor(e){return e}},OS="firestore",s_=class{constructor(){return Ja(OS)}};var o_=new z("angularfire2.firestore-instances");function Q2(t,e){let n=Zl(OS,t,e);return n&&new Ji(n)}function Y2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ji(r)}}var J2={provide:s_,deps:[[new Et,o_]]},Z2={provide:Ji,useFactory:Q2,deps:[[new Et,o_],rr]};function kS(t,...e){return Ke("angularfire",ki.full,"fst"),wn([Z2,J2,{provide:o_,useFactory:Y2(t),multi:!0,deps:[ye,It,io,Fi,[new Et,oc],[new Et,ro],...e]}])}var FS=tn(xS,!0);var LS=tn(bS,!0);var VS=tn(CS,!0);function eB(t,e){if(t&1&&(Z(0,"div",15)(1,"div",16),_e(2),ee()()),t&2){let n=In();Ye(2),Bs(" ",n.errorMessage," ")}}var US=(()=>{let e=class e{constructor(r,i,s){this.authService=r,this.router=i,this.firestore=s,this.user=new Nd("",""),this.errorEmail=-1,this.errorMessage=""}register(){let r=LS(this.firestore,"registros");this.authService.crearUsuario(this.user.email,this.user.password).then(i=>{i.user.email!==null&&(this.user.email=i.user.email,this.router.navigate(["/home"]),this.errorEmail=-1,FS(r,{date:new Date,usuario:this.user.email}),this.authService.guardarUsuario(this.user.email))}).catch(i=>{console.log(i),i.code===ao.EMAIL_EXISTS?this.errorMessage="This email is already registered. Please use a different email.":this.errorMessage="An error occurred during registration. Please try again.",this.errorEmail=1})}};e.\u0275fac=function(i){return new(i||e)(te(Wr),te(nt),te(Ji))},e.\u0275cmp=Mt({type:e,selectors:[["app-register"]],standalone:!0,features:[Pt],decls:21,vars:3,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-7"],[1,"card",2,"background-color","rgba(0, 0, 0, 0.875)","border-color","white"],[1,"card-header",2,"background-color","rgb(172, 8, 194)","color","white","height","35px","font-size","15px","font-weight","bold"],[1,"card-body"],[3,"ngSubmit"],[1,"form-group"],["for","email",2,"color","white"],["type","text","id","email","name","email","placeholder","Enter email",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],["for","password",2,"color","white"],["type","password","id","password","name","password","placeholder","Enter password",1,"form-control",2,"background-color","rgba(255, 255, 255, 0.1)","color","white",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-center","align-items-center"],["type","submit",1,"btn","btn-primary",2,"background-color","rgb(172, 8, 194)","border-color","#e100ff"],["class","mt-3",4,"ngIf"],[1,"mt-3"],["role","alert",1,"alert","alert-danger"]],template:function(i,s){i&1&&(Z(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),_e(5,"WELCOME - Create your account"),ee(),Z(6,"div",5)(7,"form",6),dt("ngSubmit",function(){return s.register()}),Z(8,"div",7)(9,"label",8),_e(10,"Email"),ee(),Z(11,"input",9),bi("ngModelChange",function(a){return $s(s.user.email,a)||(s.user.email=a),a}),ee()(),Z(12,"div",7)(13,"label",10),_e(14,"Password"),ee(),Z(15,"input",11),bi("ngModelChange",function(a){return $s(s.user.password,a)||(s.user.password=a),a}),ee()(),bt(16,"br"),Z(17,"div",12)(18,"button",13),_e(19,"Register"),ee()()(),Zn(20,eB,3,1,"div",14),ee()()()()()),i&2&&(Ye(11),Di("ngModel",s.user.email),Ye(4),Di("ngModel",s.user.password),Ye(5),Dt("ngIf",s.errorEmail===1))},dependencies:[Rd,Md,lo,Cd,Sd,hc,dc,Pr]});let t=e;return t})();var jS=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:KC},{path:"about-me",component:vT},{path:"log-in",component:y0},{path:"register",component:US}];function BS(t){return new P(3e3,!1)}function tB(){return new P(3100,!1)}function nB(){return new P(3101,!1)}function rB(t){return new P(3001,!1)}function iB(t){return new P(3003,!1)}function sB(t){return new P(3004,!1)}function oB(t,e){return new P(3005,!1)}function aB(){return new P(3006,!1)}function cB(){return new P(3007,!1)}function uB(t,e){return new P(3008,!1)}function lB(t){return new P(3002,!1)}function dB(t,e,n,r,i){return new P(3010,!1)}function hB(){return new P(3011,!1)}function fB(){return new P(3012,!1)}function pB(){return new P(3200,!1)}function mB(){return new P(3202,!1)}function gB(){return new P(3013,!1)}function yB(t){return new P(3014,!1)}function vB(t){return new P(3015,!1)}function _B(t){return new P(3016,!1)}function wB(t,e){return new P(3404,!1)}function EB(t){return new P(3502,!1)}function IB(t){return new P(3503,!1)}function DB(){return new P(3300,!1)}function bB(t){return new P(3504,!1)}function TB(t){return new P(3301,!1)}function CB(t,e){return new P(3302,!1)}function SB(t){return new P(3303,!1)}function AB(t,e){return new P(3400,!1)}function MB(t){return new P(3401,!1)}function RB(t){return new P(3402,!1)}function NB(t,e){return new P(3505,!1)}function ei(t){switch(t.length){case 0:return new Vr;case 1:return t[0];default:return new za(t)}}function tA(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(u=>{let l=u.get("offset"),f=l==o,p=f&&a||new Map;u.forEach((y,E)=>{let C=E,M=y;if(E!=="offset")switch(C=t.normalizePropertyName(C,i),M){case zl:M=n.get(E);break;case Cn:M=r.get(E);break;default:M=t.normalizeStyleValue(E,C,M,i);break}p.set(C,M)}),f||s.push(p),a=p,o=l}),i.length)throw EB(i);return s}function M_(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&a_(n,"start",t)));break;case"done":t.onDone(()=>r(n&&a_(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&a_(n,"destroy",t)));break}}function a_(t,e,n){let r=n.totalTime,i=!!n.disabled,s=R_(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function R_(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function qt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function $S(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var PB=typeof document>"u"?null:document.documentElement;function N_(t){let e=t.parentNode||t.host||null;return e===PB?null:e}function xB(t){return t.substring(1,6)=="ebkit"}var Zi=null,HS=!1;function OB(t){Zi||(Zi=kB()||{},HS=Zi.style?"WebkitAppearance"in Zi.style:!1);let e=!0;return Zi.style&&!xB(t)&&(e=t in Zi.style,!e&&HS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Zi.style)),e}function kB(){return typeof document<"u"?document.body:null}function nA(t,e){for(;e;){if(e===t)return!0;e=N_(e)}return!1}function rA(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var P_=(()=>{let e=class e{validateStyleProperty(r){return OB(r)}matchesElement(r,i){return!1}containsElement(r,i){return nA(r,i)}getParentElement(r){return N_(r)}query(r,i,s){return rA(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,u=[],l){return new Vr(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})(),F_=class F_{};F_.NOOP=new P_;var ts=F_,ns=class{};var FB=1e3,iA="{{",LB="}}",sA="ng-enter",f_="ng-leave",dh="ng-trigger",gh=".ng-trigger",qS="ng-animating",p_=".ng-animating";function dr(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:m_(parseFloat(e[1]),e[2])}function m_(t,e){switch(e){case"s":return t*FB;default:return t}}function yh(t,e,n){return t.hasOwnProperty("duration")?t:VB(t,e,n)}function VB(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(BS(t)),{duration:0,delay:0,easing:""};i=m_(parseFloat(a[1]),a[2]);let u=a[3];u!=null&&(s=m_(parseFloat(u),a[4]));let l=a[5];l&&(o=l)}else i=t;if(!n){let a=!1,u=e.length;i<0&&(e.push(tB()),a=!0),s<0&&(e.push(nB()),a=!0),a&&e.splice(u,0,BS(t))}return{duration:i,delay:s,easing:o}}function UB(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function Ln(t,e,n){e.forEach((r,i)=>{let s=x_(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function es(t,e){e.forEach((n,r)=>{let i=x_(r);t.style[i]=""})}function Sc(t){return Array.isArray(t)?t.length==1?t[0]:yT(t):t}function jB(t,e,n){let r=e.params||{},i=oA(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(rB(s))})}var g_=new RegExp(`${iA}\\s*(.+?)\\s*${LB}`,"g");function oA(t){let e=[];if(typeof t=="string"){let n;for(;n=g_.exec(t);)e.push(n[1]);g_.lastIndex=0}return e}function Mc(t,e,n){let r=`${t}`,i=r.replace(g_,(s,o)=>{let a=e[o];return a==null&&(n.push(iB(o)),a=""),a.toString()});return i==r?t:i}var BB=/-+([a-z0-9])/g;function x_(t){return t.replace(BB,(...e)=>e[1].toUpperCase())}function $B(t,e){return t===0||e===0}function HB(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,O_(t,a)))}}return e}function Ht(t,e,n){switch(e.type){case ie.Trigger:return t.visitTrigger(e,n);case ie.State:return t.visitState(e,n);case ie.Transition:return t.visitTransition(e,n);case ie.Sequence:return t.visitSequence(e,n);case ie.Group:return t.visitGroup(e,n);case ie.Animate:return t.visitAnimate(e,n);case ie.Keyframes:return t.visitKeyframes(e,n);case ie.Style:return t.visitStyle(e,n);case ie.Reference:return t.visitReference(e,n);case ie.AnimateChild:return t.visitAnimateChild(e,n);case ie.AnimateRef:return t.visitAnimateRef(e,n);case ie.Query:return t.visitQuery(e,n);case ie.Stagger:return t.visitStagger(e,n);default:throw sB(e.type)}}function O_(t,e){return window.getComputedStyle(t)[e]}var qB=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),vh=class extends ns{normalizePropertyName(e,n){return x_(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(qB.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(oB(e,r))}return o+s}};var _h="*";function zB(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>GB(r,n,e)):n.push(t),n}function GB(t,e,n){if(t[0]==":"){let u=WB(t,n);if(typeof u=="function"){e.push(u);return}t=u}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(vB(t)),e;let i=r[1],s=r[2],o=r[3];e.push(zS(i,o));let a=i==_h&&o==_h;s[0]=="<"&&!a&&e.push(zS(o,i))}function WB(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(_B(t)),"* => *"}}var hh=new Set(["true","1"]),fh=new Set(["false","0"]);function zS(t,e){let n=hh.has(t)||fh.has(t),r=hh.has(e)||fh.has(e);return(i,s)=>{let o=t==_h||t==i,a=e==_h||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?hh.has(t):fh.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?hh.has(e):fh.has(e)),o&&a}}var aA=":self",KB=new RegExp(`s*${aA}s*,?`,"g");function cA(t,e,n,r){return new y_(t).build(e,n,r)}var GS="",y_=class{constructor(e){this._driver=e}build(e,n,r){let i=new v_(n);return this._resetContextStyleTimingState(i),Ht(this,Sc(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=GS,e.collectedStyles=new Map,e.collectedStyles.set(GS,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(aB()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==ie.State){let u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(f=>{u.name=f,s.push(this.visitState(u,n))}),u.name=l}else if(a.type==ie.Transition){let u=this.visitTransition(a,n);r+=u.queryCount,i+=u.depCount,o.push(u)}else n.errors.push(cB())}),{type:ie.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{oA(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&n.errors.push(uB(e.name,[...s.values()]))}return{type:ie.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Ht(this,Sc(e.animation),n),i=zB(e.expr,n.errors);return{type:ie.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Xi(e.options)}}visitSequence(e,n){return{type:ie.Sequence,steps:e.steps.map(r=>Ht(this,r,n)),options:Xi(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Ht(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:ie.Group,steps:s,options:Xi(e.options)}}visitAnimate(e,n){let r=ZB(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:rt({});if(s.type==ie.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let l={};r.easing&&(l.easing=r.easing),o=rt(l)}n.currentTime+=r.duration+r.delay;let u=this.visitStyle(o,n);u.isEmptyStep=a,i=u}return n.currentAnimateTimings=null,{type:ie.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===Cn?r.push(a):n.errors.push(lB(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let u of a.values())if(u.toString().indexOf(iA)>=0){s=!0;break}}}),{type:ie.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,u)=>{let l=n.collectedStyles.get(n.currentQuerySelector),f=l.get(u),p=!0;f&&(s!=i&&s>=f.startTime&&i<=f.endTime&&(n.errors.push(dB(u,f.startTime,f.endTime,s,i)),p=!1),s=f.startTime),p&&l.set(u,{startTime:s,endTime:i}),n.options&&jB(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:ie.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(hB()),r;let i=1,s=0,o=[],a=!1,u=!1,l=0,f=e.steps.map(F=>{let B=this._makeStyleAst(F,n),j=B.offset!=null?B.offset:JB(B.styles),K=0;return j!=null&&(s++,K=B.offset=j),u=u||K<0||K>1,a=a||K<l,l=K,o.push(K),B});u&&n.errors.push(fB()),a&&n.errors.push(pB());let p=e.steps.length,y=0;s>0&&s<p?n.errors.push(mB()):s==0&&(y=i/(p-1));let E=p-1,C=n.currentTime,M=n.currentAnimateTimings,R=M.duration;return f.forEach((F,B)=>{let j=y>0?B==E?1:y*B:o[B],K=j*R;n.currentTime=C+M.delay+K,M.duration=K,this._validateStyleAst(F,n),F.offset=j,r.styles.push(F)}),r}visitReference(e,n){return{type:ie.Reference,animation:Ht(this,Sc(e.animation),n),options:Xi(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:ie.AnimateChild,options:Xi(e.options)}}visitAnimateRef(e,n){return{type:ie.AnimateRef,animation:this.visitReference(e.animation,n),options:Xi(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=QB(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,qt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Ht(this,Sc(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:ie.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Xi(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(gB());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:yh(e.timings,n.errors,!0);return{type:ie.Stagger,animation:Ht(this,Sc(e.animation),n),timings:r,options:null}}};function QB(t){let e=!!t.split(/\s*,\s*/).find(n=>n==aA);return e&&(t=t.replace(KB,"")),t=t.replace(/@\*/g,gh).replace(/@\w+/g,n=>gh+"-"+n.slice(1)).replace(/:animating/g,p_),[t,e]}function YB(t){return t?L({},t):null}var v_=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function JB(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function ZB(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=yh(t,e).duration;return c_(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=c_(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=yh(n,e);return c_(i.duration,i.delay,i.easing)}function Xi(t){return t?(t=L({},t),t.params&&(t.params=YB(t.params))):t={},t}function c_(t,e,n){return{duration:t,delay:e,easing:n}}function k_(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var Rc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},XB=1,e$=":enter",t$=new RegExp(e$,"g"),n$=":leave",r$=new RegExp(n$,"g");function uA(t,e,n,r,i,s=new Map,o=new Map,a,u,l=[]){return new __().buildKeyframes(t,e,n,r,i,s,o,a,u,l)}var __=class{buildKeyframes(e,n,r,i,s,o,a,u,l,f=[]){l=l||new Rc;let p=new w_(e,n,l,i,s,f,[]);p.options=u;let y=u.delay?dr(u.delay):0;p.currentTimeline.delayNextStep(y),p.currentTimeline.setStyles([o],null,p.errors,u),Ht(this,r,p);let E=p.timelines.filter(C=>C.containsAnimation());if(E.length&&a.size){let C;for(let M=E.length-1;M>=0;M--){let R=E[M];if(R.element===n){C=R;break}}C&&!C.allowOnlyTimelineStyles()&&C.setStyles([a],null,p.errors,u)}return E.length?E.map(C=>C.buildKeyframes()):[k_(n,[],[],[],0,y,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:dr(Mc(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?dr(r.duration):null,a=r.delay!=null?dr(r.delay):null;return o!==0&&e.forEach(u=>{let l=n.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Ht(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==ie.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=wh);let o=dr(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Ht(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?dr(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Ht(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?Mc(r,n.params,n.errors):r;return yh(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==ie.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{let l=u.offset||0;a.forwardTime(l*s),a.setStyles(u.styles,u.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?dr(i.delay):0;s&&(n.previousNode.type===ie.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=wh);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let u=null;a.forEach((l,f)=>{n.currentQueryIndex=f;let p=n.createSubContext(e.options,l);s&&p.delayNextStep(s),l===n.element&&(u=p.currentTimeline),Ht(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let y=p.currentTimeline.currentTime;o=Math.max(o,y)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),u&&(n.currentTimeline.mergeTimelineCollectedStyles(u),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),u=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime;break}let f=n.currentTimeline;u&&f.delayNextStep(u);let p=f.currentTime;Ht(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-p+(i.startTime-r.currentTimeline.startTime)}},wh={},w_=class t{constructor(e,n,r,i,s,o,a,u){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=wh,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Eh(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=dr(r.duration)),r.delay!=null&&(i.delay=dr(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=Mc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=wh,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new E_(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(t$,"."+this._enterClassName),e=e.replace(r$,"."+this._leaveClassName);let u=r!=1,l=this._driver.query(this.element,e,u);r!==0&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&a.length==0&&o.push(yB(n)),a}},Eh=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=XB,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Cn),this._currentKeyframe.set(n,Cn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=i$(e,this._globalTimelineStyles);for(let[a,u]of o){let l=Mc(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Cn),this._updateStyle(a,l)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,u)=>{let l=new Map([...this._backFill,...a]);l.forEach((f,p)=>{f===zl?e.add(p):f===Cn&&n.add(p)}),r||l.set("offset",u/this.duration),i.push(l)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return k_(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},E_=class extends Eh{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,u=new Map(e[0]);u.set("offset",0),s.push(u);let l=new Map(e[0]);l.set("offset",WS(a)),s.push(l);let f=e.length-1;for(let p=1;p<=f;p++){let y=new Map(e[p]),E=y.get("offset"),C=n+E*r;y.set("offset",WS(C/o)),s.push(y)}r=o,n=0,i="",e=s}return k_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function WS(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function i$(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,Cn)}else for(let[s,o]of i)n.set(s,o)}),n}function KS(t,e,n,r,i,s,o,a,u,l,f,p,y){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:f,totalTime:p,errors:y}}var u_={},Ih=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return s$(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,u,l,f){let p=[],y=this.ast.options&&this.ast.options.params||u_,E=a&&a.params||u_,C=this.buildStyles(r,E,p),M=u&&u.params||u_,R=this.buildStyles(i,M,p),F=new Set,B=new Map,j=new Map,K=i==="void",Ne={params:lA(M,y),delay:this.ast.options?.delay},ne=f?[]:uA(e,n,this.ast.animation,s,o,C,R,Ne,l,p),w=0;return ne.forEach(g=>{w=Math.max(g.duration+g.delay,w)}),p.length?KS(n,this._triggerName,r,i,K,C,R,[],[],B,j,w,p):(ne.forEach(g=>{let v=g.element,I=qt(B,v,new Set);g.preStyleProps.forEach(S=>I.add(S));let b=qt(j,v,new Set);g.postStyleProps.forEach(S=>b.add(S)),v!==n&&F.add(v)}),KS(n,this._triggerName,r,i,K,C,R,ne,[...F.values()],B,j,w))}};function s$(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function lA(t,e){let n=L({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var I_=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=lA(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Mc(o,i,n));let u=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,u,o,n),r.set(a,o)})}),r}};function o$(t,e,n){return new D_(t,e,n)}var D_=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new I_(i.style,s,r))}),QS(this.states,"true","1"),QS(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Ih(e,i,this.states))}),this.fallbackTransition=a$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function a$(t,e,n){let r=[(o,a)=>!0],i={type:ie.Sequence,steps:[],options:null},s={type:ie.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ih(t,s,e)}function QS(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var c$=new Rc,b_=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=cA(this._driver,n,r,i);if(r.length)throw IB(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=tA(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=uA(this._driver,n,s,sA,f_,new Map,new Map,r,c$,i),o.forEach(f=>{let p=qt(a,f.element,new Map);f.postStyleProps.forEach(y=>p.set(y,null))})):(i.push(DB()),o=[]),i.length)throw bB(i);a.forEach((f,p)=>{f.forEach((y,E)=>{f.set(E,this._driver.computeStyle(p,E,Cn))})});let u=o.map(f=>{let p=a.get(f.element);return this._buildPlayer(f,new Map,p)}),l=ei(u);return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw TB(e);return n}listen(e,n,r,i){let s=R_(n,"","","");return M_(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},YS="ng-animate-queued",u$=".ng-animate-queued",l_="ng-animate-disabled",l$=".ng-animate-disabled",d$="ng-star-inserted",h$=".ng-star-inserted",f$=[],dA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},hn="__ng_removed",Nc=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=g$(i),r){let s=e,{value:o}=s,a=jw(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},Ac="void",d_=new Nc(Ac),T_=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,nn(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw CB(r,n);if(r==null||r.length==0)throw SB(n);if(!y$(r))throw AB(r,n);let s=qt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=qt(this._engine.statesByElement,e,new Map);return a.has(n)||(nn(e,dh),nn(e,dh+"-"+n),a.set(n,d_)),()=>{this._engine.afterFlush(()=>{let u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw MB(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Pc(this.id,n,e),a=this._engine.statesByElement.get(e);a||(nn(e,dh),nn(e,dh+"-"+n),this._engine.statesByElement.set(e,a=new Map));let u=a.get(n),l=new Nc(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(n,l),u||(u=d_),!(l.value===Ac)&&u.value===l.value){if(!w$(u.params,l.params)){let M=[],R=s.matchStyles(u.value,u.params,M),F=s.matchStyles(l.value,l.params,M);M.length?this._engine.reportError(M):this._engine.afterFlush(()=>{es(e,R),Ln(e,F)})}return}let y=qt(this._engine.playersByElement,e,[]);y.forEach(M=>{M.namespaceId==this.id&&M.triggerName==n&&M.queued&&M.destroy()});let E=s.matchTransition(u.value,l.value,e,l.params),C=!1;if(!E){if(!i)return;E=s.fallbackTransition,C=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:E,fromState:u,toState:l,player:o,isFallbackTransition:C}),C||(nn(e,YS),o.onStart(()=>{No(e,YS)})),o.onDone(()=>{let M=this.players.indexOf(o);M>=0&&this.players.splice(M,1);let R=this._engine.playersByElement.get(e);if(R){let F=R.indexOf(o);F>=0&&R.splice(F,1)}}),this.players.push(o),y.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,gh,!0);r.forEach(i=>{if(i[hn])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){let f=this.trigger(e,l,Ac,i);f&&a.push(f)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&ei(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let u=this._triggers.get(o).fallbackTransition,l=r.get(o)||d_,f=new Nc(Ac),p=new Pc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:f,player:p,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[hn];(!s||s===dA)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){nn(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let u=R_(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,M_(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},C_=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new T_(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let u=i.get(a);if(u){let l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(ph(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!ph(n))return;let s=n[hn];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),nn(e,l_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),No(e,l_))}removeNode(e,n,r){if(ph(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[hn]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return ph(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,gh,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,p_,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ei(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[hn];if(n&&n.setForRemoval){if(e[hn]=dA,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(l_)&&this.markElementAsDisabled(e,!1),this.driver.query(e,l$,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];nn(i,d$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?ei(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw RB(e)}_flushAnimations(e,n){let r=new Rc,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,f=new Set;this.disabledNodes.forEach(V=>{f.add(V);let U=this.driver.query(V,u$,!0);for(let $=0;$<U.length;$++)f.add(U[$])});let p=this.bodyNode,y=Array.from(this.statesByElement.keys()),E=XS(y,this.collectedEnterElements),C=new Map,M=0;E.forEach((V,U)=>{let $=sA+M++;C.set(U,$),V.forEach(ae=>nn(ae,$))});let R=[],F=new Set,B=new Set;for(let V=0;V<this.collectedLeaveElements.length;V++){let U=this.collectedLeaveElements[V],$=U[hn];$&&$.setForRemoval&&(R.push(U),F.add(U),$.hasAnimation?this.driver.query(U,h$,!0).forEach(ae=>F.add(ae)):B.add(U))}let j=new Map,K=XS(y,Array.from(F));K.forEach((V,U)=>{let $=f_+M++;j.set(U,$),V.forEach(ae=>nn(ae,$))}),e.push(()=>{E.forEach((V,U)=>{let $=C.get(U);V.forEach(ae=>No(ae,$))}),K.forEach((V,U)=>{let $=j.get(U);V.forEach(ae=>No(ae,$))}),R.forEach(V=>{this.processLeaveNode(V)})});let Ne=[],ne=[];for(let V=this._namespaceList.length-1;V>=0;V--)this._namespaceList[V].drainQueuedTransitions(n).forEach($=>{let ae=$.player,Fe=$.element;if(Ne.push(ae),this.collectedEnterElements.length){let Oe=Fe[hn];if(Oe&&Oe.setForMove){if(Oe.previousTriggersValues&&Oe.previousTriggersValues.has($.triggerName)){let Vn=Oe.previousTriggersValues.get($.triggerName),Ct=this.statesByElement.get($.element);if(Ct&&Ct.has($.triggerName)){let Un=Ct.get($.triggerName);Un.value=Vn,Ct.set($.triggerName,Un)}}ae.destroy();return}}let Gt=!p||!this.driver.containsElement(p,Fe),xe=j.get(Fe),Ce=C.get(Fe),Se=this._buildInstruction($,r,Ce,xe,Gt);if(Se.errors&&Se.errors.length){ne.push(Se);return}if(Gt){ae.onStart(()=>es(Fe,Se.fromStyles)),ae.onDestroy(()=>Ln(Fe,Se.toStyles)),i.push(ae);return}if($.isFallbackTransition){ae.onStart(()=>es(Fe,Se.fromStyles)),ae.onDestroy(()=>Ln(Fe,Se.toStyles)),i.push(ae);return}let fr=[];Se.timelines.forEach(Oe=>{Oe.stretchStartingKeyframe=!0,this.disabledNodes.has(Oe.element)||fr.push(Oe)}),Se.timelines=fr,r.append(Fe,Se.timelines);let Sh={instruction:Se,player:ae,element:Fe};o.push(Sh),Se.queriedElements.forEach(Oe=>qt(a,Oe,[]).push(ae)),Se.preStyleProps.forEach((Oe,Vn)=>{if(Oe.size){let Ct=u.get(Vn);Ct||u.set(Vn,Ct=new Set),Oe.forEach((Un,pr)=>Ct.add(pr))}}),Se.postStyleProps.forEach((Oe,Vn)=>{let Ct=l.get(Vn);Ct||l.set(Vn,Ct=new Set),Oe.forEach((Un,pr)=>Ct.add(pr))})});if(ne.length){let V=[];ne.forEach(U=>{V.push(NB(U.triggerName,U.errors))}),Ne.forEach(U=>U.destroy()),this.reportError(V)}let w=new Map,g=new Map;o.forEach(V=>{let U=V.element;r.has(U)&&(g.set(U,U),this._beforeAnimationBuild(V.player.namespaceId,V.instruction,w))}),i.forEach(V=>{let U=V.element;this._getPreviousPlayers(U,!1,V.namespaceId,V.triggerName,null).forEach(ae=>{qt(w,U,[]).push(ae),ae.destroy()})});let v=R.filter(V=>eA(V,u,l)),I=new Map;ZS(I,this.driver,B,l,Cn).forEach(V=>{eA(V,u,l)&&v.push(V)});let S=new Map;E.forEach((V,U)=>{ZS(S,this.driver,new Set(V),u,zl)}),v.forEach(V=>{let U=I.get(V),$=S.get(V);I.set(V,new Map([...U?.entries()??[],...$?.entries()??[]]))});let _=[],zt=[],hr={};o.forEach(V=>{let{element:U,player:$,instruction:ae}=V;if(r.has(U)){if(f.has(U)){$.onDestroy(()=>Ln(U,ae.toStyles)),$.disabled=!0,$.overrideTotalTime(ae.totalTime),i.push($);return}let Fe=hr;if(g.size>1){let xe=U,Ce=[];for(;xe=xe.parentNode;){let Se=g.get(xe);if(Se){Fe=Se;break}Ce.push(xe)}Ce.forEach(Se=>g.set(Se,Fe))}let Gt=this._buildAnimation($.namespaceId,ae,w,s,S,I);if($.setRealPlayer(Gt),Fe===hr)_.push($);else{let xe=this.playersByElement.get(Fe);xe&&xe.length&&($.parentPlayer=ei(xe)),i.push($)}}else es(U,ae.fromStyles),$.onDestroy(()=>Ln(U,ae.toStyles)),zt.push($),f.has(U)&&i.push($)}),zt.forEach(V=>{let U=s.get(V.element);if(U&&U.length){let $=ei(U);V.setRealPlayer($)}}),i.forEach(V=>{V.parentPlayer?V.syncPlayerEvents(V.parentPlayer):V.destroy()});for(let V=0;V<R.length;V++){let U=R[V],$=U[hn];if(No(U,f_),$&&$.hasAnimation)continue;let ae=[];if(a.size){let Gt=a.get(U);Gt&&Gt.length&&ae.push(...Gt);let xe=this.driver.query(U,p_,!0);for(let Ce=0;Ce<xe.length;Ce++){let Se=a.get(xe[Ce]);Se&&Se.length&&ae.push(...Se)}}let Fe=ae.filter(Gt=>!Gt.destroyed);Fe.length?v$(this,U,Fe):this.processLeaveNode(U)}return R.length=0,_.forEach(V=>{this.players.push(V),V.onDone(()=>{V.destroy();let U=this.players.indexOf(V);this.players.splice(U,1)}),V.play()}),_}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let u=!s||s==Ac;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let u of n.timelines){let l=u.element,f=l!==s,p=qt(r,l,[]);this._getPreviousPlayers(l,f,o,a,n.toState).forEach(E=>{let C=E.getRealPlayer();C.beforeDestroy&&C.beforeDestroy(),E.destroy(),p.push(E)})}es(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,u=n.element,l=[],f=new Set,p=new Set,y=n.timelines.map(C=>{let M=C.element;f.add(M);let R=M[hn];if(R&&R.removedBeforeQueried)return new Vr(C.duration,C.delay);let F=M!==u,B=_$((r.get(M)||f$).map(w=>w.getRealPlayer())).filter(w=>{let g=w;return g.element?g.element===M:!1}),j=s.get(M),K=o.get(M),Ne=tA(this._normalizer,C.keyframes,j,K),ne=this._buildPlayer(C,Ne,B);if(C.subTimeline&&i&&p.add(M),F){let w=new Pc(e,a,M);w.setRealPlayer(ne),l.push(w)}return ne});l.forEach(C=>{qt(this.playersByQueriedElement,C.element,[]).push(C),C.onDone(()=>m$(this.playersByQueriedElement,C.element,C))}),f.forEach(C=>nn(C,qS));let E=ei(y);return E.onDestroy(()=>{f.forEach(C=>No(C,qS)),Ln(u,n.toStyles)}),p.forEach(C=>{qt(i,C,[]).push(E)}),E}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Vr(e.duration,e.delay)}},Pc=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Vr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>M_(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){qt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function m$(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function g$(t){return t??null}function ph(t){return t&&t.nodeType===1}function y$(t){return t=="start"||t=="done"}function JS(t,e){let n=t.style.display;return t.style.display=e??"none",n}function ZS(t,e,n,r,i){let s=[];n.forEach(u=>s.push(JS(u)));let o=[];r.forEach((u,l)=>{let f=new Map;u.forEach(p=>{let y=e.computeStyle(l,p,i);f.set(p,y),(!y||y.length==0)&&(l[hn]=p$,o.push(l))}),t.set(l,f)});let a=0;return n.forEach(u=>JS(u,s[a++])),o}function XS(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let u=s.get(a);if(u)return u;let l=a.parentNode;return n.has(l)?u=l:i.has(l)?u=r:u=o(l),s.set(a,u),u}return e.forEach(a=>{let u=o(a);u!==r&&n.get(u).push(a)}),n}function nn(t,e){t.classList?.add(e)}function No(t,e){t.classList?.remove(e)}function v$(t,e,n){ei(n).onDone(()=>t.processLeaveNode(e))}function _$(t){let e=[];return hA(t,e),e}function hA(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof za?hA(r.players,e):e.push(r)}}function w$(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function eA(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var xo=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new C_(e.body,n,r,i),this._timelineEngine=new b_(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let u=[],l=[],f=cA(this._driver,s,u,l);if(u.length)throw wB(i,u);l.length&&void 0,a=o$(i,f,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=$S(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=$S(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function E$(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=h_(e[0]),e.length>1&&(r=h_(e[e.length-1]))):e instanceof Map&&(n=h_(e)),n||r?new S_(t,n,r):null}var Po=class Po{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Po.initialStylesByElement.get(e);i||Po.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Ln(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ln(this._element,this._initialStyles),this._endStyles&&(Ln(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Po.initialStylesByElement.delete(this._element),this._startStyles&&(es(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(es(this._element,this._endStyles),this._endStyles=null),Ln(this._element,this._initialStyles),this._state=3)}};Po.initialStylesByElement=new WeakMap;var S_=Po;function h_(t){let e=null;return t.forEach((n,r)=>{I$(r)&&(e=e||new Map,e.set(r,n))}),e}function I$(t){return t==="display"||t==="position"}var Dh=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:O_(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},bh=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return nA(e,n)}getParentElement(e){return N_(e)}query(e,n,r){return rA(e,n,r)}computeStyle(e,n,r){return O_(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",u={duration:r,delay:i,fill:a};s&&(u.easing=s);let l=new Map,f=o.filter(E=>E instanceof Dh);$B(r,i)&&f.forEach(E=>{E.currentSnapshot.forEach((C,M)=>l.set(M,C))});let p=UB(n).map(E=>new Map(E));p=HB(e,p,l);let y=E$(e,p);return new Dh(e,p,u,y)}};var mh="@",fA="@.disabled",Th=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==mh&&n==fA?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},A_=class extends Th{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==mh?n.charAt(1)=="."&&n==fA?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==mh){let i=D$(e),s=n.slice(1),o="";return s.charAt(0)!=mh&&([s,o]=b$(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let u=a._data||-1;this.factory.scheduleListenerCallback(u,r,a)})}return this.delegate.listen(e,n,r)}};function D$(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function b$(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Ch=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let l=this._rendererCache,f=l.get(i);if(!f){let p=()=>l.delete(i);f=new Th(r,i,this.engine,p),l.set(i,f)}return f}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=l=>{Array.isArray(l)?l.forEach(a):this.engine.registerTrigger(s,o,e,l.name,l)};return n.data.animation.forEach(a),new A_(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var C$=(()=>{let e=class e extends xo{constructor(r,i,s){super(r,i,s,k(Os,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(G(ht),G(ts),G(ns))},e.\u0275prov=H({token:e,factory:e.\u0275fac});let t=e;return t})();function S$(){return new vh}function A$(t,e,n){return new Ch(t,e,n)}var pA=[{provide:ns,useFactory:S$},{provide:xo,useClass:C$},{provide:_i,useFactory:A$,deps:[Dl,xo,ye]}],M$=[{provide:ts,useFactory:()=>new bh},{provide:Hp,useValue:"BrowserAnimations"},...pA],zK=[{provide:ts,useClass:P_},{provide:Hp,useValue:"NoopAnimations"},...pA];function mA(){return ma("NgEagerAnimations"),[...M$]}var gA={providers:[hT(jS),mA(),[GT(()=>WT(R$)),kS(()=>VS()),$C(()=>qC())]]},R$={apiKey:"AIzaSyD1FT0i72AQTaiNtV_8GFmNLD8WQCJaOBM",authDomain:"gamingroom-70020.firebaseapp.com",projectId:"gamingroom-70020",storageBucket:"gamingroom-70020.appspot.com",messagingSenderId:"583817949201",appId:"1:583817949201:web:3710db5ed9da1a5669c1b0"};function N$(t,e){t&1&&(Z(0,"li",4)(1,"a",7),_e(2,"Log in"),ee()())}function P$(t,e){t&1&&(Z(0,"li",4)(1,"a",8),_e(2,"Register"),ee()())}function x$(t,e){t&1&&(Z(0,"li",4)(1,"a",9),_e(2,"About me"),ee()())}function O$(t,e){t&1&&(Z(0,"li",4)(1,"a",9),_e(2,"About me"),ee()())}function k$(t,e){if(t&1){let n=pl();Z(0,"li",4)(1,"a",10),dt("click",function(){la(n);let i=In();return da(i.logout())}),_e(2,"Log out"),ee()()}}var yA=(()=>{let e=class e{constructor(r,i){this.authService=r,this.router=i,this.user=null}ngOnInit(){this.authService.currentUser.subscribe(r=>{this.user=r})}logout(){this.authService.signOut().then(()=>{this.router.navigate(["/log-in"])})}};e.\u0275fac=function(i){return new(i||e)(te(Wr),te(nt))},e.\u0275cmp=Mt({type:e,selectors:[["app-header"]],standalone:!0,features:[Pt],decls:14,vars:5,consts:[[1,"navbar"],[1,"container"],["routerLink","/home",1,"navbar-brand"],[1,"nav"],[1,"nav-item"],["routerLink","/home",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","/log-in",1,"nav-link"],["routerLink","/register",1,"nav-link"],["routerLink","/about-me",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(i,s){i&1&&(Z(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),_e(4,"GAMING ROOM"),ee(),Z(5,"ul",3)(6,"li",4)(7,"a",5),_e(8,"Home"),ee()(),Zn(9,N$,3,0,"li",6)(10,P$,3,0,"li",6)(11,x$,3,0,"li",6)(12,O$,3,0,"li",6)(13,k$,3,0,"li",6),ee()()()()),i&2&&(Ye(9),Dt("ngIf",!s.user),Ye(),Dt("ngIf",!s.user),Ye(),Dt("ngIf",!s.user),Ye(),Dt("ngIf",s.user),Ye(),Dt("ngIf",s.user))},dependencies:[Hl,lT,_a,Pr],styles:[".navbar[_ngcontent-%COMP%]{background-color:#00000080;padding:15px 0}.navbar-brand[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700}.nav-link[_ngcontent-%COMP%]{font-family:Arial,sans-serif;font-size:16px;font-weight:700;color:#e6d8d8}.nav-link[_ngcontent-%COMP%]:hover{color:#555}"]});let t=e;return t})();var vA=(()=>{let e=class e{constructor(){this.title="Gaming Room"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Mt({type:e,selectors:[["app-root"]],standalone:!0,features:[Pt],decls:4,vars:0,consts:[["autoplay","","muted","","loop","","id","video-bg"],["src","assets/atardecer.mp4","type","video/mp4"]],template:function(i,s){i&1&&(bt(0,"app-header"),Z(1,"video",0),bt(2,"source",1),ee(),bt(3,"router-outlet"))},dependencies:[tg,yA,Hl]});let t=e;return t})();Db(vA,gA).catch(t=>console.error(t));
